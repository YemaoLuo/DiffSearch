346e264539265e237ceaade6d1069675974bed7e
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55937
==================================================
Mark Emlyn
==================================================
Thu Jan 9 11:38:52 2014 +0000
==================================================
ContextName.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55937
Treat a context path of "/ROOT" as equivalent to "" (i.e. it is treated as the ROOT application).
Note that when deploying an application via the manager text interface to /ROOT, it was deployed as the ROOT application but reported that the deployment had failed. It now deploys it as the ROOT application and reports a successful deployment to the context path "/"

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1556788 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestContextName.java
index efd1dafa57..d8b8c1f8fe 100644
--- a/java/org/apache/catalina/util/ContextName.java
+++ b/java/org/apache/catalina/util/ContextName.java
@@ -96,8 +96,8 @@ public final class ContextName {
      * @param version   Context version to use
      */
     public ContextName(String path, String version) {
-        // Path should never be null or '/'
-        if (path == null || "/".equals(path)) {
+        // Path should never be null, '/' or '/ROOT'
+        if (path == null || "/".equals(path) || "/ROOT".equals(path)) {
             this.path = "";
         } else {
             this.path = path;

==================================================
