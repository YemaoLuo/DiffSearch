2cea9f903f7399d948fd782239ad11cea9942edb
==================================================
Fix NPE when starting async
==================================================
Mark Thomas
==================================================
Mon Dec 5 09:02:40 2016 +0000
==================================================
AbstractProcessor.java
Fix NPE when starting async

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1772607 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StreamProcessor.java
index 37a3ad3496..c01ae23e21 100644
--- a/java/org/apache/coyote/AbstractProcessor.java
+++ b/java/org/apache/coyote/AbstractProcessor.java
@@ -59,22 +59,12 @@ public abstract class AbstractProcessor extends AbstractProcessorLight implement
     private ErrorState errorState = ErrorState.NONE;
 
 
-    /**
-     * Used by HTTP/2.
-     * @param coyoteRequest The request
-     * @param coyoteResponse The response
-     */
-    protected AbstractProcessor(Request coyoteRequest, Response coyoteResponse) {
-        this(null, coyoteRequest, coyoteResponse);
-    }
-
-
     public AbstractProcessor(AbstractEndpoint<?> endpoint) {
         this(endpoint, new Request(), new Response());
     }
 
 
-    private AbstractProcessor(AbstractEndpoint<?> endpoint, Request coyoteRequest,
+    protected AbstractProcessor(AbstractEndpoint<?> endpoint, Request coyoteRequest,
             Response coyoteResponse) {
         this.endpoint = endpoint;
         asyncStateMachine = new AsyncStateMachine(this);

==================================================
