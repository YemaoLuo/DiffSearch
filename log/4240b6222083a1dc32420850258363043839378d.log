4240b6222083a1dc32420850258363043839378d
==================================================
Make sessions in the session Store visible via the Manager web application if showProxySessions is enabled
==================================================
Mark Emlyn
==================================================
Mon Sep 10 13:36:12 2012 +0000
==================================================
DistributedManager.java
Make sessions in the session Store visible via the Manager web application if showProxySessions is enabled

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1382832 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StoreManager.java
index bd9e76193b..561c488268 100644
--- a/java/org/apache/catalina/DistributedManager.java
+++ b/java/org/apache/catalina/DistributedManager.java
@@ -21,11 +21,17 @@ import java.util.Set;
 
 /**
  * Interface implemented by session managers that do not keep a complete copy
- * of all sessions on the local node but do know where every session is. The
- * BackupManager is an example of such a Manager. Sessions can be primary
- * (master copy on this node), backup (backup copy on this node) or proxy (only
- * the session ID on this node). The identity of the primary and backup nodes
- * are known for all sessions, including proxy sessions.
+ * of all sessions in memory but do know where every session is. The
+ * BackupManager is an example of such a Manager as are implementations of the
+ * StoreManager interface.
+ * <p>
+ * With the BackupManager, sessions can be primary (master copy on this node),
+ * backup (backup copy on this node) or proxy (only the session ID on this
+ * node). The identity of the primary and backup nodes are known for all
+ * sessions, including proxy sessions.
+ * <p>
+ * With StoreManager implementations, sessions can be primary (session is in
+ * memory) or proxy (session is in the Store).
  */
 public interface DistributedManager {
 

==================================================
PersistentManagerBase.java
index 363585ebbc..6f3777db98 100644
--- a/java/org/apache/catalina/session/LocalStrings.properties
+++ b/java/org/apache/catalina/session/LocalStrings.properties
@@ -69,4 +69,6 @@ persistentManager.tooManyActive=Too many active sessions, {0}, looking for idle
 persistentManager.swapTooManyActive=Swapping out session {0}, idle for {1} seconds too many sessions active
 persistentManager.swapIn=Swapping session {0} in from Store
 persistentManager.swapInException=Exception in the Store during swapIn: {0}
-persistentManager.swapInInvalid=Swapped session {0} is invalid
\ No newline at end of file
+persistentManager.swapInInvalid=Swapped session {0} is invalid
+persistentManager.storeKeysException=Unable to determine the list of session IDs for sessions in the session store, assuming that the store is empty
+persistentManager.storeSizeException=Unable to determine the number of sessions in the session store, assuming that the store is empty
\ No newline at end of file

==================================================
