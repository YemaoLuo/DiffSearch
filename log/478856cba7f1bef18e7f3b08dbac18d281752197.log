478856cba7f1bef18e7f3b08dbac18d281752197
==================================================
refactor the slow query report a bit
==================================================
Filip Hanik
==================================================
Wed Dec 10 23:38:13 2008 +0000
==================================================
ConnectionPool.java
refactor the slow query report a bit
also add the ability to remove a listener


git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725487 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SlowQueryReport.java
index 57caa818d7..00c9a57318 100644
--- a/modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java
+++ b/modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java
@@ -263,6 +263,10 @@ public class ConnectionPool {
         listeners.add(listener);
     }
     
+    public void removeCloseListener(CloseListener listener) {
+        listeners.remove(listener);
+    }
+    
     /**
      * Closes the pool and all disconnects all idle connections
      * Active connections will be closed upon the {@link java.sql.Connection#close close} method is called

==================================================
