a3755900220e62c9938b1bef0117ca594f533839
==================================================
* JULI FileHandler, AccessLogValve:
==================================================
Konstantin Kolinko
==================================================
Mon Jul 11 16:46:28 2011 +0000
==================================================
AccessLogValve.java
* JULI FileHandler, AccessLogValve:
Create a directory automatically when it is specified as a part of the file name, e.g. in the prefix attribute. Earlier this happened only if it was specified with the directory attribute.
* AccessLogValve:
Log a failure if access log file cannot be opened.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145237 13f79535-47bb-0310-9956-ffa450edef68



==================================================
FileHandler.java
index 751fa12801..9ee19cf767 100644
--- a/java/org/apache/catalina/valves/LocalStrings.properties
+++ b/java/org/apache/catalina/valves/LocalStrings.properties
@@ -22,7 +22,8 @@ cometConnectionManagerValve.event=Exception processing event
 cometConnectionManagerValve.listenerEvent=Exception processing session listener event
 
 # Access log valve
-accessLogValve.closeFail=Failed to close log file
+accessLogValve.openFail=Failed to open access log file [{0}]
+accessLogValve.closeFail=Failed to close access log file
 accessLogValve.openDirFail=Failed to create directory [{0}] for access logs
 accessLogValve.rotateFail=Failed to rotate access log
 accessLogValve.invalidLocale=Failed to set locale to [{0}]

==================================================
