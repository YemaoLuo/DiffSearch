fb6769d7307a4b20a516b2e0869f5ae5e6b3c660
==================================================
Protect from NPE in testcase.
==================================================
Remy Maucherat
==================================================
Mon Dec 17 18:46:37 2018 +0000
==================================================
DNSMembershipProvider.java
Protect from NPE in testcase.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1849121 13f79535-47bb-0310-9956-ffa450edef68



==================================================
KubernetesMembershipProvider.java
index ab454cf9b8..43d02f10f9 100644
--- a/java/org/apache/catalina/tribes/membership/cloud/DNSMembershipProvider.java
+++ b/java/org/apache/catalina/tribes/membership/cloud/DNSMembershipProvider.java
@@ -80,7 +80,7 @@ public class DNSMembershipProvider extends CloudMembershipProvider {
                 String ip = inetAddress.getHostAddress();
                 byte[] id = md5.digest(ip.getBytes());
                 // We found ourselves, ignore
-                if (localIp.equals(ip)) {
+                if (ip.equals(localIp)) {
                     // Update the UID on initial lookup
                     Member localMember = service.getLocalMember(false);
                     if (localMember.getUniqueId() == CloudMembershipService.INITIAL_ID && localMember instanceof MemberImpl) {

==================================================
