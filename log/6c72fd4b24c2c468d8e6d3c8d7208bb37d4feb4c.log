6c72fd4b24c2c468d8e6d3c8d7208bb37d4feb4c
==================================================
Tweak the refactoring
==================================================
Mark Emlyn
==================================================
Wed Sep 29 16:18:21 2010 +0000
==================================================
AbstractHttp11Processor.java
Tweak the refactoring

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002714 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11AprProcessor.java
index 397c1b3842..22be365193 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Processor.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Processor.java
@@ -25,6 +25,7 @@ import java.util.regex.PatternSyntaxException;
 
 import org.apache.catalina.core.AsyncContextImpl;
 import org.apache.coyote.ActionCode;
+import org.apache.coyote.ActionHook;
 import org.apache.coyote.Adapter;
 import org.apache.coyote.AsyncStateMachine;
 import org.apache.coyote.Processor;
@@ -50,7 +51,7 @@ import org.apache.tomcat.util.net.AbstractEndpoint;
 import org.apache.tomcat.util.net.AbstractEndpoint.Handler.SocketState;
 import org.apache.tomcat.util.res.StringManager;
 
-public abstract class AbstractHttp11Processor implements Processor {
+public abstract class AbstractHttp11Processor implements ActionHook, Processor {
 
     protected abstract Log getLog();
 
@@ -852,6 +853,7 @@ public abstract class AbstractHttp11Processor implements Processor {
      * @param actionCode Type of the action
      * @param param Action parameter
      */
+    @Override
     public final void action(ActionCode actionCode, Object param) {
         
         if (actionCode == ActionCode.COMMIT) {

==================================================
Http11NioProcessor.java
index ef1a6f4e0f..a0911af88b 100644
--- a/java/org/apache/coyote/http11/Http11AprProcessor.java
+++ b/java/org/apache/coyote/http11/Http11AprProcessor.java
@@ -26,7 +26,6 @@ import java.util.Locale;
 import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
-import org.apache.coyote.ActionHook;
 import org.apache.coyote.Request;
 import org.apache.coyote.RequestInfo;
 import org.apache.coyote.Response;
@@ -55,7 +54,7 @@ import org.apache.tomcat.util.net.SocketWrapper;
  *
  * @author Remy Maucherat
  */
-public class Http11AprProcessor extends AbstractHttp11Processor implements ActionHook {
+public class Http11AprProcessor extends AbstractHttp11Processor {
 
 
     private static final Log log = LogFactory.getLog(Http11AprProcessor.class);

==================================================
Http11Processor.java
index 39681db799..aff7b31012 100644
--- a/java/org/apache/coyote/http11/Http11NioProcessor.java
+++ b/java/org/apache/coyote/http11/Http11NioProcessor.java
@@ -24,7 +24,6 @@ import java.util.Locale;
 import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
-import org.apache.coyote.ActionHook;
 import org.apache.coyote.Request;
 import org.apache.coyote.RequestInfo;
 import org.apache.coyote.Response;
@@ -52,7 +51,7 @@ import org.apache.tomcat.util.net.SocketStatus;
  * @author Remy Maucherat
  * @author Filip Hanik
  */
-public class Http11NioProcessor extends AbstractHttp11Processor implements ActionHook {
+public class Http11NioProcessor extends AbstractHttp11Processor {
 
     private static final Log log = LogFactory.getLog(Http11NioProcessor.class);
     @Override

==================================================
