8cfd8918febb5bc6c8f2280472ff298402371c99
==================================================
Provide default implementation to reduce duplication
==================================================
Mark Thomas
==================================================
Fri Aug 12 07:47:44 2016 +0000
==================================================
AbstractProcessor.java
Provide default implementation to reduce duplication

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1756108 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AjpProcessor.java
index 3613cd6b51..31180f255d 100644
--- a/java/org/apache/coyote/AbstractProcessor.java
+++ b/java/org/apache/coyote/AbstractProcessor.java
@@ -589,7 +589,13 @@ public abstract class AbstractProcessor extends AbstractProcessorLight implement
     protected abstract void populateSslRequestAttributes();
 
 
-    protected abstract void sslReHandShake() ;
+    /**
+     * Processors that can perform a TLS re-handshake (e.g. HTTP/1.1) should
+     * override this method and implement the re-handshake.
+     */
+    protected void sslReHandShake() {
+        // NO-OP
+    }
 
 
     protected abstract boolean isRequestBodyFullyRead();

==================================================
StreamProcessor.java
index a7a8b1ddb2..d90b8b95f7 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -1269,13 +1269,6 @@ public class AjpProcessor extends AbstractProcessor {
     }
 
 
-    @Override
-    protected final void sslReHandShake() {
-        // NO-OP. Can't force a new SSL handshake with the client when using
-        // AJP as the reverse proxy controls that connection.
-    }
-
-
     @Override
     protected final boolean isRequestBodyFullyRead() {
         return endOfStream;

==================================================
