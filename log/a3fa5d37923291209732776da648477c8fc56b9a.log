a3fa5d37923291209732776da648477c8fc56b9a
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48131
==================================================
Mark Emlyn
==================================================
Thu Nov 5 00:46:07 2009 +0000
==================================================
ServletContext.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48131
Patch provided by sebb

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832938 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ServletRequest.java
index 25eb16290d..8a7319de48 100644
--- a/java/javax/servlet/ServletContext.java
+++ b/java/javax/servlet/ServletContext.java
@@ -357,6 +357,7 @@ public interface ServletContext {
      *
      */
 
+    @Deprecated
     public Servlet getServlet(String name) throws ServletException;
     
   
@@ -377,6 +378,7 @@ public interface ServletContext {
      *
      */
     
+    @Deprecated
     public Enumeration<Servlet> getServlets();
     
     
@@ -396,6 +398,7 @@ public interface ServletContext {
      *
      */
  
+    @Deprecated
     public Enumeration<String> getServletNames();
     
   
@@ -431,6 +434,7 @@ public interface ServletContext {
      *
      */
 
+    @Deprecated
     public void log(Exception exception, String msg);
     
     

==================================================
ServletRequestWrapper.java
index 70932f2809..01c04ebece 100644
--- a/java/javax/servlet/ServletRequest.java
+++ b/java/javax/servlet/ServletRequest.java
@@ -546,6 +546,7 @@ public interface ServletRequest {
      *
      */
 
+    @Deprecated
     public String getRealPath(String path);
     
     

==================================================
SingleThreadModel.java
index a6c2b78dd2..1c32465b68 100644
--- a/java/javax/servlet/ServletRequestWrapper.java
+++ b/java/javax/servlet/ServletRequestWrapper.java
@@ -352,6 +352,7 @@ public class ServletRequestWrapper implements ServletRequest {
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
 
+    @Deprecated
     public String getRealPath(String path) {
 	return this.request.getRealPath(path);
     }

==================================================
UnavailableException.java
index 38bb586c19..06051f0af9 100644
--- a/java/javax/servlet/SingleThreadModel.java
+++ b/java/javax/servlet/SingleThreadModel.java
@@ -45,6 +45,7 @@ package javax.servlet;
  *	replacement.
  */
 
+@Deprecated
 public interface SingleThreadModel {
     // No methods
 }

==================================================
HttpServletRequest.java
index dde2dea8a4..eb0d3f0099 100644
--- a/java/javax/servlet/UnavailableException.java
+++ b/java/javax/servlet/UnavailableException.java
@@ -68,6 +68,7 @@ extends ServletException {
      *
      */
 
+    @Deprecated
     public UnavailableException(Servlet servlet, String msg) {
 	super(msg);
 	this.servlet = servlet;
@@ -91,6 +92,7 @@ extends ServletException {
      *
      */
     
+    @Deprecated
     public UnavailableException(int seconds, Servlet servlet, String msg) {
 	super(msg);
 	this.servlet = servlet;
@@ -179,6 +181,7 @@ extends ServletException {
      *
      */
      
+    @Deprecated
     public Servlet getServlet() {
 	return servlet;
     }

==================================================
HttpServletRequestWrapper.java
index 194f85a5e8..2589b8ff66 100644
--- a/java/javax/servlet/http/HttpServletRequest.java
+++ b/java/javax/servlet/http/HttpServletRequest.java
@@ -658,6 +658,7 @@ public interface HttpServletRequest extends ServletRequest {
      *
      */
 
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl();
 
 

==================================================
HttpServletResponse.java
index 98921de814..832fd5d13e 100644
--- a/java/javax/servlet/http/HttpServletRequestWrapper.java
+++ b/java/javax/servlet/http/HttpServletRequestWrapper.java
@@ -259,6 +259,7 @@ public class HttpServletRequestWrapper extends ServletRequestWrapper implements
      * on the wrapped request object.
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl() {
 	return this._getHttpServletRequest().isRequestedSessionIdFromUrl();
     }

==================================================
HttpServletResponseWrapper.java
index 9a14dc2226..3695631d96 100644
--- a/java/javax/servlet/http/HttpServletResponse.java
+++ b/java/javax/servlet/http/HttpServletResponse.java
@@ -118,6 +118,7 @@ public interface HttpServletResponse extends ServletResponse {
      * 			the unchanged URL otherwise.
      */
 
+    @Deprecated
     public String encodeUrl(String url);
     
     /**
@@ -129,6 +130,7 @@ public interface HttpServletResponse extends ServletResponse {
      * 			the unchanged URL otherwise.
      */
 
+    @Deprecated
     public String encodeRedirectUrl(String url);
 
     /**
@@ -320,6 +322,7 @@ public interface HttpServletResponse extends ServletResponse {
      * @param	sm	the status message
      */
 
+    @Deprecated
     public void setStatus(int sc, String sm);
 
     

==================================================
HttpSession.java
index 285f5612c5..b3a1942dbf 100644
--- a/java/javax/servlet/http/HttpServletResponseWrapper.java
+++ b/java/javax/servlet/http/HttpServletResponseWrapper.java
@@ -90,6 +90,7 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper implement
      * on the wrapped response object.
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
+    @Deprecated
     public String encodeUrl(String url) {
 	return this._getHttpServletResponse().encodeUrl(url);
     }
@@ -99,6 +100,7 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper implement
      * on the wrapped response object.
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
+    @Deprecated
     public String encodeRedirectUrl(String url) {
 	return this._getHttpServletResponse().encodeRedirectUrl(url);
     }
@@ -192,7 +194,8 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper implement
      * on the wrapped response object.
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
-     public void setStatus(int sc, String sm) {
+     @Deprecated
+    public void setStatus(int sc, String sm) {
 	this._getHttpServletResponse().setStatus(sc, sm);
     }
 

==================================================
HttpSessionContext.java
index 08a5bc0df0..5355134257 100644
--- a/java/javax/servlet/http/HttpSession.java
+++ b/java/javax/servlet/http/HttpSession.java
@@ -199,6 +199,7 @@ public interface HttpSession {
     *
     */
 
+    @Deprecated
     public HttpSessionContext getSessionContext();
     
     
@@ -237,6 +238,7 @@ public interface HttpSession {
      *
      */
   
+    @Deprecated
     public Object getValue(String name);
     
     
@@ -277,6 +279,7 @@ public interface HttpSession {
      *
      */
     
+    @Deprecated
     public String[] getValueNames();
     
     
@@ -333,6 +336,7 @@ public interface HttpSession {
      *
      */
  
+    @Deprecated
     public void putValue(String name, Object value);
 
 
@@ -379,6 +383,7 @@ public interface HttpSession {
      *					invalidated session
      */
 
+    @Deprecated
     public void removeValue(String name);
 
 

==================================================
HttpUtils.java
index 674f169f29..405a4a913d 100644
--- a/java/javax/servlet/http/HttpSessionContext.java
+++ b/java/javax/servlet/http/HttpSessionContext.java
@@ -37,6 +37,7 @@ import java.util.Enumeration;
  */
 
 
+@Deprecated
 public interface HttpSessionContext {
 
     /**
@@ -48,6 +49,7 @@ public interface HttpSessionContext {
      *
      */
 
+    @Deprecated
     public HttpSession getSession(String sessionId);
     
     
@@ -62,6 +64,7 @@ public interface HttpSessionContext {
      *
      */
 
+    @Deprecated
     public Enumeration<String> getIds();
 }
 

==================================================
JspException.java
index 68c63ac213..9af1192447 100644
--- a/java/javax/servlet/http/HttpUtils.java
+++ b/java/javax/servlet/http/HttpUtils.java
@@ -32,6 +32,7 @@ import java.io.IOException;
 */
 
 
+@Deprecated
 public class HttpUtils {
 
     private static final String LSTRING_FILE =

==================================================
ELException.java
index 61ef15d485..80cfb777dc 100644
--- a/java/javax/servlet/jsp/JspException.java
+++ b/java/javax/servlet/jsp/JspException.java
@@ -93,6 +93,7 @@ public class JspException extends Exception {
      * @return  the <code>Throwable</code> that caused this JSP exception
      */
     
+    @Deprecated
     public Throwable getRootCause() {
         return getCause();
     }

==================================================
ELParseException.java
index 4989165a2a..b0e23ec60e 100644
--- a/java/javax/servlet/jsp/el/ELException.java
+++ b/java/javax/servlet/jsp/el/ELException.java
@@ -24,6 +24,7 @@ package javax.servlet.jsp.el;
  * @since 2.0
  * @deprecated
  */
+@Deprecated
 public class ELException extends Exception {
 
     /**

==================================================
Expression.java
index e2c4ac04f8..898d0cfd97 100644
--- a/java/javax/servlet/jsp/el/ELParseException.java
+++ b/java/javax/servlet/jsp/el/ELParseException.java
@@ -25,6 +25,7 @@ package javax.servlet.jsp.el;
  * @deprecated
  */
 
+@Deprecated
 public class ELParseException extends ELException {
 
  //-------------------------------------

==================================================
ExpressionEvaluator.java
index bd2ba574fe..ee6647720c 100644
--- a/java/javax/servlet/jsp/el/Expression.java
+++ b/java/javax/servlet/jsp/el/Expression.java
@@ -32,6 +32,7 @@ package javax.servlet.jsp.el;
  * @since 2.0
  * @deprecated
  */
+@Deprecated
 public abstract class Expression {
 
     /** 

==================================================
FunctionMapper.java
index 44fec8e613..8b827c71d7 100644
--- a/java/javax/servlet/jsp/el/ExpressionEvaluator.java
+++ b/java/javax/servlet/jsp/el/ExpressionEvaluator.java
@@ -53,6 +53,7 @@ package javax.servlet.jsp.el;
  * @since 2.0
  * @deprecated
  */
+@Deprecated
 public abstract class ExpressionEvaluator {
 
     /**

==================================================
VariableResolver.java
index a8568c3149..4d83394ddd 100644
--- a/java/javax/servlet/jsp/el/FunctionMapper.java
+++ b/java/javax/servlet/jsp/el/FunctionMapper.java
@@ -26,6 +26,7 @@ package javax.servlet.jsp.el;
  * @since 2.0
  * @deprecated
  */
+@Deprecated
 public interface FunctionMapper {
   /**
    * Resolves the specified local name and prefix into a Java.lang.Method.

==================================================
BodyTag.java
index 6313331a5d..40df675d39 100644
--- a/java/javax/servlet/jsp/el/VariableResolver.java
+++ b/java/javax/servlet/jsp/el/VariableResolver.java
@@ -31,6 +31,7 @@ package javax.servlet.jsp.el;
  * @since 2.0
  * @deprecated
  */
+@Deprecated
 public interface VariableResolver
 {
   //-------------------------------------

==================================================
Cluster.java
index 7253d20af6..35749bffeb 100644
--- a/java/javax/servlet/jsp/tagext/BodyTag.java
+++ b/java/javax/servlet/jsp/tagext/BodyTag.java
@@ -123,6 +123,7 @@ public interface BodyTag extends IterationTag {
      * or IterationTag.EVAL_BODY_AGAIN.
      */
  
+    @Deprecated
     public final static int EVAL_BODY_TAG = 2;
 
     /**

==================================================
Manager.java
index 20c37730ef..13e879fe98 100644
--- a/java/org/apache/catalina/Cluster.java
+++ b/java/org/apache/catalina/Cluster.java
@@ -79,6 +79,7 @@ public interface Cluster {
      * @param protocol The protocol used by the cluster
      * @deprecated
      */
+    @Deprecated
     public void setProtocol(String protocol);
 
     /**
@@ -87,6 +88,7 @@ public interface Cluster {
      * @return The protocol
      * @deprecated
      */
+    @Deprecated
     public String getProtocol();
 
     // --------------------------------------------------------- Public Methods

==================================================
Request.java
index 8c214ca832..36e170dc23 100644
--- a/java/org/apache/catalina/Manager.java
+++ b/java/org/apache/catalina/Manager.java
@@ -278,6 +278,7 @@ public interface Manager {
      *  instantiated for any reason
      * @deprecated
      */
+    @Deprecated
     public Session createSession();
 
 

==================================================
Response.java
index 2293dae263..b58f4ac0f8 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -1156,6 +1156,7 @@ public class Request
      * @deprecated As of version 2.1 of the Java Servlet API, use
      *  <code>ServletContext.getRealPath()</code>.
      */
+    @Deprecated
     public String getRealPath(String path) {
 
         if (context == null)
@@ -2143,6 +2144,7 @@ public class Request
      * @deprecated As of Version 2.1 of the Java Servlet API, use
      *  <code>isRequestedSessionIdFromURL()</code> instead.
      */
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl() {
         return (isRequestedSessionIdFromURL());
     }

==================================================
ApplicationContext.java
index 0f4b90fdc1..71bbdfe85c 100644
--- a/java/org/apache/catalina/connector/Response.java
+++ b/java/org/apache/catalina/connector/Response.java
@@ -1130,6 +1130,7 @@ public class Response
      * @deprecated As of Version 2.1 of the Java Servlet API, use
      *  <code>encodeRedirectURL()</code> instead.
      */
+    @Deprecated
     public String encodeRedirectUrl(String url) {
         return (encodeRedirectURL(url));
     }
@@ -1166,6 +1167,7 @@ public class Response
      * @deprecated As of Version 2.1 of the Java Servlet API, use
      *  <code>encodeURL()</code> instead.
      */
+    @Deprecated
     public String encodeUrl(String url) {
         return (encodeURL(url));
     }
@@ -1384,6 +1386,7 @@ public class Response
      *  has been deprecated due to the ambiguous meaning of the message
      *  parameter.
      */
+    @Deprecated
     public void setStatus(int status, String message) {
 
         if (isCommitted())

==================================================
ApplicationContextFacade.java
index 3eb3dce1cf..45499d670a 100644
--- a/java/org/apache/catalina/core/ApplicationContext.java
+++ b/java/org/apache/catalina/core/ApplicationContext.java
@@ -630,6 +630,7 @@ public class ApplicationContext
     /**
      * @deprecated As of Java Servlet API 2.1, with no direct replacement.
      */
+    @Deprecated
     public Servlet getServlet(String name) {
 
         return (null);
@@ -650,6 +651,7 @@ public class ApplicationContext
     /**
      * @deprecated As of Java Servlet API 2.1, with no direct replacement.
      */
+    @Deprecated
     public Enumeration<String> getServletNames() {
         return (new Enumerator<String>(emptyString));
     }
@@ -658,6 +660,7 @@ public class ApplicationContext
     /**
      * @deprecated As of Java Servlet API 2.1, with no direct replacement.
      */
+    @Deprecated
     public Enumeration<Servlet> getServlets() {
         return (new Enumerator<Servlet>(emptyServlet));
     }
@@ -684,6 +687,7 @@ public class ApplicationContext
      * @deprecated As of Java Servlet API 2.1, use
      *  <code>log(String, Throwable)</code> instead
      */
+    @Deprecated
     public void log(Exception exception, String message) {
         
         context.getLogger().error(message, exception);

==================================================
ApplicationHttpResponse.java
index 52b998d46a..84904ab5e8 100644
--- a/java/org/apache/catalina/core/ApplicationContextFacade.java
+++ b/java/org/apache/catalina/core/ApplicationContextFacade.java
@@ -224,6 +224,7 @@ public final class ApplicationContextFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public Servlet getServlet(String name)
         throws ServletException {
         if (SecurityUtil.isPackageProtectionEnabled()) {
@@ -245,6 +246,7 @@ public final class ApplicationContextFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public Enumeration<Servlet> getServlets() {
         if (SecurityUtil.isPackageProtectionEnabled()) {
             return (Enumeration<Servlet>) doPrivileged("getServlets", null);
@@ -257,6 +259,7 @@ public final class ApplicationContextFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public Enumeration<String> getServletNames() {
         if (SecurityUtil.isPackageProtectionEnabled()) {
             return (Enumeration<String>) doPrivileged("getServletNames", null);
@@ -278,6 +281,7 @@ public final class ApplicationContextFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public void log(Exception exception, String msg) {
         if (SecurityUtil.isPackageProtectionEnabled()) {
             doPrivileged("log", new Class[]{Exception.class, String.class}, 

==================================================
DummyRequest.java
index ffbe2d7d6e..3a8c48543e 100644
--- a/java/org/apache/catalina/core/ApplicationHttpResponse.java
+++ b/java/org/apache/catalina/core/ApplicationHttpResponse.java
@@ -337,6 +337,7 @@ class ApplicationHttpResponse extends HttpServletResponseWrapper {
      * @param msg The new message
      * @deprecated
      */
+    @Deprecated
     public void setStatus(int sc, String msg) {
 
         if (!included)

==================================================
DummyResponse.java
index 3c32ec47c2..bf5802f180 100644
--- a/java/org/apache/catalina/core/DummyRequest.java
+++ b/java/org/apache/catalina/core/DummyRequest.java
@@ -215,6 +215,7 @@ public class DummyRequest
     public String getProtocol() { return null; }
     public BufferedReader getReader() throws IOException { return null; }
     /** @deprecated */
+    @Deprecated
     public String getRealPath(String path) { return null; }
     public String getRemoteAddr() { return null; }
     public String getRemoteHost() { return null; }
@@ -274,6 +275,7 @@ public class DummyRequest
     public boolean isRequestedSessionIdFromCookie() { return false; }
     public boolean isRequestedSessionIdFromURL() { return false; }
     /** @deprecated */
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl() { return false; }
     public boolean isRequestedSessionIdValid() { return false; }
     public boolean isUserInRole(String role) { return false; }

==================================================
DeltaSession.java
index 0d3d620137..9f87bdb5e9 100644
--- a/java/org/apache/catalina/core/DummyResponse.java
+++ b/java/org/apache/catalina/core/DummyResponse.java
@@ -117,9 +117,11 @@ public class DummyResponse
     public boolean containsHeader(String name) { return false; }
     public String encodeRedirectURL(String url) { return null; }
     /** @deprecated */
+    @Deprecated
     public String encodeRedirectUrl(String url) { return null; }
     public String encodeURL(String url) { return null; }
     /** @deprecated */
+    @Deprecated
     public String encodeUrl(String url) { return null; }
     public void sendAcknowledgement() throws IOException {}
     public void sendError(int status) throws IOException {}
@@ -130,6 +132,7 @@ public class DummyResponse
     public void setIntHeader(String name, int value) {}
     public void setStatus(int status) {}
     /** @deprecated */
+    @Deprecated
     public void setStatus(int status, String message) {}
     public Collection<String> getHeaders(String name) { return null; }
 }

==================================================
SimpleTcpCluster.java
index f84859f11e..6643707981 100644
--- a/java/org/apache/catalina/ha/session/DeltaSession.java
+++ b/java/org/apache/catalina/ha/session/DeltaSession.java
@@ -805,6 +805,7 @@ public class DeltaSession extends StandardSession implements Externalizable,Clus
  *             will be removed in a future version of this API.
  */
 
+@Deprecated
 final class StandardSessionContext
     implements HttpSessionContext {
 
@@ -818,6 +819,7 @@ final class StandardSessionContext
      *             must return an empty <code>Enumeration</code> and will be
      *             removed in a future version of the API.
      */
+    @Deprecated
     public Enumeration<String> getIds() {
         return (new Enumerator<String>(dummy));
     }
@@ -833,6 +835,7 @@ final class StandardSessionContext
      *             must return null and will be removed in a future version of
      *             the API.
      */
+    @Deprecated
     public HttpSession getSession(String id) {
         return (null);
     }

==================================================
JAASRealm.java
index 40c91a1b07..423267ad84 100644
--- a/java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java
+++ b/java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java
@@ -281,6 +281,7 @@ public class SimpleTcpCluster
      * @deprecated use getManagerTemplate().getClass().getName() instead.
      * @return String
      */
+    @Deprecated
     public String getManagerClassName() {
         return managerTemplate.getClass().getName();
     }
@@ -289,6 +290,7 @@ public class SimpleTcpCluster
      * @deprecated use nested &lt;Manager&gt; element inside the cluster config instead.
      * @param managerClassName String
      */
+    @Deprecated
     public void setManagerClassName(String managerClassName) {
         log.warn("setManagerClassName is deprecated, use nested <Manager> element inside the <Cluster> element instead, this request will be ignored.");
     }

==================================================
ManagerBase.java
index defa7f6fe3..d75de1dd84 100644
--- a/java/org/apache/catalina/realm/JAASRealm.java
+++ b/java/org/apache/catalina/realm/JAASRealm.java
@@ -187,6 +187,7 @@ public class JAASRealm
      * setter for the <code>appName</code> member variable
      * @deprecated JAAS should use the <code>Engine</code> (domain) name and webpp/host overrides
      */
+    @Deprecated
     public void setAppName(String name) {
         appName = name;
     }

==================================================
StandardSession.java
index 53a3530662..11c252d89f 100644
--- a/java/org/apache/catalina/session/ManagerBase.java
+++ b/java/org/apache/catalina/session/ManagerBase.java
@@ -783,6 +783,7 @@ public abstract class ManagerBase implements Manager, MBeanRegistration {
      *  instantiated for any reason
      * @deprecated
      */
+    @Deprecated
     public Session createSession() {
         return createSession(null);
     }

==================================================
StandardSessionFacade.java
index 1d00ec7051..22ec479adc 100644
--- a/java/org/apache/catalina/session/StandardSession.java
+++ b/java/org/apache/catalina/session/StandardSession.java
@@ -1034,6 +1034,7 @@ public class StandardSession
      *  replacement.  It will be removed in a future version of the
      *  Java Servlet API.
      */
+    @Deprecated
     public HttpSessionContext getSessionContext() {
 
         if (sessionContext == null)
@@ -1098,6 +1099,7 @@ public class StandardSession
      * @deprecated As of Version 2.2, this method is replaced by
      *  <code>getAttribute()</code>
      */
+    @Deprecated
     public Object getValue(String name) {
 
         return (getAttribute(name));
@@ -1115,6 +1117,7 @@ public class StandardSession
      * @deprecated As of Version 2.2, this method is replaced by
      *  <code>getAttributeNames()</code>
      */
+    @Deprecated
     public String[] getValueNames() {
 
         if (!isValidInternal())
@@ -1184,6 +1187,7 @@ public class StandardSession
      * @deprecated As of Version 2.2, this method is replaced by
      *  <code>setAttribute()</code>
      */
+    @Deprecated
     public void putValue(String name, Object value) {
 
         setAttribute(name, value);
@@ -1257,6 +1261,7 @@ public class StandardSession
      * @deprecated As of Version 2.2, this method is replaced by
      *  <code>removeAttribute()</code>
      */
+    @Deprecated
     public void removeValue(String name) {
 
         removeAttribute(name);
@@ -1725,6 +1730,7 @@ public class StandardSession
  *  interface will be removed in a future version of this API.
  */
 
+@Deprecated
 final class StandardSessionContext implements HttpSessionContext {
 
 
@@ -1738,6 +1744,7 @@ final class StandardSessionContext implements HttpSessionContext {
      *  This method must return an empty <code>Enumeration</code>
      *  and will be removed in a future version of the API.
      */
+    @Deprecated
     public Enumeration<String> getIds() {
 
         return (new Enumerator<String>(dummy));
@@ -1755,6 +1762,7 @@ final class StandardSessionContext implements HttpSessionContext {
      *  This method must return null and will be removed in a
      *  future version of the API.
      */
+    @Deprecated
     public HttpSession getSession(String id) {
 
         return (null);

==================================================
Catalina.java
index 2d659c5619..1d52a7e957 100644
--- a/java/org/apache/catalina/session/StandardSessionFacade.java
+++ b/java/org/apache/catalina/session/StandardSessionFacade.java
@@ -104,6 +104,7 @@ public class StandardSessionFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public HttpSessionContext getSessionContext() {
         return session.getSessionContext();
     }
@@ -117,6 +118,7 @@ public class StandardSessionFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public Object getValue(String name) {
         return session.getAttribute(name);
     }
@@ -130,6 +132,7 @@ public class StandardSessionFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public String[] getValueNames() {
         return session.getValueNames();
     }
@@ -143,6 +146,7 @@ public class StandardSessionFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public void putValue(String name, Object value) {
         session.setAttribute(name, value);
     }
@@ -156,6 +160,7 @@ public class StandardSessionFacade
     /**
      * @deprecated
      */
+    @Deprecated
     public void removeValue(String name) {
         session.removeAttribute(name);
     }

==================================================
XByteBuffer.java
index 060726b129..dc9e7738bb 100644
--- a/java/org/apache/catalina/startup/Catalina.java
+++ b/java/org/apache/catalina/startup/Catalina.java
@@ -445,6 +445,7 @@ public class Catalina extends Embedded {
      * working directory if it has not been set.
      * @deprecated Use initDirs()
      */
+    @Deprecated
     public void setCatalinaBase() {
         initDirs();
     }
@@ -454,6 +455,7 @@ public class Catalina extends Embedded {
      * working directory if it has not been set.
      * @deprecated Use initDirs()
      */
+    @Deprecated
     public void setCatalinaHome() {
         initDirs();
     }

==================================================
McastService.java
index 4544bdf41d..fe29632766 100644
--- a/java/org/apache/catalina/tribes/io/XByteBuffer.java
+++ b/java/org/apache/catalina/tribes/io/XByteBuffer.java
@@ -428,6 +428,7 @@ public class XByteBuffer
      * @return - four bytes in an array
      * @deprecated use toBytes(boolean,byte[],int)
      */
+    @Deprecated
     public static byte[] toBytes(boolean bool) {
         byte[] b = new byte[1] ;
         return toBytes(bool,b,0);
@@ -455,6 +456,7 @@ public class XByteBuffer
      * @return - four bytes in an array
      * @deprecated use toBytes(int,byte[],int)
      */
+    @Deprecated
     public static byte[] toBytes(int n) {
         return toBytes(n,new byte[4],0);
     }
@@ -476,6 +478,7 @@ public class XByteBuffer
      * @return - eight bytes in an array
      * @deprecated use toBytes(long,byte[],int)
      */
+    @Deprecated
     public static byte[] toBytes(long n) {
         return toBytes(n,new byte[8],0);
     }

==================================================
ReceiverBase.java
index 5417b3e287..0f913b38f0 100644
--- a/java/org/apache/catalina/tribes/membership/McastService.java
+++ b/java/org/apache/catalina/tribes/membership/McastService.java
@@ -186,6 +186,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use setAddress
      * @param addr String
      */
+    @Deprecated
     public void setMcastAddr(String addr) {
         setAddress(addr);
     }
@@ -198,6 +199,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getAddress
      * @return String
      */
+    @Deprecated
     public String getMcastAddr() {
         return getAddress();
     }
@@ -213,6 +215,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getBind
      * @return String
      */
+    @Deprecated
     public String getMcastBindAddress() {
         return getBind();
     }
@@ -225,6 +228,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use setPort
      * @param port int
      */
+    @Deprecated
     public void setMcastPort(int port) {
         setPort(port);
     }
@@ -253,6 +257,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getPort()
      * @return int
      */
+    @Deprecated
     public int getMcastPort() {
         return getPort();
     }
@@ -265,6 +270,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use setFrequency
      * @param time long
      */
+    @Deprecated
     public void setMcastFrequency(long time) {
         setFrequency(time);
     }
@@ -277,6 +283,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getFrequency
      * @return long
      */
+    @Deprecated
     public long getMcastFrequency() {
         return getFrequency();
     }
@@ -297,6 +304,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getDropTime
      * @return long
      */
+    @Deprecated
     public long getMcastDropTime() {
         return getDropTime();
     }
@@ -527,6 +535,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getSoTimeout
      * @return int
      */
+    @Deprecated
     public int getMcastSoTimeout() {
         return getSoTimeout();
     }
@@ -539,6 +548,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use setSoTimeout
      * @param mcastSoTimeout int
      */
+    @Deprecated
     public void setMcastSoTimeout(int mcastSoTimeout) {
         setSoTimeout(mcastSoTimeout);
     }
@@ -552,6 +562,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use getTtl
      * @return int
      */
+    @Deprecated
     public int getMcastTTL() {
         return getTtl();
     }
@@ -572,6 +583,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
      * @deprecated use setTtl
      * @param mcastTTL int
      */
+    @Deprecated
     public void setMcastTTL(int mcastTTL) {
         setTtl(mcastTTL);
     }

==================================================
SimpleCharStream.java
index 2772fb3688..5e2c65397e 100644
--- a/java/org/apache/catalina/tribes/transport/ReceiverBase.java
+++ b/java/org/apache/catalina/tribes/transport/ReceiverBase.java
@@ -132,6 +132,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use getMinThreads()/getMaxThreads()
      * @return int
      */
+    @Deprecated
     public int getTcpThreadCount() {
         return getMaxThreads();
     }
@@ -150,6 +151,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use setPort
      * @param tcpListenPort int
      */
+    @Deprecated
     public void setTcpListenPort(int tcpListenPort) {
         setPort(tcpListenPort);
     }
@@ -158,6 +160,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use setAddress
      * @param tcpListenHost String
      */
+    @Deprecated
     public void setTcpListenAddress(String tcpListenHost) {
         setAddress(tcpListenHost);
     }
@@ -174,6 +177,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use setMaxThreads/setMinThreads
      * @param tcpThreadCount int
      */
+    @Deprecated
     public void setTcpThreadCount(int tcpThreadCount) {
         setMaxThreads(tcpThreadCount);
         setMinThreads(tcpThreadCount);
@@ -285,6 +289,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use getPort
      * @return int
      */
+    @Deprecated
     public int getTcpListenPort() {
         return getPort();
     }
@@ -317,6 +322,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use getSelectorTimeout
      * @return long
      */
+    @Deprecated
     public long getTcpSelectorTimeout() {
         return getSelectorTimeout();
     }
@@ -337,6 +343,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use getAddress
      * @return String
      */
+    @Deprecated
     public String getTcpListenAddress() {
         return getAddress();
     }
@@ -414,6 +421,7 @@ public abstract class ReceiverBase implements ChannelReceiver, ListenCallback, R
      * @deprecated use setSelectorTimeout
      * @param selTimeout long
      */
+    @Deprecated
     public void setTcpSelectorTimeout(long selTimeout) {
         setSelectorTimeout(selTimeout);
     }

==================================================
JspCServletContext.java
index 13205e7894..7e2202b40e 100644
--- a/java/org/apache/el/parser/SimpleCharStream.java
+++ b/java/org/apache/el/parser/SimpleCharStream.java
@@ -208,7 +208,8 @@ public class SimpleCharStream
    * @see #getEndColumn
    */
 
-  public int getColumn() {
+  @Deprecated
+public int getColumn() {
      return bufcolumn[bufpos];
   }
 
@@ -217,7 +218,8 @@ public class SimpleCharStream
    * @see #getEndLine
    */
 
-  public int getLine() {
+  @Deprecated
+public int getLine() {
      return bufline[bufpos];
   }
 

==================================================
ResourceAttributes.java
index 2c85115c2a..6951a4a5dc 100644
--- a/java/org/apache/jasper/servlet/JspCServletContext.java
+++ b/java/org/apache/jasper/servlet/JspCServletContext.java
@@ -340,6 +340,7 @@ public class JspCServletContext implements ServletContext {
      *
      * @deprecated This method has been deprecated with no replacement
      */
+    @Deprecated
     public Servlet getServlet(String name) throws ServletException {
 
         return (null);
@@ -362,6 +363,7 @@ public class JspCServletContext implements ServletContext {
      *
      * @deprecated This method has been deprecated with no replacement
      */
+    @Deprecated
     public Enumeration<String> getServletNames() {
 
         return (new Vector<String>().elements());
@@ -374,6 +376,7 @@ public class JspCServletContext implements ServletContext {
      *
      * @deprecated This method has been deprecated with no replacement
      */
+    @Deprecated
     public Enumeration<Servlet> getServlets() {
 
         return (new Vector<Servlet>().elements());
@@ -401,6 +404,7 @@ public class JspCServletContext implements ServletContext {
      *
      * @deprecated Use log(String,Throwable) instead
      */
+    @Deprecated
     public void log(Exception exception, String message) {
 
         log(message, exception);

==================================================
Rule.java
index 93cac16aa8..649d24704c 100644
--- a/java/org/apache/naming/resources/ResourceAttributes.java
+++ b/java/org/apache/naming/resources/ResourceAttributes.java
@@ -522,6 +522,7 @@ public class ResourceAttributes implements Attributes {
      * @param lastModified New last modified date value
      * @deprecated
      */
+    @Deprecated
     public void setLastModified(Date lastModified) {
         setLastModifiedDate(lastModified);
     }

==================================================
SetNextRule.java
index 8070ea3465..d11736f024 100644
--- a/java/org/apache/tomcat/util/digester/Rule.java
+++ b/java/org/apache/tomcat/util/digester/Rule.java
@@ -112,6 +112,7 @@ public abstract class Rule {
      *   method with <code>namespace</code> and <code>name</code>
      *   parameters instead.
      */
+    @Deprecated
     public void begin(Attributes attributes) throws Exception {
         // The default implementation does nothing
     }
@@ -150,6 +151,7 @@ public abstract class Rule {
      *   with <code>namespace</code> and <code>name</code> parameters
      *   instead.
      */
+    @Deprecated
     public void body(String text) throws Exception {
         // The default implementation does nothing
     }
@@ -185,6 +187,7 @@ public abstract class Rule {
      * @deprecated Use the {@link #end(String,String) end} method with 
      *   <code>namespace</code> and <code>name</code> parameters instead.
      */
+    @Deprecated
     public void end() throws Exception {
         // The default implementation does nothing
     }

==================================================
SetPropertiesRule.java
index 434bef8c28..63170af654 100644
--- a/java/org/apache/tomcat/util/digester/SetNextRule.java
+++ b/java/org/apache/tomcat/util/digester/SetNextRule.java
@@ -50,6 +50,7 @@ public class SetNextRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetNextRule(String methodName)} instead.
      */
+    @Deprecated
     public SetNextRule(Digester digester, String methodName) {
 
         this(methodName);
@@ -70,6 +71,7 @@ public class SetNextRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetNextRule(String methodName,String paramType)} instead.
      */
+    @Deprecated
     public SetNextRule(Digester digester, String methodName,
                        String paramType) {
 

==================================================
SetPropertyRule.java
index b1aa18a830..2fdacc38f7 100644
--- a/java/org/apache/tomcat/util/digester/SetPropertiesRule.java
+++ b/java/org/apache/tomcat/util/digester/SetPropertiesRule.java
@@ -49,6 +49,7 @@ public class SetPropertiesRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetPropertiesRule()} instead.
      */
+    @Deprecated
     public SetPropertiesRule(Digester digester) {
 
         this();

==================================================
SetRootRule.java
index 8d018dac72..f6d7e594e0 100644
--- a/java/org/apache/tomcat/util/digester/SetPropertyRule.java
+++ b/java/org/apache/tomcat/util/digester/SetPropertyRule.java
@@ -48,6 +48,7 @@ public class SetPropertyRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetPropertyRule(String name, String value)} instead.
      */
+    @Deprecated
     public SetPropertyRule(Digester digester, String name, String value) {
 
         this(name, value);

==================================================
SetTopRule.java
index 9a22721004..dd4d1a0018 100644
--- a/java/org/apache/tomcat/util/digester/SetRootRule.java
+++ b/java/org/apache/tomcat/util/digester/SetRootRule.java
@@ -50,6 +50,7 @@ public class SetRootRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetRootRule(String methodName)} instead.
      */
+    @Deprecated
     public SetRootRule(Digester digester, String methodName) {
 
         this(methodName);
@@ -70,6 +71,7 @@ public class SetRootRule extends Rule {
      * @deprecated The digester instance is now set in the {@link Digester#addRule} method. 
      * Use {@link #SetRootRule(String methodName,String paramType)} instead.
      */
+    @Deprecated
     public SetRootRule(Digester digester, String methodName,
                        String paramType) {
 

==================================================
