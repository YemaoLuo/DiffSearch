c3d25c1375d1d4f93c7f1d2e6de107ad1616a9d5
==================================================
Add warning messages to APR and NIO endpoint to match change to JIO.
==================================================
Mark Emlyn
==================================================
Mon Oct 27 14:14:14 2008 +0000
==================================================
AprEndpoint.java
Add warning messages to APR and NIO endpoint to match change to JIO.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708195 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioEndpoint.java
index 6904694a19..de528b23dc 100644
--- a/java/org/apache/tomcat/util/net/AprEndpoint.java
+++ b/java/org/apache/tomcat/util/net/AprEndpoint.java
@@ -940,6 +940,11 @@ public class AprEndpoint {
             }
             if ((maxThreads > 0) && (curThreads < maxThreads)) {
                 curThreadsBusy++;
+                if (curThreadsBusy == maxThreads) {
+                    log.warn(sm.getString("endpoint.warn.maxThreads",
+                            Integer.toString(maxThreads), address,
+                            Integer.toString(port)));
+                }
                 return (newWorkerThread());
             } else {
                 if (maxThreads < 0) {

==================================================
