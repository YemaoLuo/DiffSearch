0613db72714f1bdf18b8d2c033adcc1aab78727c
==================================================
Refactoring.
==================================================
Mark Thomas
==================================================
Mon Mar 23 10:18:34 2015 +0000
==================================================
Constants.java
Refactoring.
Remove PACKAGE_NAME constant.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1668584 13f79535-47bb-0310-9956-ffa450edef68



==================================================
UriTemplate.java
index c178db4675..6891236fd5 100644
--- a/java/org/apache/tomcat/websocket/server/Constants.java
+++ b/java/org/apache/tomcat/websocket/server/Constants.java
@@ -21,9 +21,6 @@ package org.apache.tomcat.websocket.server;
  */
 public class Constants {
 
-    protected static final String PACKAGE_NAME =
-            Constants.class.getPackage().getName();
-
     public static final String BINARY_BUFFER_SIZE_SERVLET_CONTEXT_INIT_PARAM =
             "org.apache.tomcat.websocket.binaryBufferSize";
     public static final String TEXT_BUFFER_SIZE_SERVLET_CONTEXT_INIT_PARAM =

==================================================
WsHttpUpgradeHandler.java
index 4d82c11138..a9b8eb91ad 100644
--- a/java/org/apache/tomcat/websocket/server/UriTemplate.java
+++ b/java/org/apache/tomcat/websocket/server/UriTemplate.java
@@ -34,8 +34,7 @@ import org.apache.tomcat.util.res.StringManager;
  */
 public class UriTemplate {
 
-    private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+    private static final StringManager sm = StringManager.getManager(UriTemplate.class);
 
     private final String normalized;
     private final List<Segment> segments = new ArrayList<>();

==================================================
WsRemoteEndpointImplServer.java
index f2782c417c..23ed320660 100644
--- a/java/org/apache/tomcat/websocket/server/WsHttpUpgradeHandler.java
+++ b/java/org/apache/tomcat/websocket/server/WsHttpUpgradeHandler.java
@@ -46,10 +46,8 @@ import org.apache.tomcat.websocket.WsSession;
  */
 public class WsHttpUpgradeHandler implements InternalHttpUpgradeHandler {
 
-    private static final Log log =
-            LogFactory.getLog(WsHttpUpgradeHandler.class);
-    private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+    private static final Log log = LogFactory.getLog(WsHttpUpgradeHandler.class);
+    private static final StringManager sm = StringManager.getManager(WsHttpUpgradeHandler.class);
 
     private final ClassLoader applicationClassLoader;
 

==================================================
WsServerContainer.java
index 3e42160ed2..ccaa22a9ea 100644
--- a/java/org/apache/tomcat/websocket/server/WsRemoteEndpointImplServer.java
+++ b/java/org/apache/tomcat/websocket/server/WsRemoteEndpointImplServer.java
@@ -39,7 +39,7 @@ import org.apache.tomcat.websocket.WsRemoteEndpointImplBase;
 public class WsRemoteEndpointImplServer extends WsRemoteEndpointImplBase {
 
     private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+            StringManager.getManager(WsRemoteEndpointImplServer.class);
     private static final Log log =
             LogFactory.getLog(WsHttpUpgradeHandler.class);
 

==================================================
