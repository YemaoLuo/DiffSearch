0301f90e3879bade84270d9a5eac0bc66bb9f473
==================================================
Simplify. Method is only called from a single location.
==================================================
Mark Thomas
==================================================
Wed Jun 1 22:27:31 2016 +0000
==================================================
Nio2Endpoint.java
Simplify. Method is only called from a single location.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1746506 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioEndpoint.java
index 42b1e0c302..93e0ae3bb7 100644
--- a/java/org/apache/tomcat/util/net/Nio2Endpoint.java
+++ b/java/org/apache/tomcat/util/net/Nio2Endpoint.java
@@ -136,15 +136,6 @@ public class Nio2Endpoint extends AbstractJsseEndpoint<Nio2Channel> {
     }
 
 
-    protected void releaseCaches() {
-        this.nioChannels.clear();
-        this.processorCache.clear();
-        if (getHandler() != null) {
-            getHandler().recycle();
-        }
-    }
-
-
     // --------------------------------------------------------- Public Methods
 
     /**
@@ -272,7 +263,11 @@ public class Nio2Endpoint extends AbstractJsseEndpoint<Nio2Channel> {
         super.unbind();
         // Unlike other connectors, the thread pool is tied to the server socket
         shutdownExecutor();
-        releaseCaches();
+        this.nioChannels.clear();
+        this.processorCache.clear();
+        if (getHandler() != null) {
+            getHandler().recycle();
+        }
     }
 
 

==================================================
