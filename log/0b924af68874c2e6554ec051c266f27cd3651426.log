0b924af68874c2e6554ec051c266f27cd3651426
==================================================
Get tests working with OpenSSL 1.0.1
==================================================
Mark Thomas
==================================================
Tue Aug 11 07:49:03 2015 +0000
==================================================
TestOpenSSLCipherConfigurationParser.java
Get tests working with OpenSSL 1.0.1

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1695224 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TesterOpenSSL.java
index 53cbeee96d..952d7e0807 100644
--- a/test/org/apache/tomcat/util/net/jsse/openssl/TestOpenSSLCipherConfigurationParser.java
+++ b/test/org/apache/tomcat/util/net/jsse/openssl/TestOpenSSLCipherConfigurationParser.java
@@ -120,7 +120,10 @@ public class TestOpenSSLCipherConfigurationParser {
 
     @Test
     public void testkDHE() throws Exception {
-        testSpecification("kDHE");
+        // This alias was introduced in 1.0.2
+        if (TesterOpenSSL.VERSION >= 10002) {
+            testSpecification("kDHE");
+        }
     }
 
 
@@ -132,7 +135,10 @@ public class TestOpenSSLCipherConfigurationParser {
 
     @Test
     public void testDHE() throws Exception {
-        testSpecification("DHE");
+        // This alias was introduced in 1.0.2
+        if (TesterOpenSSL.VERSION >= 10002) {
+            testSpecification("DHE");
+        }
     }
 
 

==================================================
