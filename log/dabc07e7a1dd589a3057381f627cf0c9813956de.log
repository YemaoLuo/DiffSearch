dabc07e7a1dd589a3057381f627cf0c9813956de
==================================================
Remove deprecated Embedded class and the references to it
==================================================
Mark Emlyn
==================================================
Wed Feb 1 18:42:19 2012 +0000
==================================================
StandardService.java
Remove deprecated Embedded class and the references to it

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1239255 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Catalina.java
index 6271a5032e..33d4fe3248 100644
--- a/java/org/apache/catalina/core/StandardService.java
+++ b/java/org/apache/catalina/core/StandardService.java
@@ -89,9 +89,7 @@ public class StandardService extends LifecycleMBeanBase implements Service {
     protected ArrayList<Executor> executors = new ArrayList<Executor>();
 
     /**
-     * The Container associated with this Service. (In the case of the
-     * org.apache.catalina.startup.Embedded subclass, this holds the most
-     * recently added Engine.)
+     * The Container associated with this Service.
      */
     protected Container container = null;
 

==================================================
Embedded.java
index 940d53ff91..10aea0c28a 100644
--- a/java/org/apache/catalina/startup/Catalina.java
+++ b/java/org/apache/catalina/startup/Catalina.java
@@ -64,8 +64,6 @@ import org.xml.sax.SAXParseException;
  * <li><b>stop</b>       - Stop the currently running instance of Catalina.
  * </u>
  *
- * Should do the same thing as Embedded, but using a server.xml file.
- *
  * @author Craig R. McClanahan
  * @author Remy Maucherat
  * @version $Id$
@@ -748,11 +746,7 @@ public class Catalina {
 
         String catalinaHome = System.getProperty(Globals.CATALINA_HOME_PROP);
         if (catalinaHome == null) {
-            // Backwards compatibility patch for J2EE RI 1.3
-            String j2eeHome = System.getProperty("com.sun.enterprise.home");
-            if (j2eeHome != null) {
-                catalinaHome=System.getProperty("com.sun.enterprise.home");
-            } else if (System.getProperty(Globals.CATALINA_BASE_PROP) != null) {
+            if (System.getProperty(Globals.CATALINA_BASE_PROP) != null) {
                 catalinaHome = System.getProperty(Globals.CATALINA_BASE_PROP);
             } else {
                 // Use IntrospectionUtils and guess the dir

==================================================
