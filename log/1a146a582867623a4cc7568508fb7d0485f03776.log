1a146a582867623a4cc7568508fb7d0485f03776
==================================================
StringBuffer -> StringBuilder for o.a.c.util
==================================================
Mark Emlyn
==================================================
Mon Nov 2 18:38:47 2009 +0000
==================================================
DOMWriter.java
StringBuffer -> StringBuilder for o.a.c.util

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832023 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Extension.java
index 73efe1b45f..a5ec657d9f 100644
--- a/java/org/apache/catalina/util/DOMWriter.java
+++ b/java/org/apache/catalina/util/DOMWriter.java
@@ -290,7 +290,7 @@ public class DOMWriter {
 
    /** Normalizes the given string. */
    protected String normalize(String s) {
-      StringBuffer str = new StringBuffer();
+      StringBuilder str = new StringBuilder();
 
       int len = (s != null) ? s.length() : 0;
       for ( int i = 0; i < len; i++ ) {

==================================================
HexUtils.java
index 87cb39638b..3b05603782 100644
--- a/java/org/apache/catalina/util/Extension.java
+++ b/java/org/apache/catalina/util/Extension.java
@@ -220,7 +220,7 @@ public final class Extension {
      */
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("Extension[");
+        StringBuilder sb = new StringBuilder("Extension[");
         sb.append(extensionName);
         if (implementationURL != null) {
             sb.append(", implementationURL=");

==================================================
ManifestResource.java
index 155adf6cb1..10084a196d 100644
--- a/java/org/apache/catalina/util/HexUtils.java
+++ b/java/org/apache/catalina/util/HexUtils.java
@@ -114,7 +114,7 @@ public final class HexUtils {
      */
     public static String convert(byte bytes[]) {
 
-        StringBuffer sb = new StringBuffer(bytes.length * 2);
+        StringBuilder sb = new StringBuilder(bytes.length * 2);
         for (int i = 0; i < bytes.length; i++) {
             sb.append(convertDigit(bytes[i] >> 4));
             sb.append(convertDigit(bytes[i] & 0x0f));

==================================================
RequestUtil.java
index f22425e37e..c8696685c7 100644
--- a/java/org/apache/catalina/util/ManifestResource.java
+++ b/java/org/apache/catalina/util/ManifestResource.java
@@ -129,7 +129,7 @@ public class ManifestResource {
     
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("ManifestResource[");
+        StringBuilder sb = new StringBuilder("ManifestResource[");
         sb.append(resourceName);
 
         sb.append(", isFulfilled=");

==================================================
Strftime.java
index 8050b2a494..f0cb3c9ebe 100644
--- a/java/org/apache/catalina/util/RequestUtil.java
+++ b/java/org/apache/catalina/util/RequestUtil.java
@@ -60,7 +60,7 @@ public final class RequestUtil {
 
         char content[] = new char[message.length()];
         message.getChars(0, message.length(), content, 0);
-        StringBuffer result = new StringBuffer(content.length + 50);
+        StringBuilder result = new StringBuilder(content.length + 50);
         for (int i = 0; i < content.length; i++) {
             switch (content[i]) {
             case '<':

==================================================
URLEncoder.java
index 9574deb301..e96b613cc1 100644
--- a/java/org/apache/catalina/util/Strftime.java
+++ b/java/org/apache/catalina/util/Strftime.java
@@ -169,7 +169,7 @@ public class Strftime {
         boolean mark = false;
         boolean modifiedCommand = false;
 
-        StringBuffer buf = new StringBuffer();
+        StringBuilder buf = new StringBuilder();
 
         for(int i = 0; i < pattern.length(); i++) {
             char c = pattern.charAt(i);
@@ -231,7 +231,7 @@ public class Strftime {
      * @param oldInside Flag value
      * @return True if new is inside buffer
      */
-    protected boolean translateCommand( StringBuffer buf, String pattern, int index, boolean oldInside ) {
+    protected boolean translateCommand( StringBuilder buf, String pattern, int index, boolean oldInside ) {
         char firstChar = pattern.charAt( index );
         boolean newInside = oldInside;
 

==================================================
XMLWriter.java
index e87b7d7000..7e2a2b4944 100644
--- a/java/org/apache/catalina/util/URLEncoder.java
+++ b/java/org/apache/catalina/util/URLEncoder.java
@@ -59,7 +59,7 @@ public class URLEncoder {
 
     public String encode( String path ) {
         int maxBytesPerChar = 10;
-        StringBuffer rewrittenPath = new StringBuffer(path.length());
+        StringBuilder rewrittenPath = new StringBuilder(path.length());
         ByteArrayOutputStream buf = new ByteArrayOutputStream(maxBytesPerChar);
         OutputStreamWriter writer = null;
         try {

==================================================
