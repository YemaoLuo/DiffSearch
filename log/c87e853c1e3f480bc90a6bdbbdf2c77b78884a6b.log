c87e853c1e3f480bc90a6bdbbdf2c77b78884a6b
==================================================
Remove unnecessary code. Valves in this package can use the StringManager defined in ValveBase
==================================================
Mark Emlyn
==================================================
Wed Jan 5 14:28:30 2011 +0000
==================================================
AccessLogValve.java
Remove unnecessary code. Valves in this package can use the StringManager defined in ValveBase

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055469 13f79535-47bb-0310-9956-ffa450edef68



==================================================
CometConnectionManagerValve.java
index b71a89b036..fe3bf3935e 100644
--- a/java/org/apache/catalina/valves/AccessLogValve.java
+++ b/java/org/apache/catalina/valves/AccessLogValve.java
@@ -46,7 +46,6 @@ import org.apache.coyote.RequestInfo;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
 import org.apache.tomcat.util.ExceptionUtils;
-import org.apache.tomcat.util.res.StringManager;
 
 
 /**
@@ -189,13 +188,6 @@ public class AccessLogValve extends ValveBase implements AccessLog {
     private boolean buffered = true;
 
 
-    /**
-     * The string manager for this package.
-     */
-    protected static final StringManager sm =
-        StringManager.getManager(Constants.Package);
-
-
     /**
      * The suffix that is added to log file filenames.
      */

==================================================
ErrorReportValve.java
index 29226a7b57..0036698ec3 100644
--- a/java/org/apache/catalina/valves/CometConnectionManagerValve.java
+++ b/java/org/apache/catalina/valves/CometConnectionManagerValve.java
@@ -41,7 +41,6 @@ import org.apache.catalina.comet.CometProcessor;
 import org.apache.catalina.connector.CometEventImpl;
 import org.apache.catalina.connector.Request;
 import org.apache.catalina.connector.Response;
-import org.apache.tomcat.util.res.StringManager;
 
 
 /**
@@ -73,13 +72,6 @@ public class CometConnectionManagerValve extends ValveBase
         "org.apache.catalina.valves.CometConnectionManagerValve/1.0";
 
 
-    /**
-     * The string manager for this package.
-     */
-    protected static final StringManager sm =
-        StringManager.getManager(Constants.Package);
-
-
     /**
      * List of current Comet connections.
      */

==================================================
JDBCAccessLogValve.java
index 5ad3e1ebbd..335eb6667a 100644
--- a/java/org/apache/catalina/valves/ErrorReportValve.java
+++ b/java/org/apache/catalina/valves/ErrorReportValve.java
@@ -31,7 +31,6 @@ import org.apache.catalina.connector.Response;
 import org.apache.catalina.util.RequestUtil;
 import org.apache.catalina.util.ServerInfo;
 import org.apache.tomcat.util.ExceptionUtils;
-import org.apache.tomcat.util.res.StringManager;
 
 /**
  * <p>Implementation of a Valve that outputs HTML error pages.</p>
@@ -66,13 +65,6 @@ public class ErrorReportValve extends ValveBase {
         "org.apache.catalina.valves.ErrorReportValve/1.0";
 
 
-    /**
-     * The StringManager for this package.
-     */
-    protected static final StringManager sm =
-        StringManager.getManager(Constants.Package);
-
-
     // ------------------------------------------------------------- Properties
 
 

==================================================
PersistentValve.java
index d8e94933e1..6601df2090 100644
--- a/java/org/apache/catalina/valves/JDBCAccessLogValve.java
+++ b/java/org/apache/catalina/valves/JDBCAccessLogValve.java
@@ -35,7 +35,6 @@ import org.apache.catalina.LifecycleState;
 import org.apache.catalina.connector.Request;
 import org.apache.catalina.connector.Response;
 import org.apache.tomcat.util.ExceptionUtils;
-import org.apache.tomcat.util.res.StringManager;
 
 /**
  * <p>
@@ -219,12 +218,6 @@ public final class JDBCAccessLogValve extends ValveBase implements AccessLog {
         "org.apache.catalina.valves.JDBCAccessLogValve/1.1";
 
 
-    /**
-     * The string manager for this package.
-     */
-    private static final StringManager sm = StringManager.getManager(Constants.Package);
-
-
     // ------------------------------------------------------------- Properties
  
     /**

==================================================
RemoteIpValve.java
index ad290fb194..3bf1fe5969 100644
--- a/java/org/apache/catalina/valves/PersistentValve.java
+++ b/java/org/apache/catalina/valves/PersistentValve.java
@@ -31,7 +31,6 @@ import org.apache.catalina.Store;
 import org.apache.catalina.connector.Request;
 import org.apache.catalina.connector.Response;
 import org.apache.catalina.session.PersistentManager;
-import org.apache.tomcat.util.res.StringManager;
 
 
 /**
@@ -64,13 +63,6 @@ public class PersistentValve extends ValveBase {
         "org.apache.catalina.valves.PersistentValve/1.0";
 
 
-    /**
-     * The string manager for this package.
-     */
-    private static final StringManager sm =
-        StringManager.getManager(Constants.Package);
-
-
     // ------------------------------------------------------------- Properties
 
 

==================================================
RequestFilterValve.java
index 774cf78fac..9a113c4c3f 100644
--- a/java/org/apache/catalina/valves/RemoteIpValve.java
+++ b/java/org/apache/catalina/valves/RemoteIpValve.java
@@ -31,7 +31,6 @@ import org.apache.catalina.connector.Request;
 import org.apache.catalina.connector.Response;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
-import org.apache.tomcat.util.res.StringManager;
 
 /**
  * <p>
@@ -359,11 +358,6 @@ public class RemoteIpValve extends ValveBase {
      */
     private static final Log log = LogFactory.getLog(RemoteIpValve.class);
     
-    /**
-     * The StringManager for this package.
-     */
-    protected static final StringManager sm = StringManager.getManager(Constants.Package);
-    
     /**
      * Convert a given comma delimited list of regular expressions into an array of compiled {@link Pattern}
      * 

==================================================
