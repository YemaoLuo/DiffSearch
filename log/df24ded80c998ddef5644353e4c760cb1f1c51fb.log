df24ded80c998ddef5644353e4c760cb1f1c51fb
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=60716
==================================================
Mark Thomas
==================================================
Tue Feb 14 12:50:05 2017 +0000
==================================================
SSLHostConfig.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=60716
Add a new JSSE specific attribute, revocationEnabled, to SSLHostConfig to permit JSSE provider revocation checks to be enabled when no certificateRevocationListFile has been configured. The expectation is that configuration will be performed via a JSSE provider specific mechanisms.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1782956 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JSSEUtil.java
index 5942399cad..6373a2f1be 100644
--- a/java/org/apache/tomcat/util/net/SSLHostConfig.java
+++ b/java/org/apache/tomcat/util/net/SSLHostConfig.java
@@ -93,6 +93,7 @@ public class SSLHostConfig implements Serializable {
     private Set<String> protocols = new HashSet<>();
     // JSSE
     private String keyManagerAlgorithm = KeyManagerFactory.getDefaultAlgorithm();
+    private boolean revocationEnabled = false;
     private int sessionCacheSize = 0;
     private int sessionTimeout = 86400;
     private String sslProtocol = Constants.SSL_PROTO_TLS;
@@ -475,6 +476,17 @@ public class SSLHostConfig implements Serializable {
     }
 
 
+    public void setRevocationEnabled(boolean revocationEnabled) {
+        setProperty("revocationEnabled", Type.JSSE);
+        this.revocationEnabled = revocationEnabled;
+    }
+
+
+    public boolean getRevocationEnabled() {
+        return revocationEnabled;
+    }
+
+
     public void setSessionCacheSize(int sessionCacheSize) {
         setProperty("sessionCacheSize", Type.JSSE);
         this.sessionCacheSize = sessionCacheSize;

==================================================
