223ccdbcdbad7196395c58f1ef28f4dd62916a04
==================================================
Fix Eclipse warnings in unit tests
==================================================
Mark Emlyn
==================================================
Thu Sep 8 15:39:11 2011 +0000
==================================================
TestCometProcessor.java
Fix Eclipse warnings in unit tests

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1166757 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestMaxConnections.java
index e36955252a..c73cebaca3 100644
--- a/test/org/apache/catalina/comet/TestCometProcessor.java
+++ b/test/org/apache/catalina/comet/TestCometProcessor.java
@@ -30,6 +30,7 @@ import javax.servlet.http.HttpSession;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.assertNull;
 import static org.junit.Assert.assertTrue;
 
 import org.junit.Test;
@@ -160,6 +161,7 @@ public class TestCometProcessor extends TomcatBaseTest {
         // Write should trigger an exception once the connector stops since the
         // socket should be closed
         assertNotNull(writeThread.getException());
+        assertNull(readThread.getException());
     }
 
     private boolean isCometSupported() {

==================================================
Benchmarks.java
index c9b45ca748..5723b02fd8 100644
--- a/test/org/apache/catalina/connector/TestMaxConnections.java
+++ b/test/org/apache/catalina/connector/TestMaxConnections.java
@@ -60,7 +60,7 @@ public class TestMaxConnections extends TomcatBaseTest {
         }
         
         assertTrue("The number of successful requests should have been 4-5, actual "+passcount,4==passcount || 5==passcount);
-        
+        System.out.println("There were [" + connectfail + "] connection failures");
     }
 
     private static class ConnectThread extends Thread {

==================================================
