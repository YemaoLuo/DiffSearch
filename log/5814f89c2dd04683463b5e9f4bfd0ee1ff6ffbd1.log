5814f89c2dd04683463b5e9f4bfd0ee1ff6ffbd1
==================================================
Avoid using /tmp as a docBase where it is not necessary
==================================================
Mark Emlyn
==================================================
Wed Oct 29 19:55:08 2014 +0000
==================================================
TestPersistentManager.java
Avoid using /tmp as a docBase where it is not necessary

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1635282 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestStandardSession.java
index 1d1ac454e8..dd2ad14e68 100644
--- a/test/org/apache/catalina/session/TestPersistentManager.java
+++ b/test/org/apache/catalina/session/TestPersistentManager.java
@@ -99,9 +99,9 @@ public class TestPersistentManager extends TomcatBaseTest {
 
         // Setup Tomcat instance
         Tomcat tomcat = getTomcatInstance();
-        // Must have a real docBase - just use temp
-        Context ctx = tomcat.addContext("",
-                System.getProperty("java.io.tmpdir"));
+
+        // No file system docBase required
+        Context ctx = tomcat.addContext("", null);
 
         Tomcat.addServlet(ctx, "DummyServlet", new DummyServlet());
         ctx.addServletMapping("/dummy", "DummyServlet");

==================================================
