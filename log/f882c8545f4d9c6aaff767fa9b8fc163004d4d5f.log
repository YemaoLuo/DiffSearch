f882c8545f4d9c6aaff767fa9b8fc163004d4d5f
==================================================
Rename aprPreferred to useAprConnector, which is more explicit [same default value to false].
==================================================
Remy Maucherat
==================================================
Wed Feb 10 15:04:23 2016 +0000
==================================================
Connector.java
Rename aprPreferred to useAprConnector, which is more explicit [same default value to false].

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1729619 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AprLifecycleListener.java
index 2d26f866cf..ffe128b71b 100644
--- a/java/org/apache/catalina/connector/Connector.java
+++ b/java/org/apache/catalina/connector/Connector.java
@@ -563,14 +563,14 @@ public class Connector extends LifecycleMBeanBase  {
      */
     public String getProtocol() {
         if (("org.apache.coyote.http11.Http11NioProtocol".equals(getProtocolHandlerClassName()) &&
-                    (!AprLifecycleListener.isAprAvailable() || !AprLifecycleListener.isAprPreferred())) ||
+                    (!AprLifecycleListener.isAprAvailable() || !AprLifecycleListener.getUseAprConnector())) ||
                 "org.apache.coyote.http11.Http11AprProtocol".equals(getProtocolHandlerClassName()) &&
-                    AprLifecycleListener.isAprPreferred()) {
+                    AprLifecycleListener.getUseAprConnector()) {
             return "HTTP/1.1";
         } else if (("org.apache.coyote.ajp.AjpNioProtocol".equals(getProtocolHandlerClassName()) &&
-                    (!AprLifecycleListener.isAprAvailable() || !AprLifecycleListener.isAprPreferred())) ||
+                    (!AprLifecycleListener.isAprAvailable() || !AprLifecycleListener.getUseAprConnector())) ||
                 "org.apache.coyote.ajp.AjpAprProtocol".equals(getProtocolHandlerClassName()) &&
-                    AprLifecycleListener.isAprPreferred()) {
+                    AprLifecycleListener.getUseAprConnector()) {
             return "AJP/1.3";
         }
         return getProtocolHandlerClassName();
@@ -585,7 +585,7 @@ public class Connector extends LifecycleMBeanBase  {
     public void setProtocol(String protocol) {
 
         boolean aprConnector = AprLifecycleListener.isAprAvailable() &&
-                AprLifecycleListener.isAprPreferred();
+                AprLifecycleListener.getUseAprConnector();
 
         if ("HTTP/1.1".equals(protocol) || protocol == null) {
             if (aprConnector) {

==================================================
