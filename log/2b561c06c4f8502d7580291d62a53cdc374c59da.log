2b561c06c4f8502d7580291d62a53cdc374c59da
==================================================
Fix various i18n TODOs
==================================================
Mark Thomas
==================================================
Wed May 13 10:51:46 2015 +0000
==================================================
ConnectionSettings.java
Fix various i18n TODOs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1679174 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http2UpgradeHandler.java
index 1a2fe9d2b1..ffc929103e 100644
--- a/java/org/apache/coyote/http2/ConnectionSettings.java
+++ b/java/org/apache/coyote/http2/ConnectionSettings.java
@@ -82,8 +82,8 @@ public class ConnectionSettings {
         // Can't be less than zero since the result of the byte->long conversion
         // will never be negative
         if (enablePush > 1) {
-            // TODO i18n
-            throw new Http2Exception("", 0, Http2Exception.PROTOCOL_ERROR);
+            throw new Http2Exception(sm.getString("connectionSettings.enablePushInvalid",
+                    Long.toString(enablePush)), 0, Http2Exception.PROTOCOL_ERROR);
         }
         this.enablePush = enablePush;
     }
@@ -102,8 +102,9 @@ public class ConnectionSettings {
     }
     public void setInitialWindowSize(long initialWindowSize) throws IOException {
         if (initialWindowSize > MAX_WINDOW_SIZE) {
-            // TODO i18n
-            throw new Http2Exception("", 0, Http2Exception.PROTOCOL_ERROR);
+            throw new Http2Exception(sm.getString("connectionSettings.windowSizeTooBig",
+                    Long.toString(initialWindowSize), Long.toString(MAX_WINDOW_SIZE)),
+                    0, Http2Exception.PROTOCOL_ERROR);
         }
         this.initialWindowSize = initialWindowSize;
     }
@@ -114,8 +115,9 @@ public class ConnectionSettings {
     }
     public void setMaxFrameSize(long maxFrameSize) throws IOException {
         if (maxFrameSize < MIN_MAX_FRAME_SIZE || maxFrameSize > MAX_MAX_FRAME_SIZE) {
-            // TODO i18n
-            throw new Http2Exception("", 0, Http2Exception.PROTOCOL_ERROR);
+            throw new Http2Exception(sm.getString("connectionSettings.maxFrameSizeInvalid",
+                    Long.toString(maxFrameSize), Long.toString(MIN_MAX_FRAME_SIZE),
+                    Long.toString(MAX_MAX_FRAME_SIZE)), 0, Http2Exception.PROTOCOL_ERROR);
         }
         this.maxFrameSize = maxFrameSize;
     }

==================================================
