94c643bbb46607375d538697a6fedbfdb5532e12
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47799
==================================================
Mark Emlyn
==================================================
Sun Nov 22 22:37:43 2009 +0000
==================================================
DomainFilterInterceptor.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47799
Unable to configure domain in Membership and DomainFilterInterceptor
Patch provided by Keiichi Fujino

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883165 13f79535-47bb-0310-9956-ffa450edef68



==================================================
McastService.java
index c29ecc9463..f24188842e 100644
--- a/java/org/apache/catalina/tribes/group/interceptors/DomainFilterInterceptor.java
+++ b/java/org/apache/catalina/tribes/group/interceptors/DomainFilterInterceptor.java
@@ -104,4 +104,13 @@ public class DomainFilterInterceptor extends ChannelInterceptorBase {
     public void setDomain(byte[] domain) {
         this.domain = domain;
     }
+
+    public void setDomain(String domain) {
+        if ( domain == null ) return;
+        if (domain.startsWith("{"))
+            setDomain(org.apache.catalina.tribes.util.Arrays.fromString(domain));
+	    else
+            setDomain(org.apache.catalina.tribes.util.Arrays.convert(domain));
+    }
+
 }

==================================================
