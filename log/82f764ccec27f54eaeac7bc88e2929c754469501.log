82f764ccec27f54eaeac7bc88e2929c754469501
==================================================
Use https URLs in the documentation when possible
==================================================
Emmanuel Bourg
==================================================
Thu Jun 21 09:16:08 2018 +0000
==================================================
StandardWrapper.java
index d0f03f48d0..5026883eae 100644
--- a/java/org/apache/catalina/ant/package.html
+++ b/java/org/apache/catalina/ant/package.html
@@ -20,8 +20,8 @@
 <em>Ant (version 1.6.x or later)</em> that can be used to interact with the
 Manager application to deploy, undeploy, list, reload, start and stop web applications
 from a running instance of Tomcat.  For more information, see
-<a href="http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html">
-http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html</a>.</p>
+<a href="https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html">
+https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html</a>.</p>
 
 <p>The attributes of each task element correspond
 exactly to the request parameters that are included with an HTTP request

==================================================
ExpiresFilter.java
index 6d52279db8..cdca5c18de 100644
--- a/java/org/apache/catalina/core/StandardWrapper.java
+++ b/java/org/apache/catalina/core/StandardWrapper.java
@@ -1041,7 +1041,7 @@ public class StandardWrapper extends ContainerBase
                 unavailable(null);
 
                 // Added extra log statement for Bugzilla 36630:
-                // http://bz.apache.org/bugzilla/show_bug.cgi?id=36630
+                // https://bz.apache.org/bugzilla/show_bug.cgi?id=36630
                 if(log.isDebugEnabled()) {
                     log.debug(sm.getString("standardWrapper.instantiate", servletClass), e);
                 }

==================================================
RemoteIpFilter.java
index b779ff84da..03d3ce76b5 100644
--- a/java/org/apache/catalina/filters/ExpiresFilter.java
+++ b/java/org/apache/catalina/filters/ExpiresFilter.java
@@ -47,7 +47,7 @@ import org.apache.juli.logging.LogFactory;
 /**
  * <p>
  * ExpiresFilter is a Java Servlet API port of <a
- * href="http://httpd.apache.org/docs/2.2/mod/mod_expires.html">Apache
+ * href="https://httpd.apache.org/docs/2.2/mod/mod_expires.html">Apache
  * mod_expires</a> to add '{@code Expires}' and
  * '{@code Cache-Control: max-age=}' headers to HTTP response according to its
  * '{@code Content-Type}'.
@@ -55,7 +55,7 @@ import org.apache.juli.logging.LogFactory;
  *
  * <p>
  * Following documentation is inspired by <a
- * href="http://httpd.apache.org/docs/2.2/mod/mod_expires.html">mod_expires</a>
+ * href="https://httpd.apache.org/docs/2.2/mod/mod_expires.html">mod_expires</a>
  * </p>
  * <h1>Summary</h1>
  * <p>
@@ -75,7 +75,7 @@ import org.apache.juli.logging.LogFactory;
  * To modify {@code Cache-Control} directives other than {@code max-age} (see
  * <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9" >RFC
  * 2616 section 14.9</a>), you can use other servlet filters or <a
- * href="http://httpd.apache.org/docs/2.2/mod/mod_headers.html" >Apache Httpd
+ * href="https://httpd.apache.org/docs/2.2/mod/mod_headers.html" >Apache Httpd
  * mod_headers</a> module.
  * </p>
  * <h1>Filter Configuration</h1><h2>Basic configuration to add

==================================================
Constants.java
index b9f66553ef..3754512962 100644
--- a/java/org/apache/catalina/filters/RemoteIpFilter.java
+++ b/java/org/apache/catalina/filters/RemoteIpFilter.java
@@ -56,7 +56,7 @@ import org.apache.juli.logging.LogFactory;
  * </p>
  * <p>
  * Most of the design of this Servlet Filter is a port of <a
- * href="http://httpd.apache.org/docs/trunk/mod/mod_remoteip.html">mod_remoteip</a>, this servlet filter replaces the apparent client remote
+ * href="https://httpd.apache.org/docs/trunk/mod/mod_remoteip.html">mod_remoteip</a>, this servlet filter replaces the apparent client remote
  * IP address and hostname for the request with the IP address list presented by a proxy or a load balancer via a request headers (e.g.
  * "X-Forwarded-For").
  * </p>
@@ -171,7 +171,7 @@ import org.apache.juli.logging.LogFactory;
  * <strong>Regular expression vs. IP address blocks:</strong> <code>mod_remoteip</code> allows to use address blocks (e.g.
  * <code>192.168/16</code>) to configure <code>RemoteIPInternalProxy</code> and <code>RemoteIPTrustedProxy</code> ; as the JVM doesn't have a
  * library similar to <a
- * href="http://apr.apache.org/docs/apr/1.3/group__apr__network__io.html#gb74d21b8898b7c40bf7fd07ad3eb993d">apr_ipsubnet_test</a>, we rely on
+ * href="https://apr.apache.org/docs/apr/1.3/group__apr__network__io.html#gb74d21b8898b7c40bf7fd07ad3eb993d">apr_ipsubnet_test</a>, we rely on
  * regular expressions.
  * </p>
  * <hr>

==================================================
JNDIRealm.java
index 204e439feb..076c1e0bec 100644
--- a/java/org/apache/catalina/manager/Constants.java
+++ b/java/org/apache/catalina/manager/Constants.java
@@ -118,11 +118,11 @@ public class Constants {
             "<table cellspacing=\"4\" border=\"0\">\n" +
             " <tr>\n" +
             "  <td colspan=\"2\">\n" +
-            "   <a href=\"http://tomcat.apache.org/\">\n" +
+            "   <a href=\"https://tomcat.apache.org/\">\n" +
             "    <img border=\"0\" alt=\"The Tomcat Servlet/JSP Container\"\n" +
             "         align=\"left\" src=\"{0}/images/tomcat.gif\">\n" +
             "   </a>\n" +
-            "   <a href=\"http://www.apache.org/\">\n" +
+            "   <a href=\"https://www.apache.org/\">\n" +
             "    <img border=\"0\" alt=\"The Apache Software Foundation\" align=\"right\"\n" +
             "         src=\"{0}/images/asf-logo.svg\" style=\"width: 266px; height: 83px;\">\n" +
             "   </a>\n" +

==================================================
CGIServlet.java
index e980bdfc54..7295764743 100644
--- a/java/org/apache/catalina/realm/JNDIRealm.java
+++ b/java/org/apache/catalina/realm/JNDIRealm.java
@@ -173,7 +173,7 @@ import org.ietf.jgss.GSSCredential;
  * <p><strong>WARNING</strong> - There is a reported bug against the Netscape
  * provider code (com.netscape.jndi.ldap.LdapContextFactory) with respect to
  * successfully authenticated a non-existing user. The
- * report is here: http://bz.apache.org/bugzilla/show_bug.cgi?id=11210 .
+ * report is here: https://bz.apache.org/bugzilla/show_bug.cgi?id=11210 .
  * With luck, Netscape has updated their provider code and this is not an
  * issue. </p>
  *

==================================================
Tomcat.java
index bfc27cd00d..2b2089f78a 100644
--- a/java/org/apache/catalina/servlets/CGIServlet.java
+++ b/java/org/apache/catalina/servlets/CGIServlet.java
@@ -125,7 +125,7 @@ import org.apache.tomcat.util.res.StringManager;
  * or an instance where the specification cited differs from Best
  * Community Practice (BCP).
  * Such instances should be well-documented here.  Please email the
- * <a href="http://tomcat.apache.org/lists.html">Tomcat group</a>
+ * <a href="https://tomcat.apache.org/lists.html">Tomcat group</a>
  * with amendments.
  *
  * </p>

==================================================
NonBlockingCoordinator.java
index 36f7383b83..6ad48cf3ee 100644
--- a/java/org/apache/catalina/startup/Tomcat.java
+++ b/java/org/apache/catalina/startup/Tomcat.java
@@ -134,7 +134,7 @@ import org.apache.tomcat.util.res.StringManager;
  * see setters for doc. It can be used for simple tests and
  * demo.
  *
- * @see <a href="http://svn.apache.org/repos/asf/tomcat/trunk/test/org/apache/catalina/startup/TestTomcat.java">TestTomcat</a>
+ * @see <a href="https://svn.apache.org/repos/asf/tomcat/trunk/test/org/apache/catalina/startup/TestTomcat.java">TestTomcat</a>
  * @author Costin Manolache
  */
 public class Tomcat {

==================================================
AbstractAccessLogValve.java
index ff75f9ce58..90d4b3ab16 100644
--- a/java/org/apache/catalina/tribes/group/interceptors/NonBlockingCoordinator.java
+++ b/java/org/apache/catalina/tribes/group/interceptors/NonBlockingCoordinator.java
@@ -118,8 +118,8 @@ import org.apache.juli.logging.LogFactory;
  * Maybe I'll do a state diagram :)
  * </p>
  * <h2>State Diagrams</h2>
- * <a href="http://people.apache.org/~fhanik/tribes/docs/leader-election-initiate-election.jpg">Initiate an election</a><br><br>
- * <a href="http://people.apache.org/~fhanik/tribes/docs/leader-election-message-arrives.jpg">Receive an election message</a><br><br>
+ * <a href="https://people.apache.org/~fhanik/tribes/docs/leader-election-initiate-election.jpg">Initiate an election</a><br><br>
+ * <a href="https://people.apache.org/~fhanik/tribes/docs/leader-election-message-arrives.jpg">Receive an election message</a><br><br>
  *
  * @version 1.0
  *

==================================================
LoadBalancerDrainingValve.java
index 76fa2d00a7..07bd882fd6 100644
--- a/java/org/apache/catalina/valves/AbstractAccessLogValve.java
+++ b/java/org/apache/catalina/valves/AbstractAccessLogValve.java
@@ -59,7 +59,7 @@ import org.apache.tomcat.util.net.IPv6Utils;
  * <p>Abstract implementation of the <b>Valve</b> interface that generates a web
  * server access log with the detailed line contents matching a configurable
  * pattern. The syntax of the available patterns is similar to that supported by
- * the <a href="http://httpd.apache.org/">Apache HTTP Server</a>
+ * the <a href="https://httpd.apache.org/">Apache HTTP Server</a>
  * <code>mod_log_config</code> module.</p>
  *
  * <p>Patterns for the logged message may include constant text or any of the
@@ -109,7 +109,7 @@ import org.apache.tomcat.util.net.IPv6Utils;
  * There is also support to write information from the cookie, incoming
  * header, the Session or something else in the ServletRequest.<br>
  * It is modeled after the
- * <a href="http://httpd.apache.org/">Apache HTTP Server</a> log configuration
+ * <a href="https://httpd.apache.org/">Apache HTTP Server</a> log configuration
  * syntax:</p>
  * <ul>
  * <li><code>%{xxx}i</code> for incoming headers

==================================================
RemoteIpValve.java
index f443ae4031..c65193b347 100644
--- a/java/org/apache/catalina/valves/LoadBalancerDrainingValve.java
+++ b/java/org/apache/catalina/valves/LoadBalancerDrainingValve.java
@@ -56,7 +56,7 @@ import org.apache.catalina.util.SessionConfig;
  * authentication valves, as the redirection should take place before an
  * authentication valve would save a request to a protected resource.</p>
  *
- * @see <a href="http://tomcat.apache.org/connectors-doc/generic_howto/loadbalancers.html">Load
+ * @see <a href="https://tomcat.apache.org/connectors-doc/generic_howto/loadbalancers.html">Load
  *      balancer documentation</a>
  */
 public class LoadBalancerDrainingValve

==================================================
FileResource.java
index ef1832e2b2..4466677b31 100644
--- a/java/org/apache/catalina/valves/RemoteIpValve.java
+++ b/java/org/apache/catalina/valves/RemoteIpValve.java
@@ -35,7 +35,7 @@ import org.apache.tomcat.util.http.MimeHeaders;
 
 /**
  * <p>
- * Tomcat port of <a href="http://httpd.apache.org/docs/trunk/mod/mod_remoteip.html">mod_remoteip</a>, this valve replaces the apparent
+ * Tomcat port of <a href="https://httpd.apache.org/docs/trunk/mod/mod_remoteip.html">mod_remoteip</a>, this valve replaces the apparent
  * client remote IP address and hostname for the request with the IP address list presented by a proxy or a load balancer via a request
  * headers (e.g. "X-Forwarded-For").
  * </p>
@@ -152,7 +152,7 @@ import org.apache.tomcat.util.http.MimeHeaders;
  * <strong>Regular expression vs. IP address blocks:</strong> <code>mod_remoteip</code> allows to use address blocks (e.g.
  * <code>192.168/16</code>) to configure <code>RemoteIPInternalProxy</code> and <code>RemoteIPTrustedProxy</code> ; as Tomcat doesn't have a
  * library similar to <a
- * href="http://apr.apache.org/docs/apr/1.3/group__apr__network__io.html#gb74d21b8898b7c40bf7fd07ad3eb993d">apr_ipsubnet_test</a>,
+ * href="https://apr.apache.org/docs/apr/1.3/group__apr__network__io.html#gb74d21b8898b7c40bf7fd07ad3eb993d">apr_ipsubnet_test</a>,
  * <code>RemoteIpValve</code> uses regular expression to configure <code>internalProxies</code> and <code>trustedProxies</code> in the same
  * fashion as {@link RequestFilterValve} does.
  * </p>

==================================================
IdentityInputFilter.java
index f3f89e035a..babe1905a7 100644
--- a/java/org/apache/catalina/webresources/FileResource.java
+++ b/java/org/apache/catalina/webresources/FileResource.java
@@ -227,7 +227,7 @@ public class FileResource extends AbstractResource {
             // Workaround for certain files on platforms that use
             // EBCDIC encoding, when they are read through FileInputStream.
             // See commit message of rev.303915 for original details
-            // http://svn.apache.org/viewvc?view=revision&revision=303915
+            // https://svn.apache.org/viewvc?view=revision&revision=303915
             String str = new String(result);
             try {
                 result = str.getBytes(StandardCharsets.UTF_8);

==================================================
EncodingDetector.java
index 0a69cf531b..d9ffdf6cb0 100644
--- a/java/org/apache/coyote/http11/filters/IdentityInputFilter.java
+++ b/java/org/apache/coyote/http11/filters/IdentityInputFilter.java
@@ -157,7 +157,7 @@ public class IdentityInputFilter implements InputFilter, ApplicationBufferHandle
                 if (maxSwallowSizeExceeded && swallowed > maxSwallowSize) {
                     // Note: We do not fail early so the client has a chance to
                     // read the response before the connection is closed. See:
-                    // http://httpd.apache.org/docs/2.0/misc/fin_wait_2.html#appendix
+                    // https://httpd.apache.org/docs/2.0/misc/fin_wait_2.html#appendix
                     throw new IOException(sm.getString("inputFilter.maxSwallow"));
                 }
             } else { // errors are handled higher up.

==================================================
PageDataImpl.java
index 84290aca91..98d94da45b 100644
--- a/java/org/apache/jasper/compiler/EncodingDetector.java
+++ b/java/org/apache/jasper/compiler/EncodingDetector.java
@@ -26,7 +26,7 @@ import javax.xml.stream.XMLStreamReader;
 
 /*
  * The BoM detection is derived from:
- * http://svn.us.apache.org/viewvc/tomcat/trunk/java/org/apache/jasper/xmlparser/XMLEncodingDetector.java?annotate=1742248
+ * https://svn.us.apache.org/viewvc/tomcat/trunk/java/org/apache/jasper/xmlparser/XMLEncodingDetector.java?annotate=1742248
  *
  * The prolog is always at least as specific as the BOM therefore any encoding
  * specified in the prolog should take priority over the BOM.

==================================================
JspServletWrapper.java
index 50b5dd75a2..beaa191095 100644
--- a/java/org/apache/jasper/compiler/PageDataImpl.java
+++ b/java/org/apache/jasper/compiler/PageDataImpl.java
@@ -214,7 +214,7 @@ class PageDataImpl extends PageData implements TagConstants {
                         continue;
                     }
 
-                    // Bugzilla 35252: http://bz.apache.org/bugzilla/show_bug.cgi?id=35252
+                    // Bugzilla 35252: https://bz.apache.org/bugzilla/show_bug.cgi?id=35252
                     if(rootAttrs.getIndex(qName) == -1) {
                         rootAttrs.addAttribute(attrs.getURI(i),
                                                attrs.getLocalName(i),

==================================================
Base64.java
index 6e27f7a0a1..77cd3fef92 100644
--- a/java/org/apache/tomcat/util/bcel/package.html
+++ b/java/org/apache/tomcat/util/bcel/package.html
@@ -21,7 +21,7 @@
 <body bgcolor="white">
 <p>
 This package contains basic classes for the
-<a href="http://commons.apache.org/bcel/">Byte Code Engineering Library</a>
+<a href="https://commons.apache.org/bcel/">Byte Code Engineering Library</a>
  and constants defined by the
 <a href="http://docs.oracle.com/javase/specs/">
  JVM specification</a>.

==================================================
WebXml.java
index 9f17e37ef4..27fd701f01 100644
--- a/java/org/apache/tomcat/util/codec/binary/Base64.java
+++ b/java/org/apache/tomcat/util/codec/binary/Base64.java
@@ -76,7 +76,7 @@ public class Base64 extends BaseNCodec {
      * equivalents as specified in Table 1 of RFC 2045.
      *
      * Thanks to "commons" project in ws.apache.org for this code.
-     * http://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
+     * https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
      */
     private static final byte[] STANDARD_ENCODE_TABLE = {
             'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',
@@ -108,7 +108,7 @@ public class Base64 extends BaseNCodec {
      * URL_SAFE and STANDARD base64. (The encoder, on the other hand, needs to know ahead of time what to emit).
      *
      * Thanks to "commons" project in ws.apache.org for this code.
-     * http://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
+     * https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
      */
     private static final byte[] DECODE_TABLE = {
         //   0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
@@ -315,7 +315,7 @@ public class Base64 extends BaseNCodec {
      * <p><b>Note: no padding is added when encoding using the URL-safe alphabet.</b></p>
      * <p>
      * Thanks to "commons" project in ws.apache.org for the bitwise operations, and general approach.
-     * http://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
+     * https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
      * </p>
      *
      * @param in
@@ -412,7 +412,7 @@ public class Base64 extends BaseNCodec {
      * </p>
      * <p>
      * Thanks to "commons" project in ws.apache.org for the bitwise operations, and general approach.
-     * http://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
+     * https://svn.apache.org/repos/asf/webservices/commons/trunk/modules/util/
      * </p>
      *
      * @param in

==================================================
CallMethodRule.java
index fefc10f8e3..5cc6830f1e 100644
--- a/java/org/apache/tomcat/util/descriptor/web/WebXml.java
+++ b/java/org/apache/tomcat/util/descriptor/web/WebXml.java
@@ -315,7 +315,7 @@ public class WebXml extends XmlEncodingBase implements DocumentProperties.Charse
 
     // servlet-mapping
     // Note: URLPatterns from web.xml may be URL encoded
-    //       (http://svn.apache.org/r285186)
+    //       (https://svn.apache.org/r285186)
     private final Map<String,String> servletMappings = new HashMap<>();
     private final Set<String> servletMappingNames = new HashSet<>();
     public void addServletMapping(String urlPattern, String servletName) {

==================================================
package-info.java
index 994f2028b1..40222be9c4 100644
--- a/java/org/apache/tomcat/util/digester/package.html
+++ b/java/org/apache/tomcat/util/digester/package.html
@@ -544,7 +544,7 @@ and configures the Digester to be used, and the <code>initMapping()</code>
 method for where the parsing actually takes place.</p>
 
 <p>(Struts binary and source distributions can be acquired at
-<a href="http://struts.apache.org/">http://struts.apache.org/</a>.)</p>
+<a href="https://struts.apache.org/">http://struts.apache.org/</a>.)</p>
 
 <p>The following discussion highlights a few of the matching patterns and
 processing rules that are configured, to illustrate the use of some of the
@@ -874,8 +874,8 @@ the way that <code>RegexRules</code> is intended to be used.
 </p>
 <p>
 There are many good regex libraries available. (For example
-<a href='http://jakarta.apache.org/oro/index.html'>Jakarta ORO</a>,
-<a href='http://jakarta.apache.org/regexp/index.html'>Jakarta Regex</a>,
+<a href='https://jakarta.apache.org/oro/index.html'>Jakarta ORO</a>,
+<a href='https://jakarta.apache.org/regexp/index.html'>Jakarta Regex</a>,
 <a href='http://www.cacas.org/java/gnu/regexp/'>GNU Regex</a> and
 <a href='http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/package-summary.html'>
 Java 1.4 Regex</a>)
@@ -1176,7 +1176,7 @@ It works but we have no plans to add support for other versions of the format.
 <p>
 We would consider donations of standard digester applications but it's unlikely that
 these would ever be shipped with the base digester distribution.
-If you want to discuss this, please post to <a href='http://commons.apache.org/mail-lists.html'>
+If you want to discuss this, please post to <a href='https://commons.apache.org/mail-lists.html'>
 commons dev mailing list</a>
 </p>
 </li>

==================================================
package-info.java
index 1b9b2abcd3..6e232ba1c4 100644
--- a/java/org/apache/tomcat/util/http/fileupload/package-info.java
+++ b/java/org/apache/tomcat/util/http/fileupload/package-info.java
@@ -81,7 +81,7 @@
  * </p>
  * <p>
  * Please see the FileUpload
- * <a href="http://commons.apache.org/fileupload/using.html" target="_top">User Guide</a>
+ * <a href="https://commons.apache.org/fileupload/using.html" target="_top">User Guide</a>
  * for further details and examples of how to use this package.
  * </p>
  */

==================================================
DataSourceFactory.java
index 4a76e98412..87eaecabce 100644
--- a/modules/jdbc-pool/pom.xml
+++ b/modules/jdbc-pool/pom.xml
@@ -32,7 +32,7 @@
   <packaging>jar</packaging>
 
   <name>jdbc-pool</name>
-  <url>http://people.apache.org/~fhanik/jdbc-pool/</url>
+  <url>https://people.apache.org/~fhanik/jdbc-pool/</url>
 
   <properties>
     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
@@ -56,7 +56,7 @@
   <scm>
     <connection>scm:svn:https://svn.apache.org/repos/asf/tomcat/trunk/modules/jdbc-pool</connection>
     <developerConnection>scm:svn:https://svn.apache.org/repos/asf/tomcat/trunk/modules/jdbc-pool</developerConnection>
-    <url>http://svn.apache.org/viewvc/tomcat/trunk/modules/jdbc-pool</url>
+    <url>https://svn.apache.org/viewvc/tomcat/trunk/modules/jdbc-pool</url>
   </scm>
 
   <dependencies>

==================================================
