fe6bf87f5f9a98602d0d87bcb8a4b8317cd0c2b2
==================================================
Add the flag indicating that member is a localMember.
==================================================
Keiichi Fujino
==================================================
Tue Apr 5 07:15:36 2016 +0000
==================================================
McastService.java
Add the flag indicating that member is a localMember.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1737791 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MemberImpl.java
index 761406458e..18bbac50aa 100644
--- a/java/org/apache/catalina/tribes/membership/McastService.java
+++ b/java/org/apache/catalina/tribes/membership/McastService.java
@@ -156,6 +156,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
                 localMember.setUniqueId(UUIDGenerator.randomUUID(true));
                 localMember.setPayload(getPayload());
                 localMember.setDomain(getDomain());
+                localMember.setLocal(true);
             }
             localMember.setSecurePort(securePort);
             localMember.setUdpPort(udpPort);
@@ -306,6 +307,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
         if ( localMember == null ) {
             localMember = new MemberImpl(host, port, 100);
             localMember.setUniqueId(UUIDGenerator.randomUUID(true));
+            localMember.setLocal(true);
         } else {
             localMember.setHostname(host);
             localMember.setPort(port);

==================================================
