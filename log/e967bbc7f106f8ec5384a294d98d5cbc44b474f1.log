e967bbc7f106f8ec5384a294d98d5cbc44b474f1
==================================================
Remove a source of potential deadlocks
==================================================
Mark Thomas
==================================================
Thu Jun 6 21:45:30 2019 +0100
==================================================
Http2AsyncUpgradeHandler.java
Remove a source of potential deadlocks

SocketWrapperBase.vectoredOperation acquires the (read|write) Semaphore
and then locks the SocketWrapper during completion before the Semaphore
is release. If the SocketWrapper is locked on some, but not all, paths
before acquiring the Semaphore, a deadlock becomes possible.

Fixed by removing the initial lock on SocketWrapper since the Semaphores
make it unnecessary.


==================================================
