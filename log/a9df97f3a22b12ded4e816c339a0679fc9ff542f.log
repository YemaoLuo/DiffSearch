a9df97f3a22b12ded4e816c339a0679fc9ff542f
==================================================
Expose deferAccept for APR HTTP connector.
==================================================
Mark Emlyn
==================================================
Mon Oct 27 22:04:51 2008 +0000
==================================================
Http11AprProtocol.java
Expose deferAccept for APR HTTP connector.
I did consider adding this to the AJP connector as well but since this is to work around a buggy client and we control the client in the AJP case, I couldn't see a need for it.
Patch provided by Michael Leinartas.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708344 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AprEndpoint.java
index c19c38c4f2..c7c6c7d9c9 100644
--- a/java/org/apache/coyote/http11/Http11AprProtocol.java
+++ b/java/org/apache/coyote/http11/Http11AprProtocol.java
@@ -250,7 +250,10 @@ public class Http11AprProtocol implements ProtocolHandler, MBeanRegistration {
     
     public void setSendfileThreadCount(int sendfileThreadCount) { endpoint.setSendfileThreadCount(sendfileThreadCount); }
     public int getSendfileThreadCount() { return endpoint.getSendfileThreadCount(); }
-    
+
+    public boolean getDeferAccept() { return endpoint.getDeferAccept(); }
+    public void setDeferAccept(boolean deferAccept) { endpoint.setDeferAccept(deferAccept); }
+
     protected int socketBuffer = 9000;
     public int getSocketBuffer() { return socketBuffer; }
     public void setSocketBuffer(int socketBuffer) { this.socketBuffer = socketBuffer; }

==================================================
