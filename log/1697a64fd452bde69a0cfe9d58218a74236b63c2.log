1697a64fd452bde69a0cfe9d58218a74236b63c2
==================================================
Improve fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
==================================================
Mark Emlyn
==================================================
Tue Jul 6 16:47:39 2010 +0000
==================================================
AstDotSuffix.java
Improve fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
Make sure identifiers meet the requirements of the JLS

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960942 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AstIdentifier.java
index d925c1159a..5e964f1b68 100644
--- a/java/org/apache/el/parser/AstDotSuffix.java
+++ b/java/org/apache/el/parser/AstDotSuffix.java
@@ -41,7 +41,7 @@ public final class AstDotSuffix extends SimpleNode {
     
     @Override
     public void setImage(String image) {
-        if (Validation.isJavaKeyword(image)) {
+        if (!Validation.isIdentifier(image)) {
             throw new ELException("Can't use Java keyword as identifier");
         }
         this.image = image;

==================================================
Validation.java
index 2283a8db3f..d4c477a987 100644
--- a/java/org/apache/el/parser/AstIdentifier.java
+++ b/java/org/apache/el/parser/AstIdentifier.java
@@ -128,7 +128,7 @@ public final class AstIdentifier extends SimpleNode {
 
     @Override
     public void setImage(String image) {
-        if (Validation.isJavaKeyword(image)) {
+        if (!Validation.isIdentifier(image)) {
             throw new ELException("Can't use Java keyword as identifier");
         }
         this.image = image;

==================================================
