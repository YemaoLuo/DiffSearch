42d67197031a74bfd6da63de36b40f554b1f5534
==================================================
Reviewing NIO vs APR investigating unit test failure on Linux and OSX
==================================================
Mark Emlyn
==================================================
Fri Aug 23 13:35:54 2013 +0000
==================================================
InternalAprOutputBuffer.java
Reviewing NIO vs APR investigating unit test failure on Linux and OSX
Align code. Consistently generate an error message if a write of a 100 continue response fails

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1516845 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InternalNioOutputBuffer.java
index 42a400f942..2ef9b3ef23 100644
--- a/java/org/apache/coyote/http11/InternalAprOutputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalAprOutputBuffer.java
@@ -123,14 +123,11 @@ public class InternalAprOutputBuffer extends AbstractOutputBuffer<Long> {
      * Send an acknowledgment.
      */
     @Override
-    public void sendAck()
-        throws IOException {
-
+    public void sendAck() throws IOException {
         if (!committed) {
             if (Socket.send(socket, Constants.ACK_BYTES, 0, Constants.ACK_BYTES.length) < 0)
-                throw new IOException(sm.getString("iib.failedwrite"));
+                throw new IOException(sm.getString("iob.failedwrite.ack"));
         }
-
     }
 
 

==================================================
