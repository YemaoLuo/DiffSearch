f796b98813d4b12f825276a9a353bf498c64d526
==================================================
First pass at migrating JSTL lists using migration tool
==================================================
Mark Thomas
==================================================
Mon Dec 16 12:17:32 2019 +0000
==================================================
TestCompositeELResolver.java
First pass at migrating JSTL lists using migration tool

Re-enable all the tests that depend on JSTL



==================================================
TestScopedAttributeELResolver.java
index f356eee44d..777eed719b 100644
--- a/test/jakarta/el/TestCompositeELResolver.java
+++ b/test/jakarta/el/TestCompositeELResolver.java
@@ -19,7 +19,6 @@ package jakarta.el;
 import jakarta.servlet.http.HttpServletResponse;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.catalina.startup.TomcatBaseTest;
@@ -27,7 +26,6 @@ import org.apache.tomcat.util.buf.ByteChunk;
 
 public class TestCompositeELResolver extends TomcatBaseTest {
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug50408() throws Exception {
         getTomcatInstanceTestWebapp(true, true);

==================================================
TestStandardContextAliases.java
index 28c8e2c432..2bb9102cd3 100644
--- a/test/jakarta/servlet/jsp/el/TestScopedAttributeELResolver.java
+++ b/test/jakarta/servlet/jsp/el/TestScopedAttributeELResolver.java
@@ -17,7 +17,6 @@
 package jakarta.servlet.jsp.el;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.catalina.startup.TomcatBaseTest;
@@ -25,7 +24,6 @@ import org.apache.tomcat.util.buf.ByteChunk;
 
 public class TestScopedAttributeELResolver extends TomcatBaseTest {
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug49196() throws Exception {
         getTomcatInstanceTestWebapp(true, true);

==================================================
TestELInJsp.java
index 27c8641e23..91e70b0a24 100644
--- a/test/org/apache/catalina/core/TestStandardContextAliases.java
+++ b/test/org/apache/catalina/core/TestStandardContextAliases.java
@@ -88,12 +88,12 @@ public class TestStandardContextAliases extends TomcatBaseTest {
             ServletContext context = getServletContext();
 
             // Check resources individually
-            URL url = context.getResource("/WEB-INF/lib/taglibs-standard-spec-1.2.5.jar");
+            URL url = context.getResource("/WEB-INF/lib/taglibs-standard-spec-1.2.5-migrated-0.0.1.jar");
             if (url != null) {
                 resp.getWriter().write("00-PASS\n");
             }
 
-            url = context.getResource("/WEB-INF/lib/taglibs-standard-impl-1.2.5.jar");
+            url = context.getResource("/WEB-INF/lib/taglibs-standard-impl-1.2.5-migrated-0.0.1.jar");
             if (url != null) {
                 resp.getWriter().write("01-PASS\n");
             }
@@ -104,10 +104,10 @@ public class TestStandardContextAliases extends TomcatBaseTest {
                 return;
             }
 
-            if (!libs.contains("/WEB-INF/lib/taglibs-standard-spec-1.2.5.jar")) {
+            if (!libs.contains("/WEB-INF/lib/taglibs-standard-spec-1.2.5-migrated-0.0.1.jar")) {
                 return;
             }
-            if (!libs.contains("/WEB-INF/lib/taglibs-standard-impl-1.2.5.jar")) {
+            if (!libs.contains("/WEB-INF/lib/taglibs-standard-impl-1.2.5-migrated-0.0.1.jar")) {
                 return;
             }
 

==================================================
TestParser.java
index ddba84b39c..236660e29b 100644
--- a/test/org/apache/el/TestELInJsp.java
+++ b/test/org/apache/el/TestELInJsp.java
@@ -23,7 +23,6 @@ import java.util.Collections;
 import jakarta.servlet.DispatcherType;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.catalina.Wrapper;
@@ -395,7 +394,7 @@ public class TestELInJsp extends TomcatBaseTest {
         assertEcho(result, "05-Hello JUnit from Tomcat");
     }
 
-    @Ignore // Jakarta EE / JSTL
+
     @Test
     public void testBug56029() throws Exception {
         getTomcatInstanceTestWebapp(true, true);
@@ -409,7 +408,6 @@ public class TestELInJsp extends TomcatBaseTest {
     }
 
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug56147() throws Exception {
         getTomcatInstanceTestWebapp(true, true);
@@ -514,7 +512,6 @@ public class TestELInJsp extends TomcatBaseTest {
     }
 
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug61854a() throws Exception {
         getTomcatInstanceTestWebapp(true,  true);

==================================================
TestJspContextWrapper.java
index 010841d7fc..c9035be896 100644
--- a/test/org/apache/jasper/compiler/TestParser.java
+++ b/test/org/apache/jasper/compiler/TestParser.java
@@ -17,7 +17,6 @@
 package org.apache.jasper.compiler;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.catalina.startup.TomcatBaseTest;
@@ -234,7 +233,6 @@ public class TestParser extends TomcatBaseTest {
              || result.contains("&#034;5&apos;5&#034;"));
     }
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug56265() throws Exception {
         getTomcatInstanceTestWebapp(true, true);
@@ -254,7 +252,6 @@ public class TestParser extends TomcatBaseTest {
                 result.contains("[4: [data-test]: [window.alert('Hello 'World <&>'!')]]"));
     }
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug56334And56561() throws Exception {
         getTomcatInstanceTestWebapp(true, true);

==================================================
TestTldScanner.java
index 6b2a4316fc..6edd5fe045 100644
--- a/test/org/apache/jasper/runtime/TestJspContextWrapper.java
+++ b/test/org/apache/jasper/runtime/TestJspContextWrapper.java
@@ -23,7 +23,6 @@ import jakarta.servlet.DispatcherType;
 import jakarta.servlet.http.HttpServletResponse;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.catalina.startup.TomcatBaseTest;
@@ -31,7 +30,6 @@ import org.apache.tomcat.util.buf.ByteChunk;
 
 public class TestJspContextWrapper extends TomcatBaseTest {
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testELTagFilePageContext() throws Exception {
         getTomcatInstanceTestWebapp(true, true);

==================================================
TestForEach.java
index 4bae69287b..ce9727e781 100644
--- a/test/org/apache/jasper/servlet/TestTldScanner.java
+++ b/test/org/apache/jasper/servlet/TestTldScanner.java
@@ -107,9 +107,9 @@ public class TestTldScanner extends TomcatBaseTest {
 
         File webappDir = new File("webapps/examples");
         Assert.assertFalse(callback.scanFoundNoTLDs());
-        scan(callback, webappDir, "WEB-INF/lib/taglibs-standard-spec-1.2.5.jar");
+        scan(callback, webappDir, "WEB-INF/lib/taglibs-standard-spec-1.2.5-migrated-0.0.1.jar");
         Assert.assertTrue(callback.scanFoundNoTLDs());
-        scan(callback, webappDir, "WEB-INF/lib/taglibs-standard-impl-1.2.5.jar");
+        scan(callback, webappDir, "WEB-INF/lib/taglibs-standard-impl-1.2.5-migrated-0.0.1.jar");
         Assert.assertTrue(callback.scanFoundNoTLDs());
     }
 

==================================================
TestOut.java
index 5174fd6b9c..e9acb94774 100644
--- a/test/org/apache/jasper/tagplugins/jstl/core/TestForEach.java
+++ b/test/org/apache/jasper/tagplugins/jstl/core/TestForEach.java
@@ -19,14 +19,12 @@ package org.apache.jasper.tagplugins.jstl.core;
 import jakarta.servlet.http.HttpServletResponse;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.tomcat.util.buf.ByteChunk;
 
 public class TestForEach extends AbstractTestTag {
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug54242() throws Exception {
         ByteChunk res = new ByteChunk();
@@ -42,7 +40,7 @@ public class TestForEach extends AbstractTestTag {
         Assert.assertFalse(body.contains("FAIL"));
     }
 
-    @Ignore // Jakarta EE / JSTL
+
     @Test
     public void testBug54888() throws Exception {
         ByteChunk res = new ByteChunk();

==================================================
TestSet.java
index d1f33f17bb..f578928ba7 100644
--- a/test/org/apache/jasper/tagplugins/jstl/core/TestOut.java
+++ b/test/org/apache/jasper/tagplugins/jstl/core/TestOut.java
@@ -19,14 +19,12 @@ package org.apache.jasper.tagplugins.jstl.core;
 import jakarta.servlet.http.HttpServletResponse;
 
 import org.junit.Assert;
-import org.junit.Ignore;
 import org.junit.Test;
 
 import org.apache.tomcat.util.buf.ByteChunk;
 
 public class TestOut extends AbstractTestTag {
 
-    @Ignore // Jakarta EE / JSTL
     @Test
     public void testBug54011() throws Exception {
         ByteChunk res = new ByteChunk();
@@ -41,7 +39,7 @@ public class TestOut extends AbstractTestTag {
         Assert.assertTrue(body.contains("OK - 2"));
     }
 
-    @Ignore // Jakarta EE / JSTL
+
     @Test
     public void testBug54144() throws Exception {
         ByteChunk res = new ByteChunk();

==================================================
