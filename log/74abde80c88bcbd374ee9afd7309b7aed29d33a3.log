74abde80c88bcbd374ee9afd7309b7aed29d33a3
==================================================
Refactoring.
==================================================
Mark Thomas
==================================================
Mon Mar 23 10:13:20 2015 +0000
==================================================
Constants.java
Refactoring.
Ensure all the constants are in the Constants class
Remove PACKAGE_NAME constant.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1668583 13f79535-47bb-0310-9956-ffa450edef68



==================================================
PojoEndpointBase.java
index bcc997885f..686443a488 100644
--- a/java/org/apache/tomcat/websocket/pojo/Constants.java
+++ b/java/org/apache/tomcat/websocket/pojo/Constants.java
@@ -21,8 +21,10 @@ package org.apache.tomcat.websocket.pojo;
  */
 public class Constants {
 
-    protected static final String PACKAGE_NAME =
-            Constants.class.getPackage().getName();
+    public static final String POJO_PATH_PARAM_KEY =
+            "org.apache.tomcat.websocket.pojo.PojoEndpoint.pathParams";
+    public static final String POJO_METHOD_MAPPING_KEY =
+            "org.apache.tomcat.websocket.pojo.PojoEndpoint.methodMapping";
 
     private Constants() {
         // Hide default constructor

==================================================
PojoEndpointServer.java
index dce9c3721c..47f7603716 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoEndpointBase.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoEndpointBase.java
@@ -40,8 +40,7 @@ import org.apache.tomcat.util.res.StringManager;
 public abstract class PojoEndpointBase extends Endpoint {
 
     private static final Log log = LogFactory.getLog(PojoEndpointBase.class);
-    private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+    private static final StringManager sm = StringManager.getManager(PojoEndpointBase.class);
 
     private Object pojo;
     private Map<String,String> pathParameters;

==================================================
PojoMessageHandlerWholeBinary.java
index 77ef83defd..48af737626 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoEndpointServer.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoEndpointServer.java
@@ -32,13 +32,7 @@ import org.apache.tomcat.util.res.StringManager;
 public class PojoEndpointServer extends PojoEndpointBase {
 
     private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
-
-    public static final String POJO_PATH_PARAM_KEY =
-            "org.apache.tomcat.websocket.pojo.PojoEndpoint.pathParams";
-    public static final String POJO_METHOD_MAPPING_KEY =
-            "org.apache.tomcat.websocket.pojo.PojoEndpoint.methodMapping";
-
+            StringManager.getManager(PojoEndpointServer.class);
 
     @Override
     public void onOpen(Session session, EndpointConfig endpointConfig) {
@@ -59,12 +53,12 @@ public class PojoEndpointServer extends PojoEndpointBase {
         @SuppressWarnings("unchecked")
         Map<String,String> pathParameters =
                 (Map<String, String>) sec.getUserProperties().get(
-                        POJO_PATH_PARAM_KEY);
+                        Constants.POJO_PATH_PARAM_KEY);
         setPathParameters(pathParameters);
 
         PojoMethodMapping methodMapping =
                 (PojoMethodMapping) sec.getUserProperties().get(
-                        POJO_METHOD_MAPPING_KEY);
+                        Constants.POJO_METHOD_MAPPING_KEY);
         setMethodMapping(methodMapping);
 
         doOnOpen(session, endpointConfig);

==================================================
PojoMessageHandlerWholeText.java
index 2af4944a1c..d91f5f1e0a 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeBinary.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeBinary.java
@@ -39,7 +39,7 @@ public class PojoMessageHandlerWholeBinary
         extends PojoMessageHandlerWholeBase<ByteBuffer> {
 
     private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+            StringManager.getManager(PojoMessageHandlerWholeBinary.class);
 
     private final List<Decoder> decoders = new ArrayList<>();
 

==================================================
PojoMethodMapping.java
index 33ded7e4d4..27e1c544ae 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeText.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoMessageHandlerWholeText.java
@@ -40,7 +40,7 @@ public class PojoMessageHandlerWholeText
         extends PojoMessageHandlerWholeBase<String> {
 
     private static final StringManager sm =
-            StringManager.getManager(Constants.PACKAGE_NAME);
+            StringManager.getManager(PojoMessageHandlerWholeText.class);
 
     private final List<Decoder> decoders = new ArrayList<>();
     private final Class<?> primitiveType;

==================================================
