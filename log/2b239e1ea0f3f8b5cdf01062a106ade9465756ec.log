2b239e1ea0f3f8b5cdf01062a106ade9465756ec
==================================================
Correct a regression in the error page handling that prevented error pages from issuing redirects or taking other action that required the response status code to be changed.
==================================================
Mark Thomas
==================================================
Mon Apr 30 10:57:27 2018 +0000
==================================================
Response.java
Correct a regression in the error page handling that prevented error pages from issuing redirects or taking other action that required the response status code to be changed.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1830547 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11InputBuffer.java
index afef39b18b..e877883d5c 100644
--- a/java/org/apache/coyote/Response.java
+++ b/java/org/apache/coyote/Response.java
@@ -227,10 +227,6 @@ public final class Response {
      * @param status The status value to set
      */
     public void setStatus(int status) {
-        if (this.status > 399) {
-            // Don't overwrite first recorded error status
-            return;
-        }
         this.status = status;
     }
 

==================================================
