33646aba876c1aca7fdcc183bad4bc1c996bfeba
==================================================
Add get/set method for the channel that is related to ChannelInterceptor.
==================================================
Keiichi Fujino
==================================================
Tue Apr 12 07:38:41 2016 +0000
==================================================
ChannelInterceptor.java
Add get/set method for the channel that is related to ChannelInterceptor.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1738716 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ChannelInterceptorBase.java
index 9c7368f0b0..e2bebabb3c 100644
--- a/java/org/apache/catalina/tribes/ChannelInterceptor.java
+++ b/java/org/apache/catalina/tribes/ChannelInterceptor.java
@@ -168,6 +168,18 @@ public interface ChannelInterceptor extends MembershipListener, Heartbeat {
 
     public void fireInterceptorEvent(InterceptorEvent event);
 
+    /**
+     * Return the channel that is related to this interceptor
+     * @return Channel
+     */
+    public Channel getChannel();
+
+    /**
+     * Set the channel that is related to this interceptor
+     * @param channel
+     */
+    public void setChannel(Channel channel);
+
     interface InterceptorEvent {
         int getEventType();
         String getEventTypeDesc();

==================================================
GroupChannel.java
index c1ca393f6b..ce8cf5a457 100644
--- a/java/org/apache/catalina/tribes/group/ChannelInterceptorBase.java
+++ b/java/org/apache/catalina/tribes/group/ChannelInterceptorBase.java
@@ -16,6 +16,7 @@
  */
 package org.apache.catalina.tribes.group;
 
+import org.apache.catalina.tribes.Channel;
 import org.apache.catalina.tribes.ChannelException;
 import org.apache.catalina.tribes.ChannelInterceptor;
 import org.apache.catalina.tribes.ChannelMessage;
@@ -28,6 +29,7 @@ public abstract class ChannelInterceptorBase implements ChannelInterceptor {
 
     private ChannelInterceptor next;
     private ChannelInterceptor previous;
+    private Channel channel;
     //default value, always process
     protected int optionFlag = 0;
 
@@ -176,5 +178,22 @@ public abstract class ChannelInterceptorBase implements ChannelInterceptor {
         //empty operation
     }
 
+    /**
+     * Return the channel that is related to this interceptor
+     * @return Channel
+     */
+    @Override
+    public Channel getChannel() {
+        return channel;
+    }
+
+    /**
+     * Set the channel that is related to this interceptor
+     * @param channel
+     */
+    @Override
+    public void setChannel(Channel channel) {
+        this.channel = channel;
+    }
 
 }

==================================================
