985d0086329c012a994c842f0a88a9b33989827c
==================================================
Fixed false positives in unit tests on Windows
==================================================
Igal Sapir
==================================================
0700
==================================================
TestAbstractArchiveResource.java
Fixed false positives in unit tests on Windows

When the drive letter is lower cased in a Windows command prompt the test cases were failing with
expected:<jar:war:file:/[E]:/Workspace/Test/apa...> but was:<jar:war:file:/[e]:/Workspace/Test/apa...>



==================================================
TestFileResource.java
index 9c59fd8ebd..e573d9197c 100644
--- a/test/org/apache/catalina/webresources/TestAbstractArchiveResource.java
+++ b/test/org/apache/catalina/webresources/TestAbstractArchiveResource.java
@@ -48,7 +48,7 @@ public class TestAbstractArchiveResource extends TomcatBaseTest {
         expectedURL.append(docBase.getCanonicalFile().toURI().toURL().toString());
         expectedURL.append("*/WEB-INF/lib/test.jar!/META-INF/resources/index.html");
 
-        Assert.assertEquals(expectedURL.toString(), webResource.getURL().toString());
+        Assert.assertTrue(expectedURL.toString().equalsIgnoreCase(webResource.getURL().toString()));
     }
 
 
@@ -71,7 +71,7 @@ public class TestAbstractArchiveResource extends TomcatBaseTest {
         expectedURL.append(docBase.getCanonicalFile().toURI().toURL().toString());
         expectedURL.append("WEB-INF/lib/test-lib.jar!/META-INF/tags/echo.tag");
 
-        Assert.assertEquals(expectedURL.toString(), webResource.getURL().toString());
+        Assert.assertTrue(expectedURL.toString().equalsIgnoreCase(webResource.getURL().toString()));
     }
 
 }

==================================================
