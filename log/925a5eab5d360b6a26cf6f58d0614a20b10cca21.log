925a5eab5d360b6a26cf6f58d0614a20b10cca21
==================================================
Refactor to reduce duplication.
==================================================
Mark Thomas
==================================================
Fri Nov 18 15:05:47 2016 +0000
==================================================
ContainerBase.java
Refactor to reduce duplication.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1770389 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StandardContext.java
index 353e4b27f5..bba78534c9 100644
--- a/java/org/apache/catalina/core/ContainerBase.java
+++ b/java/org/apache/catalina/core/ContainerBase.java
@@ -1319,8 +1319,23 @@ public abstract class ContainerBase extends LifecycleMBeanBase
     }
 
 
-    // -------------------------------------- ContainerExecuteDelay Inner Class
+    @Override
+    public final String toString() {
+        StringBuilder sb = new StringBuilder();
+        Container parent = getParent();
+        if (parent != null) {
+            sb.append(parent.toString());
+            sb.append('.');
+        }
+        sb.append(this.getClass().getSimpleName());
+        sb.append('[');
+        sb.append(getName());
+        sb.append(']');
+        return sb.toString();
+    }
+
 
+    // -------------------------------------- ContainerExecuteDelay Inner Class
 
     /**
      * Private thread class to invoke the backgroundProcess method

==================================================
StandardEngine.java
index b51577ebdd..8716d29b94 100644
--- a/java/org/apache/catalina/core/StandardContext.java
+++ b/java/org/apache/catalina/core/StandardContext.java
@@ -5595,28 +5595,9 @@ public class StandardContext extends ContainerBase
             log.debug("resetContext " + getObjectName());
     }
 
-    /**
-     * Return a String representation of this component.
-     */
-    @Override
-    public String toString() {
-
-        StringBuilder sb = new StringBuilder();
-        if (getParent() != null) {
-            sb.append(getParent().toString());
-            sb.append(".");
-        }
-        sb.append("StandardContext[");
-        sb.append(getName());
-        sb.append("]");
-        return (sb.toString());
-
-    }
-
 
     // ------------------------------------------------------ Protected Methods
 
-
     /**
      * Adjust the URL pattern to begin with a leading slash, if appropriate
      * (i.e. we are running a servlet 2.2 application).  Otherwise, return

==================================================
StandardHost.java
index 86e266fe0f..c3e403bf90 100644
--- a/java/org/apache/catalina/core/StandardEngine.java
+++ b/java/org/apache/catalina/core/StandardEngine.java
@@ -263,19 +263,6 @@ public class StandardEngine extends ContainerBase implements Engine {
     }
 
 
-    /**
-     * Return a String representation of this component.
-     */
-    @Override
-    public String toString() {
-
-        StringBuilder sb = new StringBuilder("StandardEngine[");
-        sb.append(getName());
-        sb.append("]");
-        return (sb.toString());
-
-    }
-
     /**
      * Override the default implementation. If no access log is defined for the
      * Engine, look for one in the Engine's default host and then the default

==================================================
StandardWrapper.java
index 588b144209..6c7888d869 100644
--- a/java/org/apache/catalina/core/StandardHost.java
+++ b/java/org/apache/catalina/core/StandardHost.java
@@ -835,24 +835,6 @@ public class StandardHost extends ContainerBase implements Host {
     }
 
 
-    /**
-     * @return a String representation of this component.
-     */
-    @Override
-    public String toString() {
-
-        StringBuilder sb = new StringBuilder();
-        if (getParent() != null) {
-            sb.append(getParent().toString());
-            sb.append(".");
-        }
-        sb.append("StandardHost[");
-        sb.append(getName());
-        sb.append("]");
-        return (sb.toString());
-
-    }
-
     /**
      * Start this component and implement the requirements
      * of {@link org.apache.catalina.util.LifecycleBase#startInternal()}.

==================================================
