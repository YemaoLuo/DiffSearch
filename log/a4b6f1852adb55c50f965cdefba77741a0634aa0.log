a4b6f1852adb55c50f965cdefba77741a0634aa0
==================================================
Apply Remy's alternative fix for the String comparison bugs found by Find Bugs. Note FB still complains but it is a false positive.
==================================================
Mark Emlyn
==================================================
Mon Oct 27 14:04:07 2008 +0000
==================================================
IntrospectionUtils.java
Apply Remy's alternative fix for the String comparison bugs found by Find Bugs. Note FB still complains but it is a false positive.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708185 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Digester.java
index 4338acfd82..76066646d1 100644
--- a/java/org/apache/tomcat/util/IntrospectionUtils.java
+++ b/java/org/apache/tomcat/util/IntrospectionUtils.java
@@ -489,6 +489,9 @@ public final class IntrospectionUtils {
      */
     public static String replaceProperties(String value, Hashtable staticProp,
             PropertySource dynamicProp[]) {
+        if (value.indexOf("$") < 0) {
+            return value;
+        }
         StringBuffer sb = new StringBuffer();
         int prev = 0;
         // assert value!=nil

==================================================
