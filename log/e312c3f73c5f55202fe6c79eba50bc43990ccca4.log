e312c3f73c5f55202fe6c79eba50bc43990ccca4
==================================================
Pull up getter/setter for acceptorThreadPriority from NIO/NIO2 and expose it for all three end points. Also expose acceptorThreadCount.
==================================================
Mark Thomas
==================================================
Wed May 27 14:04:03 2015 +0000
==================================================
AbstractProtocol.java
Pull up getter/setter for acceptorThreadPriority from NIO/NIO2 and expose it for all three end points. Also expose acceptorThreadCount.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1682032 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Nio2Protocol.java
index 0e4dc64dea..1c0f60edde 100644
--- a/java/org/apache/coyote/AbstractProtocol.java
+++ b/java/org/apache/coyote/AbstractProtocol.java
@@ -284,6 +284,20 @@ public abstract class AbstractProtocol<S> implements ProtocolHandler,
         return endpoint.getConnectionCount();
     }
 
+    public void setAcceptorThreadCount(int threadCount) {
+        endpoint.setAcceptorThreadCount(threadCount);
+    }
+    public int getAcceptorThreadCount() {
+      return endpoint.getAcceptorThreadCount();
+    }
+
+    public void setAcceptorThreadPriority(int threadPriority) {
+        endpoint.setAcceptorThreadPriority(threadPriority);
+    }
+    public int getAcceptorThreadPriority() {
+      return endpoint.getAcceptorThreadPriority();
+    }
+
 
     // ---------------------------------------------------------- Public methods
 

==================================================
Http11NioProtocol.java
index da8bb889d3..614f7fca10 100644
--- a/java/org/apache/coyote/http11/Http11Nio2Protocol.java
+++ b/java/org/apache/coyote/http11/Http11Nio2Protocol.java
@@ -45,17 +45,6 @@ public class Http11Nio2Protocol extends AbstractHttp11JsseProtocol<Nio2Channel>
     protected Log getLog() { return log; }
 
 
-    // -------------------- Pool setup --------------------
-
-    public void setAcceptorThreadPriority(int threadPriority) {
-        ((Nio2Endpoint)getEndpoint()).setAcceptorThreadPriority(threadPriority);
-    }
-
-    public int getAcceptorThreadPriority() {
-      return ((Nio2Endpoint)getEndpoint()).getAcceptorThreadPriority();
-    }
-
-
     // ----------------------------------------------------- JMX related methods
 
     @Override

==================================================
