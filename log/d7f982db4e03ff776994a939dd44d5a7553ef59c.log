d7f982db4e03ff776994a939dd44d5a7553ef59c
==================================================
Add the ability for a context.xml file in a webapp to override the default value of copyXML on the host. There are some 'interesting' edge cases here. Test cases to follow.
==================================================
Mark Emlyn
==================================================
Tue Jun 4 21:54:48 2013 +0000
==================================================
StandardContext.java
Add the ability for a context.xml file in a webapp to override the default value of copyXML on the host. There are some 'interesting' edge cases here. Test cases to follow.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1489648 13f79535-47bb-0310-9956-ffa450edef68



==================================================
HostConfig.java
index ceee4af447..e6d806a228 100644
--- a/java/org/apache/catalina/core/StandardContext.java
+++ b/java/org/apache/catalina/core/StandardContext.java
@@ -485,6 +485,12 @@ public class StandardContext extends ContainerBase
     private boolean unpackWAR = true;
 
 
+    /**
+     * Context level override for default {@link StandardHost#isCopyXML()}.
+     */
+    private boolean copyXML = false;
+
+
     /**
      * The default context override flag for this web application.
      */
@@ -2376,6 +2382,17 @@ public class StandardContext extends ContainerBase
 
     }
 
+
+    public boolean getCopyXML() {
+        return copyXML;
+    }
+
+
+    public void setCopyXML(boolean copyXML) {
+        this.copyXML = copyXML;
+    }
+
+
     /**
      * Return the Java class name of the Wrapper implementation used
      * for servlets registered in this Context.

==================================================
