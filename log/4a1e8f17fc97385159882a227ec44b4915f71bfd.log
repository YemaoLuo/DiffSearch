4a1e8f17fc97385159882a227ec44b4915f71bfd
==================================================
Reduce diff between ByteChunk and CharChunk
==================================================
Mark Thomas
==================================================
Mon Jan 15 22:20:19 2018 +0000
==================================================
ByteChunk.java
Reduce diff between ByteChunk and CharChunk
No functional change

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1821200 13f79535-47bb-0310-9956-ffa450edef68



==================================================
CharChunk.java
index fec440883d..4410665ff8 100644
--- a/java/org/apache/tomcat/util/buf/ByteChunk.java
+++ b/java/org/apache/tomcat/util/buf/ByteChunk.java
@@ -626,17 +626,18 @@ public final class ByteChunk extends AbstractChunk {
      * Compares the message bytes to the specified String object.
      *
      * @param s the String to compare
-     * @return true if the comparison succeeded, false otherwise
+     * @return <code>true</code> if the comparison succeeded, <code>false</code>
+     *         otherwise
      */
     public boolean equalsIgnoreCase(String s) {
         byte[] b = buff;
-        int blen = end - start;
-        if (b == null || blen != s.length()) {
+        int len = end - start;
+        if (b == null || len != s.length()) {
             return false;
         }
-        int boff = start;
-        for (int i = 0; i < blen; i++) {
-            if (Ascii.toLower(b[boff++]) != Ascii.toLower(s.charAt(i))) {
+        int off = start;
+        for (int i = 0; i < len; i++) {
+            if (Ascii.toLower(b[off++]) != Ascii.toLower(s.charAt(i))) {
                 return false;
             }
         }
@@ -656,7 +657,7 @@ public final class ByteChunk extends AbstractChunk {
         }
 
         int len = end - start;
-        if (len2 != len || b1 == null || b2 == null) {
+        if (len != len2 || b1 == null || b2 == null) {
             return false;
         }
 

==================================================
