9f37899f6643ef21786ca2ea965ab85de824e1d0
==================================================
- Fix some classnames for resources following refactorings
==================================================
Remy Maucherat
==================================================
Thu Oct 3 16:23:59 2013 +0000
==================================================
ConnectorStoreAppender.java
- Fix some classnames for resources following refactorings
- Add support for InetAddress for the connector address
- Do not ignore the thread local listener and add the special engine listener just in case

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1528920 13f79535-47bb-0310-9956-ffa450edef68



==================================================
GlobalNamingResourcesSF.java
index 12c7d0d84b..bfbf400f50 100644
--- a/java/org/apache/catalina/storeconfig/ConnectorStoreAppender.java
+++ b/java/org/apache/catalina/storeconfig/ConnectorStoreAppender.java
@@ -23,7 +23,6 @@ import java.beans.PropertyDescriptor;
 import java.io.File;
 import java.io.IOException;
 import java.io.PrintWriter;
-import java.net.InetAddress;
 import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.Iterator;
@@ -101,10 +100,6 @@ public class ConnectorStoreAppender extends StoreAppender {
             if (value == null) {
                 continue; // Null values are not persisted
             }
-            // Convert IP addresses to strings so they will be persisted
-            if (value instanceof InetAddress) {
-                value = ((InetAddress) value).getHostAddress();
-            }
             if (!isPersistable(value.getClass())) {
                 continue;
             }

==================================================
StoreAppender.java
index 6431a7a591..d863596bbf 100644
--- a/java/org/apache/catalina/storeconfig/GlobalNamingResourcesSF.java
+++ b/java/org/apache/catalina/storeconfig/GlobalNamingResourcesSF.java
@@ -56,7 +56,7 @@ public class GlobalNamingResourcesSF extends StoreFactoryBase {
                             resources);
                 } else {
                     if(log.isWarnEnabled())
-                        log.warn("Can't find NamingRsources Store Factory!");
+                        log.warn("Can't find NamingResources Store Factory!");
                 }
 
                 getStoreAppender().printIndent(aWriter, indent + 2);

==================================================
