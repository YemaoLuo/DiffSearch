cd56eb7748e69cb3170a2cc1fea7c6a5356a0981
==================================================
Fix corrupted escaping of single quotes.
==================================================
Mark Thomas
==================================================
Wed Nov 14 22:23:55 2018 +0000
==================================================
Export.java
index f2522417d9..64fb908ac2 100644
--- a/java/org/apache/naming/LocalStrings_fr.properties
+++ b/java/org/apache/naming/LocalStrings_fr.properties
@@ -21,7 +21,7 @@ namingContext.alreadyBound=Le Nom [{0}] est déjà lié à ce Contexte
 namingContext.contextExpected=Le Nom n'est pas lié à un Contexte
 namingContext.failResolvingReference=Une erreur s est produite durant la résolution de la référence
 namingContext.invalidName=Le Nom est invalide
-namingContext.nameNotBound=Le Nom [{0}] n''''est pas lié à ce Contexte
+namingContext.nameNotBound=Le Nom [{0}] n''est pas lié à ce Contexte
 namingContext.noAbsoluteName=Impossible de générer un nom absolu pour cet espace de nommage (namespace)
 namingContext.readOnly=Le Contexte est en lecture seule
 

==================================================
Utils.java
index 3198cdfd28..f14654ebc6 100644
--- a/java/org/apache/tomcat/buildutil/translate/Export.java
+++ b/java/org/apache/tomcat/buildutil/translate/Export.java
@@ -125,6 +125,9 @@ public class Export {
             try (FileOutputStream fos = new FileOutputStream(out);
                     Writer w = new OutputStreamWriter(fos, StandardCharsets.UTF_8)) {
                 for (Object key : translation.keySet()) {
+                    if (translation.get(key).toString().contains("''")) {
+                        System.out.println("");
+                    }
                     w.write(key + "=" + Utils.formatValue(translation.getProperty((String) key)) + "\n");
                 }
             } catch (IOException ioe) {

==================================================
