18a9f4f7c4ed986755f8edaab70fef765738f2f2
==================================================
Remove some unused methods and related code
==================================================
Mark Emlyn
==================================================
Thu Jan 15 14:09:37 2009 +0000
==================================================
InternalOutputBuffer.java
Remove some unused methods and related code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734715 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ExpressionEvaluatorImpl.java
index 0de094cddb..310f01a5ee 100644
--- a/java/org/apache/coyote/http11/InternalOutputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalOutputBuffer.java
@@ -466,20 +466,6 @@ public class InternalOutputBuffer
 
     }
 
-    private String getMessage(final int message){
-        if (org.apache.coyote.Constants.IS_SECURITY_ENABLED){
-           return AccessController.doPrivileged(
-                new PrivilegedAction<String>(){
-                    public String run(){
-                        return HttpMessages.getMessage(message); 
-                    }
-                }
-           );
-        } else {
-            return HttpMessages.getMessage(message);
-        }
-    }
-
     /**
      * Send a header.
      * 

==================================================
ApacheConfig.java
index 21dbefce34..56c099d4a6 100644
--- a/java/org/apache/jasper/el/ExpressionEvaluatorImpl.java
+++ b/java/org/apache/jasper/el/ExpressionEvaluatorImpl.java
@@ -16,7 +16,6 @@
  */
 package org.apache.jasper.el;
 
-import javax.el.ELContext;
 import javax.el.ExpressionFactory;
 import javax.el.ValueExpression;
 import javax.servlet.jsp.el.ELException;

==================================================
UDecoder.java
index 232f20523e..71755e8308 100644
--- a/java/org/apache/jk/config/ApacheConfig.java
+++ b/java/org/apache/jk/config/ApacheConfig.java
@@ -380,14 +380,6 @@ public class ApacheConfig  extends BaseJkConfig {
 	}
     }    
 
-    
-    private void generateNameVirtualHost( PrintWriter mod_jk, String ip ) {
-        if( !NamedVirtualHosts.containsKey(ip) ) {
-            mod_jk.println("NameVirtualHost " + ip + "");
-            NamedVirtualHosts.put(ip,ip);
-        }
-    }
-    
     // -------------------- Apache serves static mode --------------------
     // This is not going to work for all apps. We fall back to stupid mode.
     
@@ -561,14 +553,4 @@ public class ApacheConfig  extends BaseJkConfig {
         return docBase;
     }
 
-    private String getVirtualHostAddress(String vhost, String vhostip) {
-        if( vhostip == null ) {
-            if ( vhost != null && vhost.length() > 0 && Character.isDigit(vhost.charAt(0)) )
-                vhostip=vhost;
-            else
-                vhostip="*";
-        }
-        return vhostip;
-    }
-
 }

==================================================
UEncoder.java
index d90a65483c..e15976397c 100644
--- a/java/org/apache/tomcat/util/buf/UDecoder.java
+++ b/java/org/apache/tomcat/util/buf/UDecoder.java
@@ -30,9 +30,6 @@ import java.io.IOException;
  */
 public final class UDecoder {
     
-    private static org.apache.juli.logging.Log log=
-        org.apache.juli.logging.LogFactory.getLog(UDecoder.class );
-    
     protected static final boolean ALLOW_ENCODED_SLASH = 
         Boolean.valueOf(System.getProperty("org.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH", "false")).booleanValue();
 
@@ -276,10 +273,4 @@ public final class UDecoder {
 	return digit;
     }
 
-    private final static int debug=0;
-    private static void log( String s ) {
-        if (log.isDebugEnabled())
-            log.debug("URLDecoder: " + s );
-    }
-
 }

==================================================
BaseNotificationBroadcaster.java
index abcea45ffe..8108a4c03e 100644
--- a/java/org/apache/tomcat/util/buf/UEncoder.java
+++ b/java/org/apache/tomcat/util/buf/UEncoder.java
@@ -140,11 +140,6 @@ public final class UEncoder {
 
     // -------------------- Internal implementation --------------------
     
-    // 
-    private void init() {
-	
-    }
-    
     private void initSafeChars() {
 	safeChars=new BitSet(128);
 	int i;

==================================================
