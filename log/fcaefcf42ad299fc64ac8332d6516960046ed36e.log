fcaefcf42ad299fc64ac8332d6516960046ed36e
==================================================
Further work on https://issues.apache.org/bugzilla/show_bug.cgi?id=55799
==================================================
Mark Emlyn
==================================================
Wed Nov 20 20:57:52 2013 +0000
==================================================
WsRemoteEndpointImplBase.java
Further work on https://issues.apache.org/bugzilla/show_bug.cgi?id=55799
If an IO error occurs while sending (or receiving) a WebSocket message pretty much the only thing that can be done is to close the connection - hopefully in a graceful manner. Therefore, leave the state machine in the "message in progress" state if an error occurs as this will prevent further attempts to send non-control messages. The close message is a control message so it will not be blocked. Note that the close message may not reach the other end of the connection.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1543943 13f79535-47bb-0310-9956-ffa450edef68



==================================================
