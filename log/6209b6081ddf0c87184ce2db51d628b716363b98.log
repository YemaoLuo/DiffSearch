6209b6081ddf0c87184ce2db51d628b716363b98
==================================================
Use interface rather than internal implementation
==================================================
Mark Emlyn
==================================================
Wed Feb 1 11:04:47 2012 +0000
==================================================
Context.java
Use interface rather than internal implementation

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1239065 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StandardContext.java
index 015b8b3060..63c63e8fbc 100644
--- a/java/org/apache/catalina/Context.java
+++ b/java/org/apache/catalina/Context.java
@@ -14,21 +14,18 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-
-
 package org.apache.catalina;
 
-
 import java.net.URL;
 import java.util.Set;
 
 import javax.servlet.ServletContainerInitializer;
 import javax.servlet.ServletContext;
+import javax.servlet.ServletRegistration;
 import javax.servlet.ServletRequest;
 import javax.servlet.ServletSecurityElement;
 import javax.servlet.descriptor.JspConfigDescriptor;
 
-import org.apache.catalina.core.ApplicationServletRegistration;
 import org.apache.catalina.deploy.ApplicationParameter;
 import org.apache.catalina.deploy.ErrorPage;
 import org.apache.catalina.deploy.FilterDef;
@@ -40,7 +37,6 @@ import org.apache.catalina.util.CharsetMapper;
 import org.apache.tomcat.JarScanner;
 import org.apache.tomcat.util.http.mapper.Mapper;
 
-
 /**
  * A <b>Context</b> is a Container that represents a servlet context, and
  * therefore an individual web application, in the Catalina servlet engine.
@@ -60,7 +56,6 @@ import org.apache.tomcat.util.http.mapper.Mapper;
  * @author Craig R. McClanahan
  * @version $Id$
  */
-
 public interface Context extends Container {
 
 
@@ -1320,7 +1315,7 @@ public interface Context extends Container {
      * @return urls currently mapped to this registration that are already
      *         present in web.xml
      */
-    Set<String> addServletSecurity(ApplicationServletRegistration registration,
+    Set<String> addServletSecurity(ServletRegistration.Dynamic registration,
             ServletSecurityElement servletSecurityElement);
 
     /**

==================================================
FailedContext.java
index 7246f74260..e71ae9a125 100644
--- a/java/org/apache/catalina/core/StandardContext.java
+++ b/java/org/apache/catalina/core/StandardContext.java
@@ -5563,7 +5563,7 @@ public class StandardContext extends ContainerBase
 
     @Override
     public Set<String> addServletSecurity(
-            ApplicationServletRegistration registration,
+            ServletRegistration.Dynamic registration,
             ServletSecurityElement servletSecurityElement) {
 
         Set<String> conflicts = new HashSet<String>();

==================================================
