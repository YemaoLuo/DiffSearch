fb51a0780522e3a2f011fcdff883b8819447fe53
==================================================
Update translation import/export to handle javax -> jakarta migration
==================================================
Mark Thomas
==================================================
Thu Feb 6 09:36:32 2020 +0000
==================================================
Constants.java
Update translation import/export to handle javax -> jakarta migration


==================================================
Import.java
index 403daa6a38..c4c4a5a000 100644
--- a/java/org/apache/tomcat/buildutil/translate/Constants.java
+++ b/java/org/apache/tomcat/buildutil/translate/Constants.java
@@ -26,4 +26,7 @@ public class Constants {
     public static final String STORAGE_DIR = ".settings/translations";
 
     public static final String END_PACKAGE_MARKER = ".zzz.";
+
+    public static final String JAVA_EE_SUBSTRING = "java.javax";
+    public static final String JAKARTA_EE_SUBSTRING = "java.jakarta";
 }

==================================================
Utils.java
index 4cf6fec9d2..bdffd73caa 100644
--- a/java/org/apache/tomcat/buildutil/translate/Import.java
+++ b/java/org/apache/tomcat/buildutil/translate/Import.java
@@ -124,7 +124,7 @@ public class Import {
 
         public CompositeKey(String in) {
             int posPkg = in.indexOf(Constants.END_PACKAGE_MARKER);
-            pkg = in.substring(0, posPkg);
+            pkg = in.substring(0, posPkg).replace(Constants.JAVA_EE_SUBSTRING, Constants.JAKARTA_EE_SUBSTRING);
             key = in.substring(posPkg + Constants.END_PACKAGE_MARKER.length());
             int posGroup = key.indexOf('.');
             if (posGroup == -1) {

==================================================
