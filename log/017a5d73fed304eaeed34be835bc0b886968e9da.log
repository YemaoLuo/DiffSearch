017a5d73fed304eaeed34be835bc0b886968e9da
==================================================
Fix sync issues identified by SpotBugs
==================================================
Mark Thomas
==================================================
Tue Mar 15 17:18:09 2022 +0000
==================================================
TestNonBlockingAPI.java
Fix sync issues identified by SpotBugs


==================================================
SocketNioReceive.java
index 0ca63ab44a..8023e8fb68 100644
--- a/test/org/apache/catalina/nonblocking/TestNonBlockingAPI.java
+++ b/test/org/apache/catalina/nonblocking/TestNonBlockingAPI.java
@@ -1144,7 +1144,8 @@ public class TestNonBlockingAPI extends TomcatBaseTest {
                     try {
                         byte buffer[] = new byte[1 * 4];
                         while (is.isReady() && !is.isFinished()) {
-                            is.read(buffer);
+                            @SuppressWarnings("unused")
+                            int ignore = is.read(buffer);
                         }
                         String body = new String(buffer, StandardCharsets.UTF_8);
                         Assert.assertTrue(body.equals("body"));

==================================================
