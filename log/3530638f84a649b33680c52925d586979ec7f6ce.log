3530638f84a649b33680c52925d586979ec7f6ce
==================================================
Refactor the code that implements the requirement that a call to complete() or dispatch() made from a non-container thread before the container initiated thread that called startAsync() completes must be delayed until the container initiated thread has completed. Rather than implementing this by blocking the non-container thread, extend the internal state machine to track this. This removes the possibility that blocking the non-container thread could trigger a deadlock.
==================================================
Mark Thomas
==================================================
Mon Sep 5 14:17:59 2016 +0000
==================================================
AsyncStateMachine.java
Refactor the code that implements the requirement that a call to complete() or dispatch() made from a non-container thread before the container initiated thread that called startAsync() completes must be delayed until the container initiated thread has completed. Rather than implementing this by blocking the non-container thread, extend the internal state machine to track this. This removes the possibility that blocking the non-container thread could trigger a deadlock.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1759274 13f79535-47bb-0310-9956-ffa450edef68



==================================================
