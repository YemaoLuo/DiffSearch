2ae39836f5ce4516e95437d5d73305c03bbcfba7
==================================================
Restore the required default ciphers after the removal of the system property
==================================================
Mark Emlyn
==================================================
Fri Aug 1 19:39:05 2014 +0000
==================================================
AbstractEndpoint.java
Restore the required default ciphers after the removal of the system property

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1615210 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AprEndpoint.java
index 7e5ba7fa3b..31ce4f08d1 100644
--- a/java/org/apache/tomcat/util/net/AbstractEndpoint.java
+++ b/java/org/apache/tomcat/util/net/AbstractEndpoint.java
@@ -49,6 +49,9 @@ import org.apache.tomcat.util.threads.ThreadPoolExecutor;
 public abstract class AbstractEndpoint<S> {
 
     // -------------------------------------------------------------- Constants
+
+    protected static final String DEFAULT_CIPHERS = "HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5";
+
     protected static final StringManager sm = StringManager.getManager("org.apache.tomcat.util.net.res");
 
     public static interface Handler {
@@ -919,7 +922,7 @@ public abstract class AbstractEndpoint<S> {
     public String getSslProtocol() { return sslProtocol;}
     public void setSslProtocol(String s) { sslProtocol = s;}
 
-    private String ciphers = System.getProperty("tomcat.ssl.ciphers");
+    private String ciphers = DEFAULT_CIPHERS;
     public String getCiphers() { return ciphers;}
     public void setCiphers(String s) {
         ciphers = s;

==================================================
