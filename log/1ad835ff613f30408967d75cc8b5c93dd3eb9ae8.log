1ad835ff613f30408967d75cc8b5c93dd3eb9ae8
==================================================
Insert an AbstractHttp11ConnectionHandler to mirror AJP and facilitate
==================================================
Mark Thomas
==================================================
Fri Jan 30 14:22:51 2015 +0000
==================================================
AbstractHttp11Protocol.java
Insert an AbstractHttp11ConnectionHandler to mirror AJP and facilitate
pulling up code common to all HTTP handlers.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1656020 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11AprProtocol.java
index afb941bf06..648d5bdc90 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
@@ -17,6 +17,7 @@
 package org.apache.coyote.http11;
 
 import org.apache.coyote.AbstractProtocol;
+
 import org.apache.tomcat.util.net.AbstractEndpoint;
 
 public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
@@ -228,4 +229,10 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
         processor.setServer(getServer());
         processor.setClientCertProvider(getClientCertProvider());
     }
+
+
+    protected abstract static class AbstractHttp11ConnectionHandler<S>
+            extends AbstractConnectionHandler<S,Http11Processor> {
+
+    }
 }

==================================================
Http11Nio2Protocol.java
index 3c3347f9e5..aa3cc88eef 100644
--- a/java/org/apache/coyote/http11/Http11AprProtocol.java
+++ b/java/org/apache/coyote/http11/Http11AprProtocol.java
@@ -212,7 +212,7 @@ public class Http11AprProtocol extends AbstractHttp11Protocol<Long> {
     // --------------------  Connection handler --------------------
 
     protected static class Http11ConnectionHandler
-            extends AbstractConnectionHandler<Long,Http11Processor> {
+            extends AbstractHttp11ConnectionHandler<Long> {
 
         protected Http11AprProtocol proto;
 

==================================================
Http11NioProtocol.java
index 8bb9136740..0fc10b431b 100644
--- a/java/org/apache/coyote/http11/Http11Nio2Protocol.java
+++ b/java/org/apache/coyote/http11/Http11Nio2Protocol.java
@@ -100,7 +100,7 @@ public class Http11Nio2Protocol extends AbstractHttp11JsseProtocol<Nio2Channel>
     // --------------------  Connection handler --------------------
 
     protected static class Http11ConnectionHandler
-            extends AbstractConnectionHandler<Nio2Channel,Http11Processor>
+            extends AbstractHttp11ConnectionHandler<Nio2Channel>
             implements Handler {
 
         protected Http11Nio2Protocol proto;

==================================================
