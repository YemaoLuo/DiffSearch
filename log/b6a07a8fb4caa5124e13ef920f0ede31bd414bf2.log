b6a07a8fb4caa5124e13ef920f0ede31bd414bf2
==================================================
getCookies is a httpServletRequestMethod, not a httpServletResponseMethod
==================================================
Mark Emlyn
==================================================
Tue Apr 20 22:11:15 2010 +0000
==================================================
Response.java
getCookies is a httpServletRequestMethod, not a httpServletResponseMethod

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936086 13f79535-47bb-0310-9956-ffa450edef68



==================================================
DummyResponse.java
index 7b9ff60dcd..7c5aba7e44 100644
--- a/java/org/apache/catalina/connector/Response.java
+++ b/java/org/apache/catalina/connector/Response.java
@@ -234,12 +234,6 @@ public class Response
     protected boolean error = false;
 
 
-    /**
-     * The set of Cookies associated with this Response.
-     */
-    protected ArrayList<Cookie> cookies = new ArrayList<Cookie>();
-
-
     /**
      * Using output stream flag.
      */
@@ -281,8 +275,6 @@ public class Response
         error = false;
         isCharacterEncodingSet = false;
         
-        cookies.clear();
-
         if (Globals.IS_SECURITY_ENABLED || Connector.RECYCLE_FACADES) {
             if (facade != null) {
                 facade.clear();
@@ -864,15 +856,6 @@ public class Response
     // --------------------------------------------------- HttpResponse Methods
 
 
-    /**
-     * Return an array of all cookies set for this response, or
-     * a zero-length array if no cookies have been set.
-     */
-    public Cookie[] getCookies() {
-        return cookies.toArray(new Cookie[cookies.size()]);
-    }
-
-
     /**
      * Return the value for the specified header, or <code>null</code> if this
      * header has not been set.  If more than one value was added for this
@@ -995,7 +978,6 @@ public class Response
         }
         if (!set) {
             addHeader(headername, sb.toString());
-            cookies.add(cookie);
         }
         
         
@@ -1017,8 +999,6 @@ public class Response
         // RFC2965 is not supported by browsers and the Servlet spec
         // asks for 2109.
         addHeader("Set-Cookie", sb.toString());
-
-        cookies.add(cookie);
     }
 
     public StringBuffer generateCookieString(final Cookie cookie) {

==================================================
