ffe7b727a76ce3b316f915650d93c649504d173e
==================================================
Code clean-up
==================================================
Mark Emlyn
==================================================
Fri Mar 4 15:52:01 2011 +0000
==================================================
ApplicationContext.java
Code clean-up
 - fix FindBugs warnings
 - remove unused code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078022 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ApplicationFilterChain.java
index 33a8a67e3c..22925c27d0 100644
--- a/java/org/apache/catalina/core/ApplicationContext.java
+++ b/java/org/apache/catalina/core/ApplicationContext.java
@@ -520,12 +520,10 @@ public class ApplicationContext
     public URL getResource(String path)
         throws MalformedURLException {
 
-        if (path == null)
-            throw new MalformedURLException(sm.getString("applicationContext.requestDispatcher.iae", path));
-
-        if (!path.startsWith("/") && GET_RESOURCE_REQUIRE_SLASH)
-            throw new MalformedURLException(sm.getString("applicationContext.requestDispatcher.iae", path));
-
+        if (path == null ||
+                !path.startsWith("/") && GET_RESOURCE_REQUIRE_SLASH)
+            throw new MalformedURLException(sm.getString(
+                    "applicationContext.requestDispatcher.iae", path));
         
         String normPath = RequestUtil.normalize(path);
         if (normPath == null)

==================================================
ApplicationFilterConfig.java
index 5fcd278180..ec87d31651 100644
--- a/java/org/apache/catalina/core/ApplicationFilterChain.java
+++ b/java/org/apache/catalina/core/ApplicationFilterChain.java
@@ -239,7 +239,6 @@ final class ApplicationFilterChain implements FilterChain, CometFilterChain {
                     SecurityUtil.doAsPrivilege
                         ("doFilter", filter, classType, args, principal);
                     
-                    args = null;
                 } else {  
                     filter.doFilter(request, response, this);
                 }
@@ -301,7 +300,6 @@ final class ApplicationFilterChain implements FilterChain, CometFilterChain {
                                                classTypeUsedInService, 
                                                args,
                                                principal);   
-                    args = null;
                 } else {  
                     servlet.service(request, response);
                 }
@@ -426,7 +424,6 @@ final class ApplicationFilterChain implements FilterChain, CometFilterChain {
                     SecurityUtil.doAsPrivilege("doFilterEvent", filter,
                             cometClassType, args, principal);
 
-                    args = null;
                 } else {  
                     filter.doFilterEvent(event, this);
                 }
@@ -481,7 +478,6 @@ final class ApplicationFilterChain implements FilterChain, CometFilterChain {
                         classTypeUsedInEvent, 
                         args,
                         principal);
-                args = null;
             } else {  
                 ((CometProcessor) servlet).event(event);
             }

==================================================
ApplicationHttpRequest.java
index f0e8ba94f2..2797a576f8 100644
--- a/java/org/apache/catalina/core/ApplicationFilterConfig.java
+++ b/java/org/apache/catalina/core/ApplicationFilterConfig.java
@@ -110,7 +110,7 @@ public final class ApplicationFilterConfig implements FilterConfig, Serializable
     /**
      * The Context with which we are associated.
      */
-    private Context context = null;
+    private transient Context context = null;
 
 
     /**

==================================================
