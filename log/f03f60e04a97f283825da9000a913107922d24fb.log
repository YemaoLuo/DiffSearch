f03f60e04a97f283825da9000a913107922d24fb
==================================================
Minor EL bugs when running under Graal/SubstrateVM
==================================================
Filip Hanik
==================================================
0700
==================================================
JasperELResolver.java
Minor EL bugs when running under Graal/SubstrateVM



==================================================
TestJasperELResolver.java
index d28c61c51f..71ed2ff710 100644
--- a/java/org/apache/jasper/el/JasperELResolver.java
+++ b/java/org/apache/jasper/el/JasperELResolver.java
@@ -199,6 +199,7 @@ public class JasperELResolver extends CompositeELResolver {
             if (method != null) {
                 context.setPropertyResolved(base, property);
                 try {
+                    method.setAccessible(true);
                     value = method.invoke(base, (Object[]) null);
                 } catch (Exception ex) {
                     Throwable thr = ExceptionUtils.unwrapInvocationTargetException(ex);
@@ -211,6 +212,9 @@ public class JasperELResolver extends CompositeELResolver {
         @Override
         public void setValue(ELContext context, Object base, Object property,
                 Object value) {
+            if (base == null) {
+                return;
+            }
             Method method = getWriteMethod(base.getClass(), property.toString());
             if (method != null) {
                 context.setPropertyResolved(base, property);

==================================================
