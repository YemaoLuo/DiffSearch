554fb1409b9c45b3378391d43374b4672b734a25
==================================================
Remove dataMessageInProgress since it is no longer required along with the supporting code.
==================================================
Mark Emlyn
==================================================
Wed Nov 20 14:02:28 2013 +0000
==================================================
WsRemoteEndpointImplBase.java
index a5f3e97432..5f8ce6a014 100644
--- a/java/org/apache/tomcat/websocket/LocalStrings.properties
+++ b/java/org/apache/tomcat/websocket/LocalStrings.properties
@@ -57,7 +57,7 @@ wsRemoteEndpoint.closedWriter=This method may not be called as the Writer has be
 wsRemoteEndpoint.changeType=When sending a fragmented message, all fragments bust be of the same type
 wsRemoteEndpoint.concurrentMessageSend=Messages may not be sent concurrently even when using the asynchronous send messages. The client must wait for the previous message to complete before sending the next.
 wsRemoteEndpoint.flushOnCloseFailed=Flushing batched messages before closing the session failed
-wsRemoteEndpoint.inProgress=Message will not be sent because the WebSocket session is currently sending another message
+wsRemoteEndpoint.inProgress=Unexpected state. Please report a bug. Message will not be sent because the WebSocket session is currently sending another message
 wsRemoteEndpoint.invalidEncoder=The specified encoder of type [{0}] could not be instantiated
 wsRemoteEndpoint.noEncoder=No encoder specified for object of class [{0}]
 wsRemoteEndpoint.wrongState=Remote endpoint was in state [{0}] but state [{1}] is required for this action

==================================================
