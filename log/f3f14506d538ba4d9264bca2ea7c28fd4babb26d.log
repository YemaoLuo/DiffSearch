f3f14506d538ba4d9264bca2ea7c28fd4babb26d
==================================================
Pull up common code
==================================================
Mark Emlyn
==================================================
Sun Jun 19 15:56:22 2011 +0000
==================================================
AbstractProcessor.java
Pull up common code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137382 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractAjpProcessor.java
index 92c6f8e5f1..912dc25440 100644
--- a/java/org/apache/coyote/AbstractProcessor.java
+++ b/java/org/apache/coyote/AbstractProcessor.java
@@ -19,6 +19,7 @@ package org.apache.coyote;
 import java.util.concurrent.Executor;
 
 import org.apache.tomcat.util.net.AbstractEndpoint;
+import org.apache.tomcat.util.net.AbstractEndpoint.Handler.SocketState;
 
 /**
  * Provides functionality and attributes common to all supported protocols
@@ -82,11 +83,6 @@ public abstract class AbstractProcessor implements ActionHook, Processor {
     }
 
 
-
-    /*
-     * Expose selected endpoint attributes through the processor
-     */
-
     /**
      * Obtain the Executor used by the underlying endpoint.
      */
@@ -94,4 +90,14 @@ public abstract class AbstractProcessor implements ActionHook, Processor {
     public Executor getExecutor() {
         return endpoint.getExecutor();
     }
+    
+    
+    public boolean isAsync() {
+        return asyncStateMachine.isAsync();
+    }
+
+
+    public SocketState asyncPostProcess() {
+        return asyncStateMachine.asyncPostProcess();
+    }
 }

==================================================
AbstractHttp11Processor.java
index 786a6a9462..6a813c2682 100644
--- a/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
@@ -871,14 +871,6 @@ public abstract class AbstractAjpProcessor extends AbstractProcessor {
            throws IOException;
    
    
-   protected boolean isAsync() {
-       return asyncStateMachine.isAsync();
-   }
-   
-   protected SocketState asyncPostProcess() {
-       return asyncStateMachine.asyncPostProcess();
-   }
-
    // ------------------------------------- InputStreamInputBuffer Inner Class
 
 

==================================================
