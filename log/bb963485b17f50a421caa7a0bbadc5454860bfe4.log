bb963485b17f50a421caa7a0bbadc5454860bfe4
==================================================
Fix concurrency issue.
==================================================
Mark Emlyn
==================================================
Mon Mar 11 15:59:06 2013 +0000
==================================================
AbstractServletOutputStream.java
Fix concurrency issue.
doWrite() add the socket to the poller if there are bytes left to wrote. The may poller fire and execution could reach onWritePossible() before the remaining bytes have been copied to the buffer thereby triggering an NPE.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1455201 13f79535-47bb-0310-9956-ffa450edef68



==================================================
