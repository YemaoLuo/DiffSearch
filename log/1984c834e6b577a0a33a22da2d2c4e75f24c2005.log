1984c834e6b577a0a33a22da2d2c4e75f24c2005
==================================================
Fix wrong booleans (which shouldn't change anything in practice, but the code is wrong).
==================================================
Remy Maucherat
==================================================
Tue Mar 4 18:04:25 2014 +0000
==================================================
CoyoteInputStream.java
Fix wrong booleans (which shouldn't change anything in practice, but the code is wrong).

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1574163 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InputBuffer.java
index 6f1a3fa126..d7af1d0451 100644
--- a/java/org/apache/catalina/connector/CoyoteInputStream.java
+++ b/java/org/apache/catalina/connector/CoyoteInputStream.java
@@ -250,7 +250,7 @@ public class CoyoteInputStream extends ServletInputStream {
 
 
     private void checkNonBlockingRead() {
-        if (ib.isBlocking() && !ib.isReady()) {
+        if (!ib.isBlocking() && !ib.isReady()) {
             throw new IllegalStateException(
                     sm.getString("coyoteInputStream.nbNotready"));
         }

==================================================
