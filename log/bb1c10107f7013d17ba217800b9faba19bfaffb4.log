bb1c10107f7013d17ba217800b9faba19bfaffb4
==================================================
Refactor to avoid reproducibility issues due to zip task ordering
==================================================
Mark Thomas
==================================================
Thu Jan 20 20:00:58 2022 +0000
==================================================
TestStandardWrapper.java
Refactor to avoid reproducibility issues due to zip task ordering

Ant's zip task orders the entires based OS file names. '/' and '\' have
very different ordering so reafctor to directory names that are not
affected by this so zip files are consistent across Linux and Windows.



==================================================
TestVirtualContext.java
index 4018134b0f..89f11fdce1 100644
--- a/test/org/apache/catalina/core/TestStandardWrapper.java
+++ b/test/org/apache/catalina/core/TestStandardWrapper.java
@@ -191,7 +191,7 @@ public class TestStandardWrapper extends TomcatBaseTest {
         // Setup Tomcat instance
         Tomcat tomcat = getTomcatInstance();
 
-        File appDir = new File("test/webapp-servletsecurity");
+        File appDir = new File("test/webapp-servletsecurity-a");
         tomcat.addWebapp(null, "", appDir.getAbsolutePath());
 
         tomcat.start();
@@ -210,7 +210,7 @@ public class TestStandardWrapper extends TomcatBaseTest {
         // Setup Tomcat instance
         Tomcat tomcat = getTomcatInstance();
 
-        File appDir = new File("test/webapp-servletsecurity2");
+        File appDir = new File("test/webapp-servletsecurity-b");
         tomcat.addWebapp(null, "", appDir.getAbsolutePath());
 
         tomcat.start();

==================================================
