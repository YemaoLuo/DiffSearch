2915fb29b68b8d84bd971bfd8627d07a1b57199b
==================================================
Add some debug logging to the WebSocket session to track creation and closure
==================================================
Mark Thomas
==================================================
Mon Jan 26 13:10:54 2015 +0000
==================================================
WsSession.java
index 8603632dbf..00c536abf8 100644
--- a/java/org/apache/tomcat/websocket/LocalStrings.properties
+++ b/java/org/apache/tomcat/websocket/LocalStrings.properties
@@ -87,13 +87,15 @@ wsRemoteEndpoint.tooMuchData=Ping or pong may not send more than 125 bytes
 wsSession.timeout=The WebSocket session timeout expired
 
 wsSession.closed=The WebSocket session [{0}] has been closed and no method (apart from close()) may be called on a closed session
+wsSession.created=Created WebSocket session [{0}]
+wsSession.doClose=Closing WebSocket session [{1}]
 wsSession.duplicateHandlerBinary=A binary message handler has already been configured
 wsSession.duplicateHandlerPong=A pong message handler has already been configured
 wsSession.duplicateHandlerText=A text message handler has already been configured
 wsSession.invalidHandlerTypePong=A pong message handler must implement MessageHandler.Basic
 wsSession.flushFailOnClose=Failed to flush batched messages on session close
 wsSession.messageFailed=Unable to write the complete message as the WebSocket connection has been closed
-wsSession.sendCloseFail=Failed to send close message to remote endpoint
+wsSession.sendCloseFail=Failed to send close message for session [{0}] to remote endpoint
 wsSession.removeHandlerFailed=Unable to remove the handler [{0}] as it was not registered with this session
 wsSession.unknownHandler=Unable to add the message handler [{0}] as it was for the unrecognised type [{1}]
 wsSession.unknownHandlerType=Unable to add the message handler [{0}] as it was wrapped as the unrecognised type [{1}]

==================================================
