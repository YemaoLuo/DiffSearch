1cc2b81094049663e7673ce87a2c1a1e3aa0d700
==================================================
No functional change.
==================================================
Konstantin Kolinko
==================================================
Thu Sep 29 02:13:50 2011 +0000
==================================================
InternalAprInputBuffer.java
No functional change.
Simplify code and add comments:
- unwrapped nested if().
- s/while()/if()/ where it has only one iteration.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1177152 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InternalInputBuffer.java
index 294c5b10df..74706fdc17 100644
--- a/java/org/apache/coyote/http11/InternalAprInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalAprInputBuffer.java
@@ -340,11 +340,11 @@ public class InternalAprInputBuffer extends AbstractInputBuffer<Long> {
 
             chr = buf[pos];
 
-            if ((chr == Constants.CR) || (chr == Constants.LF)) {
-                if (chr == Constants.LF) {
-                    pos++;
-                    return false;
-                }
+            if (chr == Constants.CR) {
+                // Skip
+            } else if (chr == Constants.LF) {
+                pos++;
+                return false;
             } else {
                 break;
             }

==================================================
InternalNioInputBuffer.java
index 8a3222eeb9..b4d2d5be13 100644
--- a/java/org/apache/coyote/http11/InternalInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalInputBuffer.java
@@ -296,11 +296,11 @@ public class InternalInputBuffer extends AbstractInputBuffer<Socket> {
 
             chr = buf[pos];
 
-            if ((chr == Constants.CR) || (chr == Constants.LF)) {
-                if (chr == Constants.LF) {
-                    pos++;
-                    return false;
-                }
+            if (chr == Constants.CR) {
+                // Skip
+            } else if (chr == Constants.LF) {
+                pos++;
+                return false;
             } else {
                 break;
             }

==================================================
