8448b7f16c9110a489b917ff8f62ac4bf9e44fe4
==================================================
Refactoring. Move Mapper. Preparation for further mapper related refactoring to follow.
==================================================
Mark Emlyn
==================================================
Mon Jul 30 21:23:18 2012 +0000
==================================================
Context.java
Refactoring. Move Mapper. Preparation for further mapper related refactoring to follow.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1367313 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Connector.java
index 89db3aef68..2dfdfba84c 100644
--- a/java/org/apache/catalina/Context.java
+++ b/java/org/apache/catalina/Context.java
@@ -35,8 +35,8 @@ import org.apache.catalina.deploy.FilterMap;
 import org.apache.catalina.deploy.LoginConfig;
 import org.apache.catalina.deploy.NamingResources;
 import org.apache.catalina.deploy.SecurityConstraint;
+import org.apache.catalina.mapper.Mapper;
 import org.apache.tomcat.JarScanner;
-import org.apache.tomcat.util.http.mapper.Mapper;
 
 /**
  * A <b>Context</b> is a Container that represents a servlet context, and

==================================================
MapperListener.java
index a4cb822728..e2c608e015 100644
--- a/java/org/apache/catalina/connector/Connector.java
+++ b/java/org/apache/catalina/connector/Connector.java
@@ -27,13 +27,13 @@ import org.apache.catalina.LifecycleException;
 import org.apache.catalina.LifecycleState;
 import org.apache.catalina.Service;
 import org.apache.catalina.core.AprLifecycleListener;
+import org.apache.catalina.mapper.Mapper;
 import org.apache.catalina.util.LifecycleMBeanBase;
 import org.apache.coyote.Adapter;
 import org.apache.coyote.ProtocolHandler;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
 import org.apache.tomcat.util.IntrospectionUtils;
-import org.apache.tomcat.util.http.mapper.Mapper;
 import org.apache.tomcat.util.res.StringManager;
 
 

==================================================
Request.java
index 81b8c20859..519d2e9c48 100644
--- a/java/org/apache/catalina/connector/MapperListener.java
+++ b/java/org/apache/catalina/connector/MapperListener.java
@@ -28,10 +28,10 @@ import org.apache.catalina.LifecycleException;
 import org.apache.catalina.LifecycleListener;
 import org.apache.catalina.LifecycleState;
 import org.apache.catalina.Wrapper;
+import org.apache.catalina.mapper.Mapper;
 import org.apache.catalina.util.LifecycleMBeanBase;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
-import org.apache.tomcat.util.http.mapper.Mapper;
 import org.apache.tomcat.util.res.StringManager;
 
 

==================================================
ApplicationContext.java
index 6f78bc7ffa..e4c4bde2ca 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -72,6 +72,7 @@ import org.apache.catalina.Wrapper;
 import org.apache.catalina.core.ApplicationPart;
 import org.apache.catalina.core.ApplicationSessionCookieConfig;
 import org.apache.catalina.core.AsyncContextImpl;
+import org.apache.catalina.mapper.MappingData;
 import org.apache.catalina.util.ParameterMap;
 import org.apache.catalina.util.StringParser;
 import org.apache.coyote.ActionCode;
@@ -92,7 +93,6 @@ import org.apache.tomcat.util.http.fileupload.FileUploadBase.InvalidContentTypeE
 import org.apache.tomcat.util.http.fileupload.FileUploadException;
 import org.apache.tomcat.util.http.fileupload.disk.DiskFileItemFactory;
 import org.apache.tomcat.util.http.fileupload.servlet.ServletFileUpload;
-import org.apache.tomcat.util.http.mapper.MappingData;
 import org.apache.tomcat.util.res.StringManager;
 
 

==================================================
StandardContext.java
index b8cc6a6cbd..a113b41549 100644
--- a/java/org/apache/catalina/core/ApplicationContext.java
+++ b/java/org/apache/catalina/core/ApplicationContext.java
@@ -65,6 +65,7 @@ import org.apache.catalina.Service;
 import org.apache.catalina.Wrapper;
 import org.apache.catalina.connector.Connector;
 import org.apache.catalina.deploy.FilterDef;
+import org.apache.catalina.mapper.MappingData;
 import org.apache.catalina.util.ResourceSet;
 import org.apache.catalina.util.ServerInfo;
 import org.apache.naming.resources.DirContextURLStreamHandler;
@@ -73,7 +74,6 @@ import org.apache.tomcat.util.ExceptionUtils;
 import org.apache.tomcat.util.buf.CharChunk;
 import org.apache.tomcat.util.buf.MessageBytes;
 import org.apache.tomcat.util.http.RequestUtil;
-import org.apache.tomcat.util.http.mapper.MappingData;
 import org.apache.tomcat.util.res.StringManager;
 
 

==================================================
Mapper.java
similarity index 100%
rename from java/org/apache/tomcat/util/http/mapper/LocalStrings.properties
rename to java/org/apache/catalina/mapper/LocalStrings.properties

==================================================
MappingData.java
similarity index 99%
rename from java/org/apache/tomcat/util/http/mapper/Mapper.java
rename to java/org/apache/catalina/mapper/Mapper.java
index c8bafa9848..37494c0858 100644
--- a/java/org/apache/tomcat/util/http/mapper/Mapper.java
+++ b/java/org/apache/catalina/mapper/Mapper.java
@@ -15,7 +15,7 @@
  *  limitations under the License.
  */
 
-package org.apache.tomcat.util.http.mapper;
+package org.apache.catalina.mapper;
 
 import javax.naming.NamingException;
 import javax.naming.directory.DirContext;

==================================================
FailedContext.java
similarity index 97%
rename from java/org/apache/tomcat/util/http/mapper/MappingData.java
rename to java/org/apache/catalina/mapper/MappingData.java
index 93d83be664..f055f22927 100644
--- a/java/org/apache/tomcat/util/http/mapper/MappingData.java
+++ b/java/org/apache/catalina/mapper/MappingData.java
@@ -15,7 +15,7 @@
  *  limitations under the License.
  */
 
-package org.apache.tomcat.util.http.mapper;
+package org.apache.catalina.mapper;
 
 import org.apache.tomcat.util.buf.MessageBytes;
 

==================================================
TestMapper.java
index 1d47b4582e..9edb10fd83 100644
--- a/java/org/apache/catalina/startup/FailedContext.java
+++ b/java/org/apache/catalina/startup/FailedContext.java
@@ -54,11 +54,11 @@ import org.apache.catalina.deploy.FilterMap;
 import org.apache.catalina.deploy.LoginConfig;
 import org.apache.catalina.deploy.NamingResources;
 import org.apache.catalina.deploy.SecurityConstraint;
+import org.apache.catalina.mapper.Mapper;
 import org.apache.catalina.util.ContextName;
 import org.apache.catalina.util.LifecycleMBeanBase;
 import org.apache.juli.logging.Log;
 import org.apache.tomcat.JarScanner;
-import org.apache.tomcat.util.http.mapper.Mapper;
 import org.apache.tomcat.util.res.StringManager;
 
 /**

==================================================
TestMapperContextRoot.java
similarity index 99%
rename from test/org/apache/tomcat/util/http/mapper/TestMapper.java
rename to test/org/apache/catalina/mapper/TestMapper.java
index 3bee69bdf2..9970fd7aaf 100644
--- a/test/org/apache/tomcat/util/http/mapper/TestMapper.java
+++ b/test/org/apache/catalina/mapper/TestMapper.java
@@ -14,7 +14,7 @@
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */
-package org.apache.tomcat.util.http.mapper;
+package org.apache.catalina.mapper;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertTrue;

==================================================
TestMapperWelcomeFiles.java
similarity index 98%
rename from test/org/apache/tomcat/util/http/mapper/TestMapperContextRoot.java
rename to test/org/apache/catalina/mapper/TestMapperContextRoot.java
index 0d830d853e..dc4bf206a6 100644
--- a/test/org/apache/tomcat/util/http/mapper/TestMapperContextRoot.java
+++ b/test/org/apache/catalina/mapper/TestMapperContextRoot.java
@@ -14,7 +14,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package org.apache.tomcat.util.http.mapper;
+package org.apache.catalina.mapper;
 
 import java.io.IOException;
 

==================================================
