5d62a7175fe6aeb8796517ab0dc10c287cb2524d
==================================================
Websockets annotations can be located on superclasses, and also improve duplicates detection.
==================================================
Remy Maucherat
==================================================
Tue Dec 2 21:16:51 2014 +0000
==================================================
Util.java
Websockets annotations can be located on superclasses, and also improve duplicates detection.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1643008 13f79535-47bb-0310-9956-ffa450edef68



==================================================
PojoMethodMapping.java
index c3c49c8317..0526206777 100644
--- a/java/org/apache/tomcat/websocket/Util.java
+++ b/java/org/apache/tomcat/websocket/Util.java
@@ -576,9 +576,10 @@ public class Util {
                 new ArrayList<>();
         private final List<Class<? extends Decoder>> binaryDecoders =
                 new ArrayList<>();
-
+        private final Class<?> target;
 
         public DecoderMatch(Class<?> target, List<DecoderEntry> decoderEntries) {
+            this.target = target;
             for (DecoderEntry decoderEntry : decoderEntries) {
                 if (decoderEntry.getClazz().isAssignableFrom(target)) {
                     if (Binary.class.isAssignableFrom(
@@ -624,6 +625,11 @@ public class Util {
         }
 
 
+        public Class<?> getTarget() {
+            return target;
+        }
+
+
         public boolean hasMatches() {
             return (textDecoders.size() > 0) || (binaryDecoders.size() > 0);
         }

==================================================
