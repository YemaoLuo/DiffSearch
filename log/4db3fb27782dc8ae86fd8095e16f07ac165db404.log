4db3fb27782dc8ae86fd8095e16f07ac165db404
==================================================
If a write fills the buffer exactly, flush shouldn't empty it. It might be the last write of the response and if we flush we'll need to send an empty data frame later with end of stream set rather than setting end of stream on the frame that sends the full buffer.
==================================================
Mark Thomas
==================================================
Mon Jun 1 20:12:37 2015 +0000
==================================================
Stream.java
If a write fills the buffer exactly, flush shouldn't empty it. It might be the last write of the response and if we flush we'll need to send an empty data frame later with end of stream set rather than setting end of stream on the frame that sends the full buffer.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1682990 13f79535-47bb-0310-9956-ffa450edef68



==================================================
