9ac88ed76e6143751ca9c62d72270c5a66671bee
==================================================
kfujino review of  BZ 57338 fix.
==================================================
Mark Thomas
==================================================
Thu Dec 18 14:59:48 2014 +0000
==================================================
SingleSignOn.java
kfujino review of  BZ 57338 fix.
Need to replicate updates to SSOEntry

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1646471 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ClusterSingleSignOn.java
index 859ea0942d..0c348ce9e4 100644
--- a/java/org/apache/catalina/authenticator/SingleSignOn.java
+++ b/java/org/apache/catalina/authenticator/SingleSignOn.java
@@ -543,8 +543,11 @@ public class SingleSignOn extends ValveBase implements SessionListener {
      *                  DIGEST or FORM)
      * @param username  the username (if any) used for the authentication
      * @param password  the password (if any) used for the authentication
+     *
+     * @return <code>true</code> if the crednetials were updated, otherwise
+     *         <code>false</code>
      */
-    protected void update(String ssoId, Principal principal, String authType,
+    protected boolean update(String ssoId, Principal principal, String authType,
                           String username, String password) {
 
         SingleSignOnEntry sso = cache.get(ssoId);
@@ -554,7 +557,9 @@ public class SingleSignOn extends ValveBase implements SessionListener {
             }
 
             sso.updateCredentials(principal, authType, username, password);
+            return true;
         }
+        return false;
     }
 
 

==================================================
