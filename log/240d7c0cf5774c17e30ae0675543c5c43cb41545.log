240d7c0cf5774c17e30ae0675543c5c43cb41545
==================================================
Remove deprecated defaultMode attribute
==================================================
Mark Emlyn
==================================================
Thu Jul 29 09:45:32 2010 +0000
==================================================
ClusterManager.java
Remove deprecated defaultMode attribute
Clarify current behaviour of maxActiveSessions
Clean-up cluster-manager docs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980378 13f79535-47bb-0310-9956-ffa450edef68



==================================================
BackupManager.java
index 675a0047ac..a98495533e 100644
--- a/java/org/apache/catalina/ha/ClusterManager.java
+++ b/java/org/apache/catalina/ha/ClusterManager.java
@@ -91,17 +91,6 @@ public interface ClusterManager extends Manager {
     */
    public void setDomainReplication(boolean domainReplication);
 
-   /**
-    * @param mode The mode
-    * @since 5.5.10
-    */
-   public void setDefaultMode(boolean mode);
-
-   /**
-    * @since 5.5.10
-    */
-   public boolean isDefaultMode();
-   
    public ReplicationStream getReplicationStream(byte[] data) throws IOException;
 
    public ReplicationStream getReplicationStream(byte[] data, int offset, int length) throws IOException;

==================================================
DeltaManager.java
index f9ff387ca2..4b5d78e8e1 100644
--- a/java/org/apache/catalina/ha/session/BackupManager.java
+++ b/java/org/apache/catalina/ha/session/BackupManager.java
@@ -94,18 +94,6 @@ public class BackupManager extends StandardManager implements ClusterManager, Ma
     public void setDomainReplication(boolean sendClusterDomainOnly) {
     }
 
-    /**
-     * @return Returns the defaultMode.
-     */
-    public boolean isDefaultMode() {
-        return false;
-    }
-    /**
-     * @param defaultMode The defaultMode to set.
-     */
-    public void setDefaultMode(boolean defaultMode) {
-    }
-
     public void setExpireSessionsOnShutdown(boolean expireSessionsOnShutdown)
     {
         mExpireSessionsOnShutdown = expireSessionsOnShutdown;

==================================================
SimpleTcpCluster.java
index cc5e278324..1d43573a1b 100644
--- a/java/org/apache/catalina/ha/session/DeltaManager.java
+++ b/java/org/apache/catalina/ha/session/DeltaManager.java
@@ -88,7 +88,6 @@ public class DeltaManager extends ClusterManagerBase{
      */
     protected static String managerName = "DeltaManager";
     protected String name = null;
-    protected boolean defaultMode = false;
     private CatalinaCluster cluster = null;
 
     /**
@@ -474,20 +473,7 @@ public class DeltaManager extends ClusterManagerBase{
     }
 
     
-    /**
-     * @return Returns the defaultMode.
-     */
-    public boolean isDefaultMode() {
-        return defaultMode;
-    }
-    /**
-     * @param defaultMode The defaultMode to set.
-     */
-    public void setDefaultMode(boolean defaultMode) {
-        this.defaultMode = defaultMode;
-    }
-    
-    public CatalinaCluster getCluster() {
+   public CatalinaCluster getCluster() {
         return cluster;
     }
 

==================================================
