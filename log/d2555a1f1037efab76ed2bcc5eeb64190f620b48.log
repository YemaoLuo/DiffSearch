d2555a1f1037efab76ed2bcc5eeb64190f620b48
==================================================
Fix a handful of Eclipse warnings
==================================================
Mark Emlyn
==================================================
Tue Nov 6 13:59:31 2012 +0000
==================================================
SmapUtil.java
Fix a handful of Eclipse warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1406140 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TagLibraryInfoImpl.java
index 0cb76bda22..11a99cec27 100644
--- a/java/org/apache/jasper/compiler/SmapUtil.java
+++ b/java/org/apache/jasper/compiler/SmapUtil.java
@@ -226,13 +226,13 @@ public class SmapUtil {
         }
 
         static byte[] readWhole(File input) throws IOException {
-            FileInputStream inStream = new FileInputStream(input);
             int len = (int)input.length();
             byte[] bytes = new byte[len];
-            if (inStream.read(bytes, 0, len) != len) {
-                throw new IOException("expected size: " + len);
+            try (FileInputStream inStream = new FileInputStream(input)) {
+                if (inStream.read(bytes, 0, len) != len) {
+                    throw new IOException("expected size: " + len);
+                }
             }
-            inStream.close();
             return bytes;
         }
 

==================================================
DataSourceProxy.java
index 85ce2b25e7..0c6915b6a1 100644
--- a/java/org/apache/jasper/resources/LocalStrings.properties
+++ b/java/org/apache/jasper/resources/LocalStrings.properties
@@ -326,6 +326,7 @@ jsp.error.jspoutput.invalidUse=&lt;jsp:output&gt; must not be used in standard s
 jsp.error.attributes.not.allowed = {0} must not have any attributes
 jsp.error.tagfile.badSuffix=Missing \".tag\" suffix in tag file path {0}
 jsp.error.tagfile.illegalPath=Illegal tag file path: {0}, must start with \"/WEB-INF/tags\" or \"/META-INF/tags\"
+jsp.error.tagfile.missingPath=Path not specified to tag file
 jsp.error.plugin.wrongRootElement=Name of root element in {0} different from {1}
 jsp.error.attribute.invalidPrefix=The attribute prefix {0} does not correspond to any imported tag library
 jsp.error.nested.jspattribute=A jsp:attribute standard action cannot be nested within another jsp:attribute standard action

==================================================
ProxyConnection.java
index 636706fee3..227aa02b0f 100644
--- a/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java
+++ b/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/DataSourceProxy.java
@@ -183,6 +183,8 @@ public class DataSourceProxy implements PoolConfiguration {
 
     /**
      * {@link javax.sql.DataSource#getConnection()}
+     * @param username unused
+     * @param password unused
      */
     public javax.sql.PooledConnection getPooledConnection(String username,
             String password) throws SQLException {

==================================================
TestStatementCache.java
index c23685ae0f..4361aef569 100644
--- a/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ProxyConnection.java
+++ b/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ProxyConnection.java
@@ -55,7 +55,8 @@ public class ProxyConnection extends JdbcInterceptor {
         this.pool = pool;
     }
 
-    protected ProxyConnection(ConnectionPool parent, PooledConnection con, boolean useEquals) throws SQLException {
+    protected ProxyConnection(ConnectionPool parent, PooledConnection con,
+            boolean useEquals) {
         pool = parent;
         connection = con;
         setUseEquals(useEquals);
@@ -67,7 +68,7 @@ public class ProxyConnection extends JdbcInterceptor {
         this.connection = con;
     }
 
-    public boolean isWrapperFor(Class<?> iface) throws SQLException {
+    public boolean isWrapperFor(Class<?> iface) {
         if (iface == XAConnection.class && connection.getXAConnection()!=null) {
             return true;
         } else {

==================================================
