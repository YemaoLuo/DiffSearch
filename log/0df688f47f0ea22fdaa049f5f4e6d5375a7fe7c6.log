0df688f47f0ea22fdaa049f5f4e6d5375a7fe7c6
==================================================
Align release(SocketWrapper) for NIO and NIO2
==================================================
Mark Thomas
==================================================
Thu May 28 11:10:25 2015 +0000
==================================================
Http11Nio2Protocol.java
Align release(SocketWrapper) for NIO and NIO2

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1682206 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11NioProtocol.java
index 411b1600af..38ecb4db08 100644
--- a/java/org/apache/coyote/http11/Http11Nio2Protocol.java
+++ b/java/org/apache/coyote/http11/Http11Nio2Protocol.java
@@ -73,14 +73,14 @@ public class Http11Nio2Protocol extends AbstractHttp11JsseProtocol<Nio2Channel>
         }
 
         /**
-         * Expected to be used by the Poller to release resources on socket
+         * Expected to be used by the Endpoint to release resources on socket
          * close, errors etc.
          */
         @Override
-        public void release(SocketWrapperBase<Nio2Channel> socket) {
-            Nio2Channel channel = socket.getSocket();
-            if (channel != null) {
-                Processor processor = connections.remove(channel);
+        public void release(SocketWrapperBase<Nio2Channel> socketWrapper) {
+            Nio2Channel socket = socketWrapper.getSocket();
+            if (socket != null) {
+                Processor processor = connections.remove(socket);
                 if (processor != null) {
                     processor.recycle();
                     recycledProcessors.push(processor);

==================================================
