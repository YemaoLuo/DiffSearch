d0bfb8a33d15de94c9f3f31a6c4a0594b0c831fb
==================================================
Use standard charset rather than (non-standard) name for UTF-8
==================================================
Mark Thomas
==================================================
Mon Jun 24 10:11:08 2019 +0100
==================================================
DefaultServlet.java
Use standard charset rather than (non-standard) name for UTF-8


==================================================
MemoryUserDatabase.java
index a9ba7b6f86..16eb297c6d 100644
--- a/java/org/apache/catalina/servlets/DefaultServlet.java
+++ b/java/org/apache/catalina/servlets/DefaultServlet.java
@@ -1756,7 +1756,7 @@ public class DefaultServlet extends HttpServlet {
             Transformer transformer = tFactory.newTransformer(xsltSource);
 
             ByteArrayOutputStream stream = new ByteArrayOutputStream();
-            OutputStreamWriter osWriter = new OutputStreamWriter(stream, "UTF8");
+            OutputStreamWriter osWriter = new OutputStreamWriter(stream, StandardCharsets.UTF_8);
             StreamResult out = new StreamResult(osWriter);
             transformer.transform(xmlSource, out);
             osWriter.flush();
@@ -1811,7 +1811,7 @@ public class DefaultServlet extends HttpServlet {
 
         // Prepare a writer to a buffered area
         ByteArrayOutputStream stream = new ByteArrayOutputStream();
-        OutputStreamWriter osWriter = new OutputStreamWriter(stream, "UTF8");
+        OutputStreamWriter osWriter = new OutputStreamWriter(stream, StandardCharsets.UTF_8);
         PrintWriter writer = new PrintWriter(osWriter);
 
         StringBuilder sb = new StringBuilder();

==================================================
