8cb48b378a8986f9c4aacb18d0282b5d261f9794
==================================================
Add the initial hooks to get the Windows binaries signed by Symantec's code signing service. This work is still at the evaluation stage.
==================================================
Mark Emlyn
==================================================
Wed Jun 25 19:11:03 2014 +0000
==================================================
SignCode.java
index 8bcf4ccead..45f56d2c81 100644
--- a/build.xml
+++ b/build.xml
@@ -2088,8 +2088,25 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
     </antcall>
   </target>
 
+  <target name="sign-windows-binaries" depends="installer">
+
+    <taskdef name="signcode"
+             classname="org.apache.tomcat.buildutil.SignCode"
+             classpath="${tomcat.classes}" />
+
+    <signcode>
+      <fileset dir="${tomcat.release}">
+        <filename name="v${version}/bin/${final.name}.exe"/>
+      </fileset>
+      <fileset dir="${tomcat.dist}/bin">
+        <include name="**/*.exe"/>
+      </fileset>
+    </signcode>
+
+  </target>
+
   <target name="release"
-    depends="clean,release-init,dist-deployer,installer,package-zip,package-winzip,package-tgz,package-deployer-zip,package-deployer-tgz,javadoc,package-docs-tgz,package-src-zip,package-src-tgz,package-src-jar"
+    depends="clean,release-init,dist-deployer,sign-windows-binaries,package-zip,package-winzip,package-tgz,package-deployer-zip,package-deployer-tgz,javadoc,package-docs-tgz,package-src-zip,package-src-tgz,package-src-jar"
     description="Create a Tomcat packaged distribution">
 
     <copy file="KEYS"

==================================================
