a0de147dc15ef911f237fe631f8a77670f6d167b
==================================================
Use a constant for the default certificate alias
==================================================
Mark Thomas
==================================================
Wed Feb 15 20:25:21 2023 +0000
==================================================
ManagerServlet.java
Use a constant for the default certificate alias


==================================================
SSLUtilBase.java
index 827ee0a87e..8856a983f4 100644
--- a/java/org/apache/catalina/manager/ManagerServlet.java
+++ b/java/org/apache/catalina/manager/ManagerServlet.java
@@ -73,6 +73,7 @@ import org.apache.tomcat.util.modeler.Registry;
 import org.apache.tomcat.util.net.SSLContext;
 import org.apache.tomcat.util.net.SSLHostConfig;
 import org.apache.tomcat.util.net.SSLHostConfigCertificate;
+import org.apache.tomcat.util.net.SSLUtilBase;
 import org.apache.tomcat.util.res.StringManager;
 import org.apache.tomcat.util.security.Escape;
 
@@ -1715,7 +1716,7 @@ public class ManagerServlet extends HttpServlet implements ContainerServlet {
                             SSLContext sslContext = sslHostConfigCert.getSslContext();
                             String alias = sslHostConfigCert.getCertificateKeyAlias();
                             if (alias == null) {
-                                alias = "tomcat";
+                                alias = SSLUtilBase.DEFAULT_KEY_ALIAS;
                             }
                             X509Certificate[] certs = sslContext.getCertificateChain(alias);
                             if (certs == null) {

==================================================
OpenSSLContext.java
index 4677fadbb7..c1988834e4 100644
--- a/java/org/apache/tomcat/util/net/SSLUtilBase.java
+++ b/java/org/apache/tomcat/util/net/SSLUtilBase.java
@@ -70,7 +70,7 @@ public abstract class SSLUtilBase implements SSLUtil {
     private static final Log log = LogFactory.getLog(SSLUtilBase.class);
     private static final StringManager sm = StringManager.getManager(SSLUtilBase.class);
 
-    protected static final String DEFAULT_KEY_ALIAS = "tomcat";
+    public static final String DEFAULT_KEY_ALIAS = "tomcat";
 
     protected final SSLHostConfig sslHostConfig;
     protected final SSLHostConfigCertificate certificate;

==================================================
