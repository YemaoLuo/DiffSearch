e3cbc6661ec5994069a8ef7f6b1f546cf0f09710
==================================================
Implement a TODO. Log receipt of an unexpected ACK.
==================================================
Mark Thomas
==================================================
Thu Aug 20 13:15:34 2015 +0000
==================================================
ConnectionSettingsLocal.java
Implement a TODO. Log receipt of an unexpected ACK.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1696787 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http2UpgradeHandler.java
index 3ff7c0f374..690a0fed77 100644
--- a/java/org/apache/coyote/http2/ConnectionSettingsLocal.java
+++ b/java/org/apache/coyote/http2/ConnectionSettingsLocal.java
@@ -67,14 +67,14 @@ public class ConnectionSettingsLocal extends ConnectionSettingsBase<IllegalArgum
     }
 
 
-    synchronized void ack() {
+    synchronized boolean ack() {
         if (sendInProgress) {
             sendInProgress = false;
             current.putAll(pending);
             pending.clear();
+            return true;
         } else {
-            // Unexpected ACK. Log it?
-            // TODO
+            return false;
         }
     }
 

==================================================
