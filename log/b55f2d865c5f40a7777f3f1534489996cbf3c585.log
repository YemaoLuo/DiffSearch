b55f2d865c5f40a7777f3f1534489996cbf3c585
==================================================
- Use a separate method for checking primitives. I'll keep the check for now since I have the impression it's tested.
==================================================
Remy Maucherat
==================================================
Wed Nov 29 21:10:40 2006 +0000
==================================================
ELSupport.java
- Use a separate method for checking primitives. I'll keep the check for now since I have the impression it's tested.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480713 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Validator.java
index 3ecbd99807..cebbd04ada 100644
--- a/java/org/apache/el/lang/ELSupport.java
+++ b/java/org/apache/el/lang/ELSupport.java
@@ -316,6 +316,25 @@ public class ELSupport {
         }
     }
 
+    public final static void checkType(final Object obj, final Class type)
+        throws IllegalArgumentException {
+        if (String.class.equals(type)) {
+            coerceToString(obj);
+        }
+        if (ELArithmetic.isNumberType(type)) {
+            coerceToNumber(obj, type);
+        }
+        if (Character.class.equals(type) || Character.TYPE == type) {
+            coerceToCharacter(obj);
+        }
+        if (Boolean.class.equals(type) || Boolean.TYPE == type) {
+            coerceToBoolean(obj);
+        }
+        if (type.isEnum()) {
+            coerceToEnum(obj, type);
+        }
+    }
+
     public final static Object coerceToType(final Object obj, final Class type)
             throws IllegalArgumentException {
         if (type == null || Object.class.equals(type)) {

==================================================
