8b0d130abe83fd281b5ac619f9226390c489a777
==================================================
- 41521: Support * for servlet-name, submitted by Paul McMahan.
==================================================
Remy Maucherat
==================================================
Wed Feb 7 22:53:07 2007 +0000
==================================================
ApplicationFilterFactory.java
- 41521: Support * for servlet-name, submitted by Paul McMahan.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@504726 13f79535-47bb-0310-9956-ffa450edef68



==================================================
FilterMap.java
index d64688e3cd..cb41188be3 100644
--- a/java/org/apache/catalina/core/ApplicationFilterFactory.java
+++ b/java/org/apache/catalina/core/ApplicationFilterFactory.java
@@ -234,7 +234,7 @@ public final class ApplicationFilterFactory {
 
         // Check the specific "*" special URL pattern, which also matches
         // named dispatches
-        if (filterMap.getAllMatch())
+        if (filterMap.getMatchAllUrlPatterns())
             return (true);
         
         if (requestPath == null)
@@ -319,6 +319,10 @@ public final class ApplicationFilterFactory {
 
         if (servletName == null) {
             return (false);
+        }
+        // Check the specific "*" special servlet name
+        else if (filterMap.getMatchAllServletNames()) {
+            return (true);
         } else {
             String[] servletNames = filterMap.getServletNames();
             for (int i = 0; i < servletNames.length; i++) {

==================================================
