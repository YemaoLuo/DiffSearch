06ccf16edae45f681560518628f1ebd103a7fd47
==================================================
Review of r1616584
==================================================
Konstantin Kolinko
==================================================
Sun Aug 10 21:23:57 2014 +0000
==================================================
ClassLoaderUtil.java
Review of r1616584
- Explicitly reference the classloader of PoolProperties class, to keep the old behaviour of Class.forName.
It matters in unlikely theoretical case if PoolProperties$InterceptorDefinition class is being extended (subclassed).
- s/StringBuffer/StringBuilder/

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1617165 13f79535-47bb-0310-9956-ffa450edef68



==================================================
PoolProperties.java
index 9f5faaa60f..2f5360035a 100644
--- a/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ClassLoaderUtil.java
+++ b/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ClassLoaderUtil.java
@@ -28,7 +28,7 @@ public class ClassLoaderUtil {
 
     public static Class<?> loadClass(String className, ClassLoader... classLoaders) throws ClassNotFoundException {
         ClassNotFoundException last = null;
-        StringBuffer errorMsg = null;
+        StringBuilder errorMsg = null;
         for (ClassLoader cl : classLoaders) {
             try {
                 if (cl!=null) {
@@ -42,9 +42,9 @@ public class ClassLoaderUtil {
             } catch (ClassNotFoundException x) {
                 last = x;
                 if (errorMsg==null) {
-                    errorMsg = new StringBuffer();
+                    errorMsg = new StringBuilder();
                 } else {
-                    errorMsg.append(";");
+                    errorMsg.append(';');
                 }
                 errorMsg.append("ClassLoader:");
                 errorMsg.append(cl);
@@ -53,7 +53,7 @@ public class ClassLoaderUtil {
                 break;
             }
         }
-        throw new ClassNotFoundException("Unable to load class:"+className+" from "+errorMsg, last);
+        throw new ClassNotFoundException("Unable to load class: "+className+" from "+errorMsg, last);
     }
 
 

==================================================
