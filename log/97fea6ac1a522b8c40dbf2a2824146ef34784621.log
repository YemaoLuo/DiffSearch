97fea6ac1a522b8c40dbf2a2824146ef34784621
==================================================
Part 2 of CSRF protection for the host manager. Use POST and require valid nonce.
==================================================
Mark Emlyn
==================================================
Sat Oct 17 19:27:12 2009 +0000
==================================================
Constants.java
Part 2 of CSRF protection for the host manager. Use POST and require valid nonce.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826295 13f79535-47bb-0310-9956-ffa450edef68



==================================================
HTMLHostManagerServlet.java
index e8e8587358..0b11c914ab 100644
--- a/java/org/apache/catalina/manager/host/Constants.java
+++ b/java/org/apache/catalina/manager/host/Constants.java
@@ -27,7 +27,7 @@ public class Constants {
         "<html>\n" +
         "<head>\n" +
         "<style>\n" +
-        org.apache.catalina.util.TomcatCSS.TOMCAT_CSS +
+        org.apache.catalina.util.TomcatCSS.TOMCAT_CSS + "\n" +
         "  table {\n" +
         "    width: 100%;\n" +
         "  }\n" +
@@ -96,7 +96,12 @@ public class Constants {
         "    color: black;\n" +
         "    background: white;\n" +
         "  }\n" +
-        "</style>\n";
+        "  form {\n" +
+        "    margin: 1;\n" +
+        "  }\n" +
+        "  form.inline {\n" +
+        "    display: inline;\n" +
+        "  }\n" +        "</style>\n";
 
     public static final String BODY_HEADER_SECTION =
         "<title>{0}</title>\n" +
@@ -104,7 +109,7 @@ public class Constants {
         "\n" +
         "<body bgcolor=\"#FFFFFF\">\n" +
         "\n" +
-        "<table cellspacing=\"4\" width=\"100%\" border=\"0\">\n" +
+        "<table cellspacing=\"4\" border=\"0\">\n" +
         " <tr>\n" +
         "  <td colspan=\"2\">\n" +
         "   <a href=\"http://www.apache.org/\">\n" +
@@ -119,7 +124,7 @@ public class Constants {
         " </tr>\n" +
         "</table>\n" +
         "<hr size=\"1\" noshade=\"noshade\">\n" +
-        "<table cellspacing=\"4\" width=\"100%\" border=\"0\">\n" +
+        "<table cellspacing=\"4\" border=\"0\">\n" +
         " <tr>\n" +
         "  <td class=\"page-title\" bordercolor=\"#000000\" " +
         "align=\"left\" nowrap>\n" +

==================================================
