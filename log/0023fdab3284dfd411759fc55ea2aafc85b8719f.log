0023fdab3284dfd411759fc55ea2aafc85b8719f
==================================================
backport from trunk
==================================================
Filip Hanik
==================================================
Tue Aug 14 23:03:52 2007 +0000
==================================================
InternalNioInputBuffer.java
backport from trunk


git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565964 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InternalNioOutputBuffer.java
index a1d6881c83..012987bbe4 100644
--- a/java/org/apache/coyote/http11/InternalNioInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalNioInputBuffer.java
@@ -294,6 +294,10 @@ public class InternalNioInputBuffer implements InputBuffer {
      * connection.
      */
     public void recycle() {
+        // Recycle filters
+        for (int i = 0; i <= lastActiveFilter; i++) {
+            activeFilters[i].recycle();
+        }
 
         // Recycle Request object
         request.recycle();

==================================================
