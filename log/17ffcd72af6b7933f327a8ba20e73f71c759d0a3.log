17ffcd72af6b7933f327a8ba20e73f71c759d0a3
==================================================
SpotBugs
==================================================
Mark Thomas
==================================================
Wed Jan 10 20:17:12 2018 +0000
==================================================
Mapper.java
SpotBugs
Potential overflow in averaging (v. unlikely but an easy fix...)

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1820781 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ELParser.java
index efe1b98b75..38aed36ab5 100644
--- a/java/org/apache/catalina/mapper/Mapper.java
+++ b/java/org/apache/catalina/mapper/Mapper.java
@@ -1207,7 +1207,7 @@ public final class Mapper {
 
         int i = 0;
         while (true) {
-            i = (b + a) / 2;
+            i = (b + a) >>> 1;
             int result = compare(name, start, end, map[i].name);
             if (result == 1) {
                 a = i;
@@ -1262,7 +1262,7 @@ public final class Mapper {
 
         int i = 0;
         while (true) {
-            i = (b + a) / 2;
+            i = (b + a) >>> 1;
             int result = compareIgnoreCase(name, start, end, map[i].name);
             if (result == 1) {
                 a = i;
@@ -1309,7 +1309,7 @@ public final class Mapper {
 
         int i = 0;
         while (true) {
-            i = (b + a) / 2;
+            i = (b + a) >>> 1;
             int result = name.compareTo(map[i].name);
             if (result > 0) {
                 a = i;

==================================================
JspUtil.java
index 661b2694a3..9f2dd2caf5 100644
--- a/java/org/apache/jasper/compiler/ELParser.java
+++ b/java/org/apache/jasper/compiler/ELParser.java
@@ -186,7 +186,7 @@ public class ELParser {
         int i = 0;
         int j = reservedWords.length;
         while (i < j) {
-            int k = (i + j) / 2;
+            int k = (i + j) >>> 1;
             int result = reservedWords[k].compareTo(id);
             if (result == 0) {
                 return true;

==================================================
