138bc7034d2bad49fa73805194376c74f0e8b92f
==================================================
Refactoring. Make the log instance available to the super class. Use imports rather than fully-qualified names.
==================================================
Mark Emlyn
==================================================
Wed Aug 28 10:17:00 2013 +0000
==================================================
AbstractInputBuffer.java
Refactoring. Make the log instance available to the super class. Use imports rather than fully-qualified names.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1518143 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InternalAprInputBuffer.java
index 34332cb15f..b84d4093ac 100644
--- a/java/org/apache/coyote/http11/AbstractInputBuffer.java
+++ b/java/org/apache/coyote/http11/AbstractInputBuffer.java
@@ -20,6 +20,7 @@ import java.io.IOException;
 
 import org.apache.coyote.InputBuffer;
 import org.apache.coyote.Request;
+import org.apache.juli.logging.Log;
 import org.apache.tomcat.util.buf.ByteChunk;
 import org.apache.tomcat.util.http.MimeHeaders;
 import org.apache.tomcat.util.net.AbstractEndpoint;
@@ -249,6 +250,8 @@ public abstract class AbstractInputBuffer<S> implements InputBuffer{
      */
     protected abstract int nbRead() throws IOException;
 
+    protected abstract Log getLog();
+
 
     // --------------------------------------------------------- Public Methods
 

==================================================
InternalInputBuffer.java
index a5c5c24a6e..e531054e88 100644
--- a/java/org/apache/coyote/http11/InternalAprInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalAprInputBuffer.java
@@ -641,6 +641,12 @@ public class InternalAprInputBuffer extends AbstractInputBuffer<Long> {
     }
 
 
+    @Override
+    protected final Log getLog() {
+        return log;
+    }
+
+
     private int doReadSocket(boolean block) {
 
         Lock readLock = wrapper.getBlockingStatusReadLock();

==================================================
InternalNioInputBuffer.java
index ddc53f3e22..c07bab43c4 100644
--- a/java/org/apache/coyote/http11/InternalInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalInputBuffer.java
@@ -561,6 +561,12 @@ public class InternalInputBuffer extends AbstractInputBuffer<Socket> {
     }
 
 
+    @Override
+    protected final Log getLog() {
+        return log;
+    }
+
+
     // ------------------------------------- InputStreamInputBuffer Inner Class
 
     /**

==================================================
