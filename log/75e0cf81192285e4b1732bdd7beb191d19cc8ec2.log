75e0cf81192285e4b1732bdd7beb191d19cc8ec2
==================================================
More simplification
==================================================
Mark Thomas
==================================================
Tue Sep 29 22:26:56 2015 +0000
==================================================
AjpProcessor.java
More simplification

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1705944 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Processor.java
index 9adc753908..a396616290 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -825,18 +825,15 @@ public class AjpProcessor extends AbstractProcessor {
     @Override
     public void recycle() {
         getAdapter().checkRecycled(request, response);
-
         asyncStateMachine.recycle();
-
-        // Recycle Request object
+        request.recycle();
+        response.recycle();
         first = true;
         endOfStream = false;
         waitingForBodyMessage = false;
         empty = true;
         replay = false;
         finished = false;
-        request.recycle();
-        response.recycle();
         certificates.recycle();
         swallowResponse = false;
         bytesWritten = 0;

==================================================
