f0d3c509a3d91441e5ba929b469594c1f5eb90cc
==================================================
Get jdbc-pool tests compiling with Java 7
==================================================
Mark Emlyn
==================================================
Thu Jul 12 09:56:17 2012 +0000
==================================================
Connection.java
Get jdbc-pool tests compiling with Java 7

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1360606 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Driver.java
index 1e9a6b4bca..1f8301e10a 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Connection.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Connection.java
@@ -32,6 +32,7 @@ import java.sql.Statement;
 import java.sql.Struct;
 import java.util.Map;
 import java.util.Properties;
+import java.util.concurrent.Executor;
 
 import org.apache.tomcat.jdbc.pool.PooledConnection;
 
@@ -284,4 +285,25 @@ public class Connection implements java.sql.Connection {
         return null;
     }
 
+    // ---------------------------------------------------------- Java 7 methods
+    // Can't add @Override annotations since this code also has to compile with
+    // Java 6 for Tomcat 7.
+
+    public void setSchema(String schema) throws SQLException {
+    }
+
+    public String getSchema() throws SQLException {
+        return null;
+    }
+
+    public void abort(Executor executor) throws SQLException {
+    }
+
+    public void setNetworkTimeout(Executor executor, int milliseconds)
+            throws SQLException {
+    }
+
+    public int getNetworkTimeout() throws SQLException {
+        return 0;
+    }
 }

==================================================
ResultSet.java
index 2c0b85bcab..046f264439 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Driver.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Driver.java
@@ -20,8 +20,10 @@ import java.sql.Connection;
 import java.sql.DriverManager;
 import java.sql.DriverPropertyInfo;
 import java.sql.SQLException;
+import java.sql.SQLFeatureNotSupportedException;
 import java.util.Properties;
 import java.util.concurrent.atomic.AtomicInteger;
+import java.util.logging.Logger;
 
 public class Driver implements java.sql.Driver {
     public static final String url = "jdbc:tomcat:test";
@@ -75,4 +77,13 @@ public class Driver implements java.sql.Driver {
     public boolean jdbcCompliant() {
         return false;
     }
+
+    // ---------------------------------------------------------- Java 7 methods
+    // Can't add @Override annotations since this code also has to compile with
+    // Java 6 for Tomcat 7.
+
+    @Override
+    public Logger getParentLogger() throws SQLFeatureNotSupportedException {
+        return null;
+    }
 }

==================================================
Statement.java
index 68e5b39358..d5357231d9 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/ResultSet.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/ResultSet.java
@@ -1208,4 +1208,16 @@ public class ResultSet implements java.sql.ResultSet {
         return null;
     }
 
+    // ---------------------------------------------------------- Java 7 methods
+    // Can't add @Override annotations since this code also has to compile with
+    // Java 6 for Tomcat 7.
+
+    public <T> T getObject(int columnIndex, Class<T> type) throws SQLException {
+        return null;
+    }
+
+    public <T> T getObject(String columnLabel, Class<T> type)
+            throws SQLException {
+        return null;
+    }
 }

==================================================
