3d7b32840525684ef055e119846cccab215acfab
==================================================
Align AJP and HTTP prior to pulling up Handler.process
==================================================
Mark Emlyn
==================================================
Fri Jul 8 17:28:25 2011 +0000
==================================================
AbstractAjpProcessor.java
Align AJP and HTTP prior to pulling up Handler.process

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144393 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractAjpProtocol.java
index 7824eba755..cde518ca7a 100644
--- a/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
@@ -213,6 +213,11 @@ public abstract class AbstractAjpProcessor<S> extends AbstractProcessor {
     protected long byteCount = 0;
 
 
+    /**
+     * AJP does not support comet
+     */
+    protected final boolean comet = false;
+
     // ------------------------------------------------------------ Constructor
 
     public AbstractAjpProcessor(int packetSize, AbstractEndpoint endpoint) {
@@ -497,6 +502,13 @@ public abstract class AbstractAjpProcessor<S> extends AbstractProcessor {
     }
 
 
+    @SuppressWarnings("unused")
+    public SocketState event(SocketStatus status) throws IOException {
+        // Should never reach this code but in case we do...
+        throw new IOException(
+                sm.getString("ajpprocessor.comet.notsupported"));
+    }
+
     /**
      * Recycle the processor, ready for the next request which may be on the
      * same connection or a different connection.

==================================================
