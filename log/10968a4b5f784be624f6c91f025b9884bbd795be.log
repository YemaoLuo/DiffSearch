10968a4b5f784be624f6c91f025b9884bbd795be
==================================================
Simplify
==================================================
Mark Thomas
==================================================
Thu Jan 8 19:47:57 2015 +0000
==================================================
Http11Nio2Processor.java
Simplify

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1650366 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11OutputBuffer.java
index c6d136b0b3..3643002bd9 100644
--- a/java/org/apache/coyote/http11/Http11Nio2Processor.java
+++ b/java/org/apache/coyote/http11/Http11Nio2Processor.java
@@ -99,7 +99,7 @@ public class Http11Nio2Processor extends AbstractHttp11Processor<Nio2Channel> {
             ((InternalNio2InputBuffer) getInputBuffer()).registerReadInterest();
         }
         if (write) {
-            ((Http11OutputBuffer<?>) getOutputBuffer()).registerWriteInterest();
+            socketWrapper.registerWriteInterest();
         }
     }
 

==================================================
TesterOutputBuffer.java
index 1390f406bf..ffa9156da7 100644
--- a/java/org/apache/coyote/http11/Http11OutputBuffer.java
+++ b/java/org/apache/coyote/http11/Http11OutputBuffer.java
@@ -589,11 +589,6 @@ public class Http11OutputBuffer<S> implements OutputBuffer {
 
     //------------------------------------------------------ Non-blocking writes
 
-    protected void registerWriteInterest() {
-        socketWrapper.registerWriteInterest();
-    }
-
-
     /**
      * Writes any remaining buffered data.
      *
@@ -618,7 +613,7 @@ public class Http11OutputBuffer<S> implements OutputBuffer {
     protected final boolean isReady() {
         boolean result = !hasDataToWrite();
         if (!result) {
-            registerWriteInterest();
+            socketWrapper.registerWriteInterest();
         }
         return result;
     }

==================================================
