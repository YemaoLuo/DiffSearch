cc5e480838ec8762845c0edf801c6da2335fffad
==================================================
Refactor to reduce the need to deprecate code in 8.5.x
==================================================
Mark Thomas
==================================================
Mon Jun 19 19:48:29 2017 +0000
==================================================
Response.java
Refactor to reduce the need to deprecate code in 8.5.x

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1799267 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Response.java
index 046e0b1616..8ad794db4f 100644
--- a/java/org/apache/catalina/connector/Response.java
+++ b/java/org/apache/catalina/connector/Response.java
@@ -552,7 +552,7 @@ public class Response implements HttpServletResponse {
      */
     @Override
     public String getCharacterEncoding() {
-        String charset = getCoyoteResponse().getCharsetName();
+        String charset = getCoyoteResponse().getCharacterEncoding();
         if (charset != null) {
             return charset;
         }

==================================================
