6d85083c6a56a1d0641307fd2b613fc58650479e
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58232
==================================================
Violeta Georgieva
==================================================
Thu Aug 13 20:48:50 2015 +0000
==================================================
PojoMethodMapping.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58232
Add PojoMethodMapping to the user properties only if there are annotated methods

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1695778 13f79535-47bb-0310-9956-ffa450edef68



==================================================
WsServerContainer.java
index 32060f7b8b..effe026190 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java
@@ -257,6 +257,11 @@ public class PojoMethodMapping {
     }
 
 
+    public boolean hasMessageHandlers() {
+        return !onMessage.isEmpty();
+    }
+
+
     public Set<MessageHandler> getMessageHandlers(Object pojo,
             Map<String,String> pathParameters, Session session,
             EndpointConfig config) {

==================================================
