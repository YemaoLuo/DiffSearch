55d96d07786f98604c80d1babf509165af306016
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=63196
==================================================
Mark Thomas
==================================================
Wed Mar 13 19:14:12 2019 +0000
==================================================
RemoteIpFilter.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=63196

Provide a default (X-Forwarded-Proto) for the protocolHeader attribute
of the RemoteIpFilter and RemoteIpValve.


==================================================
RemoteIpValve.java
index 38ede0f993..5c04858407 100644
--- a/java/org/apache/catalina/filters/RemoteIpFilter.java
+++ b/java/org/apache/catalina/filters/RemoteIpFilter.java
@@ -710,7 +710,7 @@ public class RemoteIpFilter extends GenericFilter {
     /**
      * @see #setProtocolHeader(String)
      */
-    private String protocolHeader = null;
+    private String protocolHeader = "X-Forwarded-Proto";
 
     private String protocolHeaderHttpsValue = "https";
 

==================================================
