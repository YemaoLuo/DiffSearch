b893eee710c64a9ade486b6729794047c6882a61
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49985
==================================================
Mark Emlyn
==================================================
Sat Oct 2 18:53:30 2010 +0000
==================================================
AstFloatingPoint.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49985
Make thread safe

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003861 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AstInteger.java
index 073abd4a12..9e402d5bbb 100644
--- a/java/org/apache/el/parser/AstFloatingPoint.java
+++ b/java/org/apache/el/parser/AstFloatingPoint.java
@@ -34,7 +34,7 @@ public final class AstFloatingPoint extends SimpleNode {
         super(id);
     }
 
-    private Number number;
+    private volatile Number number;
 
     public Number getFloatingPoint() {
         if (this.number == null) {

==================================================
AstString.java
index a5f9268ab1..a6f447a2a4 100644
--- a/java/org/apache/el/parser/AstInteger.java
+++ b/java/org/apache/el/parser/AstInteger.java
@@ -34,7 +34,7 @@ public final class AstInteger extends SimpleNode {
         super(id);
     }
 
-    private Number number;
+    private volatile Number number;
 
     protected Number getInteger() {
         if (this.number == null) {

==================================================
