ff0f7fc062f993f640963df883df713a9091a7a3
==================================================
Follow-up to r1852604
==================================================
Mark Thomas
==================================================
Thu Jan 31 17:05:41 2019 +0000
==================================================
PojoMethodMapping.java
index b0d2c503a5..a42f41b07f 100644
--- a/java/org/apache/tomcat/websocket/pojo/LocalStrings.properties
+++ b/java/org/apache/tomcat/websocket/pojo/LocalStrings.properties
@@ -31,7 +31,6 @@ pojoMethodMapping.duplicateMessageParam=Multiple message parameters present on t
 pojoMethodMapping.duplicatePongMessageParam=Multiple PongMessage parameters present on the method [{0}] of class [{1}] that was annotated with OnMessage
 pojoMethodMapping.duplicateSessionParam=Multiple session parameters present on the method [{0}] of class [{1}] that was annotated with OnMessage
 pojoMethodMapping.invalidDecoder=The specified decoder of type [{0}] could not be instantiated
-pojoMethodMapping.invalidPathParamType=Parameters annotated with @PathParam may only be Strings, Java primitives or a boxed version thereof
 pojoMethodMapping.methodNotPublic=The annotated method [{0}] is not public
 pojoMethodMapping.noPayload=No payload parameter present on the method [{0}] of class [{1}] that was annotated with OnMessage
 pojoMethodMapping.onErrorNoThrowable=No Throwable parameter was present on the method [{0}] of class [{1}] that was annotated with OnError
@@ -42,4 +41,4 @@ pojoMethodMapping.partialPong=Invalid PongMessage and boolean parameters present
 pojoMethodMapping.partialReader=Invalid Reader and boolean parameters present on the method [{0}] of class [{1}] that was annotated with OnMessage
 pojoMethodMapping.pongWithPayload=Invalid PongMessage and Message parameters present on the method [{0}] of class [{1}] that was annotated with OnMessage
 
-pojoPathParam.wrongType=The type [{0}] is not permitted as a path parameter. Must be String, primitive or boxed version of primitive
+pojoPathParam.wrongType=The type [{0}] is not permitted as a path parameter. Parameters annotated with @PathParam may only be Strings, Java primitives or a boxed version thereof.

==================================================
PojoPathParam.java
index 13475bf8d6..357bb6d730 100644
--- a/java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java
+++ b/java/org/apache/tomcat/websocket/pojo/PojoMethodMapping.java
@@ -308,15 +308,6 @@ public class PojoMethodMapping {
                 for (Annotation paramAnnotation : paramAnnotations) {
                     if (paramAnnotation.annotationType().equals(
                             PathParam.class)) {
-                        // Check that the type is valid. "0" coerces to every
-                        // valid type
-                        try {
-                            Util.coerceToType(type, "0");
-                        } catch (IllegalArgumentException iae) {
-                            throw new DeploymentException(sm.getString(
-                                    "pojoMethodMapping.invalidPathParamType"),
-                                    iae);
-                        }
                         result[i] = new PojoPathParam(type,
                                 ((PathParam) paramAnnotation).value());
                         break;

==================================================
