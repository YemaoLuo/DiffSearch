d6459a4f87b36ede74f650e1c0d94cc5984b708b
==================================================
Use Map rather than a specific implementation
==================================================
Mark Thomas
==================================================
Wed Jul 5 19:16:39 2017 +0000
==================================================
AbstractArchiveResourceSet.java
Use Map rather than a specific implementation

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1800915 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractSingleArchiveResourceSet.java
index 4f6f4a0e88..7243e649f1 100644
--- a/java/org/apache/catalina/webresources/AbstractArchiveResourceSet.java
+++ b/java/org/apache/catalina/webresources/AbstractArchiveResourceSet.java
@@ -21,7 +21,6 @@ import java.io.IOException;
 import java.io.InputStream;
 import java.net.URL;
 import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.Map;
 import java.util.Set;
 import java.util.jar.JarEntry;
@@ -38,7 +37,7 @@ public abstract class AbstractArchiveResourceSet extends AbstractResourceSet {
     private String baseUrlString;
 
     private JarFile archive = null;
-    protected HashMap<String,JarEntry> archiveEntries = null;
+    protected Map<String,JarEntry> archiveEntries = null;
     protected final Object archiveLock = new Object();
     private long archiveUseCount = 0;
 
@@ -174,7 +173,7 @@ public abstract class AbstractArchiveResourceSet extends AbstractResourceSet {
      * @return The archives entries mapped to their names or null if
      *         {@link #getArchiveEntry(String)} should be used.
      */
-    protected abstract HashMap<String,JarEntry> getArchiveEntries(boolean single);
+    protected abstract Map<String,JarEntry> getArchiveEntries(boolean single);
 
 
     /**

==================================================
JarWarResourceSet.java
index 22578033c5..0d86ff9f9b 100644
--- a/java/org/apache/catalina/webresources/AbstractSingleArchiveResourceSet.java
+++ b/java/org/apache/catalina/webresources/AbstractSingleArchiveResourceSet.java
@@ -21,6 +21,7 @@ import java.io.IOException;
 import java.net.MalformedURLException;
 import java.util.Enumeration;
 import java.util.HashMap;
+import java.util.Map;
 import java.util.jar.JarEntry;
 import java.util.jar.JarFile;
 
@@ -59,7 +60,7 @@ public abstract class AbstractSingleArchiveResourceSet extends AbstractArchiveRe
 
 
     @Override
-    protected HashMap<String,JarEntry> getArchiveEntries(boolean single) {
+    protected Map<String,JarEntry> getArchiveEntries(boolean single) {
         synchronized (archiveLock) {
             if (archiveEntries == null && !single) {
                 JarFile jarFile = null;

==================================================
