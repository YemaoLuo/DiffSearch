a3b0786c899de576996404284ac63ebdd510b969
==================================================
Improve toString in case future versions of Java will change format
==================================================
Igal Sapir
==================================================
0700
==================================================
NetMaskSet.java
Improve toString in case future versions of Java will change format



==================================================
TestNetMaskSet.java
index 8aa330743c..dfaf23fc11 100644
--- a/java/org/apache/catalina/util/NetMaskSet.java
+++ b/java/org/apache/catalina/util/NetMaskSet.java
@@ -145,8 +145,16 @@ public class NetMaskSet {
 
         String result = netmasks.toString();
 
-        // remove the open and close brackets
-        return result.substring(1, result.length() - 1);
+        // remove open and close brackets if exist
+        if (result.startsWith("[")) {
+            result = result.substring(1);
+        }
+
+        if (result.endsWith("]")) {
+            result = result.substring(0, result.length() - 1);
+        }
+
+        return result;
     }
 
 }

==================================================
