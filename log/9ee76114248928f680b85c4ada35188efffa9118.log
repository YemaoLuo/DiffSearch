9ee76114248928f680b85c4ada35188efffa9118
==================================================
Refactoring with an eye on BZ 59901.
==================================================
Mark Thomas
==================================================
Fri Feb 17 20:20:02 2017 +0000
==================================================
EncodingDetector.java
Refactoring with an eye on BZ 59901.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1783460 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ParserController.java
index 5843ef4959..b0a1b4f201 100644
--- a/java/org/apache/jasper/compiler/EncodingDetector.java
+++ b/java/org/apache/jasper/compiler/EncodingDetector.java
@@ -36,7 +36,7 @@ class EncodingDetector {
     }
 
     private final BomResult bomResult;
-    private final String prologEncoding;
+    private final boolean encodingSpecifiedInProlog;
 
 
     /*
@@ -59,7 +59,7 @@ class EncodingDetector {
             is.read();
         }
 
-        prologEncoding = getPrologEncoding(bis);
+        encodingSpecifiedInProlog = (getPrologEncoding(bis) != null);
     }
 
 
@@ -73,8 +73,8 @@ class EncodingDetector {
     }
 
 
-    String getPrologEncoding() {
-        return prologEncoding;
+    boolean isEncodingSpecifiedInProlog() {
+        return encodingSpecifiedInProlog;
     }
 
 

==================================================
