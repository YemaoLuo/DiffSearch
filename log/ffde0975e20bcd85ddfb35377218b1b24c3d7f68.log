ffde0975e20bcd85ddfb35377218b1b24c3d7f68
==================================================
Improve the import process. Handle special cases of single quotes and tabs
==================================================
Mark Thomas
==================================================
Tue Nov 13 13:31:55 2018 +0000
==================================================
Export.java
Improve the import process. Handle special cases of single quotes and tabs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1846507 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Import.java
index 604adfad56..3198cdfd28 100644
--- a/java/org/apache/tomcat/buildutil/translate/Export.java
+++ b/java/org/apache/tomcat/buildutil/translate/Export.java
@@ -120,9 +120,6 @@ public class Export {
             Properties translation = translationEntry.getValue();
 
             String language = translationEntry.getKey();
-            if (language.length() > 0) {
-                language = "_" + language;
-            }
 
             File out = new File(storageDir, Constants.L10N_PREFIX + language + Constants.L10N_SUFFIX);
             try (FileOutputStream fos = new FileOutputStream(out);

==================================================
Utils.java
index 0179777e70..4cf6fec9d2 100644
--- a/java/org/apache/tomcat/buildutil/translate/Import.java
+++ b/java/org/apache/tomcat/buildutil/translate/Import.java
@@ -47,8 +47,6 @@ public class Import {
         if (language.length() == 0) {
             // Comment this line out if the originals needs to be exported.
             return;
-        } else {
-            language = "_" + language;
         }
 
         Properties props = Utils.load(f);

==================================================
