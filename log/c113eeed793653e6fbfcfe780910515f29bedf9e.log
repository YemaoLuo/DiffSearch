c113eeed793653e6fbfcfe780910515f29bedf9e
==================================================
Add missing state checks
==================================================
Mark Emlyn
==================================================
Sat Nov 24 18:49:45 2012 +0000
==================================================
UpgradeServletInputStream.java
index 30dbb9d348..78402e2958 100644
--- a/java/org/apache/coyote/http11/upgrade/LocalStrings.properties
+++ b/java/org/apache/coyote/http11/upgrade/LocalStrings.properties
@@ -16,6 +16,7 @@
 upgrade.sis.isFinished.ise=It is illegal to call isFinished() when the ServletInputStream is not in non-blocking mode (i.e. setReadListener() must be called first)
 upgrade.sis.isReady.ise=It is illegal to call isReady() when the ServletInputStream is not in non-blocking mode (i.e. setReadListener() must be called first)
 upgrade.sis.readListener.null=It is illegal to pass null to setReadListener()
+upgrade.sis.read.ise=It is illegal to call any of the read() methods without first checking that there is data available by calling isReady()
 upgrade.sos.canWrite.ise=It is illegal to call canWrite() when the ServletOutputStream is not in non-blocking mode (i.e. setWriteListener() must be called first)
 upgrade.sos.writeListener.null=It is illegal to pass null to setWriteListener()
 

==================================================
