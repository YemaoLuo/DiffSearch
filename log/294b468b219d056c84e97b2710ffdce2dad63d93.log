294b468b219d056c84e97b2710ffdce2dad63d93
==================================================
Remove unused, deprecated code in Jasper
==================================================
Mark Emlyn
==================================================
Mon Jun 15 13:04:18 2009 +0000
==================================================
JspDocumentParser.java
Remove unused, deprecated code in Jasper

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784764 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JspUtil.java
index 686d6b5dfa..3cd6fbb776 100644
--- a/java/org/apache/jasper/compiler/JspDocumentParser.java
+++ b/java/org/apache/jasper/compiler/JspDocumentParser.java
@@ -356,8 +356,7 @@ class JspDocumentParser
                     nonTaglibAttrs,
                     nonTaglibXmlnsAttrs,
                     taglibAttrs,
-                    startMark,
-                    current);
+                    startMark);
             return;
         }
 
@@ -370,8 +369,7 @@ class JspDocumentParser
                     nonTaglibAttrs,
                     nonTaglibXmlnsAttrs,
                     taglibAttrs,
-                    startMark,
-                    current);
+                    startMark);
             return;
         }
 
@@ -398,8 +396,7 @@ class JspDocumentParser
                     nonTaglibAttrs,
                     nonTaglibXmlnsAttrs,
                     taglibAttrs,
-                    startMark,
-                    current);
+                    startMark);
         } else {
             node =
                 parseCustomAction(
@@ -815,8 +812,7 @@ class JspDocumentParser
         Attributes nonTaglibAttrs,
         Attributes nonTaglibXmlnsAttrs,
         Attributes taglibAttrs,
-        Mark start,
-        Node parent)
+        Mark start)
         throws SAXException {
 
         Node node = null;

==================================================
ParserController.java
index e1ca665dd1..ec30ffaca0 100644
--- a/java/org/apache/jasper/compiler/JspUtil.java
+++ b/java/org/apache/jasper/compiler/JspUtil.java
@@ -806,27 +806,6 @@ public class JspUtil {
         return in;
     }
 
-    /**
-     * Gets the fully-qualified class name of the tag handler corresponding to
-     * the given tag file path.
-     * 
-     * @param path
-     *            Tag file path
-     * @param err
-     *            Error dispatcher
-     * 
-     * @return Fully-qualified class name of the tag handler corresponding to
-     *         the given tag file path
-     * 
-     * @deprecated Use {@link #getTagHandlerClassName(String, String,
-     *             ErrorDispatcher)
-     *             See https://issues.apache.org/bugzilla/show_bug.cgi?id=46471
-     */
-    public static String getTagHandlerClassName(String path, ErrorDispatcher err)
-            throws JasperException {
-        return getTagHandlerClassName(path, null, err);
-    }
-    
     /**
      * Gets the fully-qualified class name of the tag handler corresponding to
      * the given tag file path.

==================================================
TagFileProcessor.java
index 999356f2ee..d7f49d034d 100644
--- a/java/org/apache/jasper/compiler/ParserController.java
+++ b/java/org/apache/jasper/compiler/ParserController.java
@@ -137,22 +137,6 @@ class ParserController implements TagConstants {
         return doParse(inFileName, parent, jarFileUrl);
     }
 
-    /**
-     * Extracts tag file directive information from the tag file with the
-     * given name.
-     *
-     * This is invoked by the compiler 
-     *
-     * @param inFileName The name of the tag file to be parsed.
-     * @deprecated Use {@link #parseTagFileDirectives(String, URL)}
-     *             See https://issues.apache.org/bugzilla/show_bug.cgi?id=46471
-     */
-    public Node.Nodes parseTagFileDirectives(String inFileName)
-    throws FileNotFoundException, JasperException, IOException {
-        return parseTagFileDirectives(
-                inFileName, ctxt.getTagFileJarUrl(inFileName));
-    }
-
     /**
      * Extracts tag file directive information from the given tag file.
      *

==================================================
TagLibraryInfoImpl.java
index 9ddaa50348..d6fe1c7483 100644
--- a/java/org/apache/jasper/compiler/TagFileProcessor.java
+++ b/java/org/apache/jasper/compiler/TagFileProcessor.java
@@ -489,33 +489,6 @@ class TagFileProcessor {
         }
     }
 
-    /**
-     * Parses the tag file, and collects information on the directives included
-     * in it. The method is used to obtain the info on the tag file, when the
-     * handler that it represents is referenced. The tag file is not compiled
-     * here.
-     * 
-     * @param pc
-     *            the current ParserController used in this compilation
-     * @param name
-     *            the tag name as specified in the TLD
-     * @param tagfile
-     *            the path for the tagfile
-     * @param tagLibInfo
-     *            the TagLibraryInfo object associated with this TagInfo
-     * @return a TagInfo object assembled from the directives in the tag file.
-     * @deprecated Use {@link TagFileProcessor#parseTagFileDirectives(
-     *                  ParserController, String, String, URL, TagLibraryInfo)}
-     *             See https://issues.apache.org/bugzilla/show_bug.cgi?id=46471
-     */
-    public static TagInfo parseTagFileDirectives(ParserController pc,
-            String name, String path, TagLibraryInfo tagLibInfo)
-            throws JasperException {
-        return parseTagFileDirectives(pc, name, path,
-                pc.getJspCompilationContext().getTagFileJarUrl(path),
-                tagLibInfo);
-    }
-    
     /**
      * Parses the tag file, and collects information on the directives included
      * in it. The method is used to obtain the info on the tag file, when the

==================================================
