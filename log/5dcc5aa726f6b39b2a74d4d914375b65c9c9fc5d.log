5dcc5aa726f6b39b2a74d4d914375b65c9c9fc5d
==================================================
Fix a possible connection stall during concurrent stream write
==================================================
Mark Thomas
==================================================
Thu Jul 1 19:24:06 2021 +0100
==================================================
Http2UpgradeHandler.java
Fix a possible connection stall during concurrent stream write

The stall could occur in the following circumstances:
- all current streams were in the backlog and received partial
  allocations
- not all streams have acted on their allocation (i.e. the connection
  window size is currently >0)
- one or more window updates arrive for the connection before the
  connection window size reaches zero
- no further window updates are received after the window size reaches
  zero

This could be recreated with a simple HTML page that loaded three large
(1MB) images when called with "nghttp -vnsay
https://localhost:8443/test/index.html"


==================================================
