050c4bfadb19db0aaf4ef43dc21a670f3a244c3e
==================================================
Plumbing to support the implementation of javax.servlet.http.Mapping
==================================================
Mark Thomas
==================================================
Tue Mar 8 11:12:56 2016 +0000
==================================================
Request.java
Plumbing to support the implementation of javax.servlet.http.Mapping
This commit populates Mapping instances from the MappingData populated by the Mapper. Currently the Mapper simply populates the MappingData with the 'unknown' values for this feature.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1734056 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ApplicationMapping.java
index 6b2a763455..c9c81fe52f 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -2179,7 +2179,7 @@ public class Request implements HttpServletRequest {
 
     @Override
     public Mapping getMapping() {
-        return new ApplicationMapping();
+        return new ApplicationMapping(mappingData);
     }
 
 

==================================================
MappingData.java
index 251a720eed..d59c8484f0 100644
--- a/java/org/apache/catalina/core/ApplicationMapping.java
+++ b/java/org/apache/catalina/core/ApplicationMapping.java
@@ -19,24 +19,32 @@ package org.apache.catalina.core;
 import javax.servlet.http.Mapping;
 import javax.servlet.http.MappingMatch;
 
+import org.apache.catalina.mapper.MappingData;
+
 public class ApplicationMapping implements Mapping {
 
+    private final String matchValue;
+    private final String pattern;
+    private final MappingMatch mappingMatch;
+
+    public ApplicationMapping(MappingData mappingData) {
+        matchValue = mappingData.matchValue;
+        pattern = mappingData.matchPattern;
+        mappingMatch = mappingData.matchType;
+    }
+
     @Override
     public String getMatchValue() {
-        // TODO Auto-generated method stub
-        return "";
+        return matchValue;
     }
 
     @Override
     public String getPattern() {
-        // TODO Auto-generated method stub
-        return "";
+        return pattern;
     }
 
     @Override
     public MappingMatch getMatchType() {
-        // TODO Auto-generated method stub
-        return MappingMatch.UNKNOWN;
+        return mappingMatch;
     }
-
 }

==================================================
