4fea6654f6b335ecd46f7f130c7631802ae56ab6
==================================================
Implement keep-alive timeout for HTTP/2.
==================================================
Mark Thomas
==================================================
Thu Sep 24 13:49:05 2015 +0000
==================================================
Http2Protocol.java
Implement keep-alive timeout for HTTP/2.
Switch to an infinite keep-alive timeout at the socket level for HTTP/2.
If we want an inactivity timeout then that will need to be at a higher (i.e. HTTP/2 implementation) level since read timeouts have no visibility of write activity and write timeouts have no visibility of read activity.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1705057 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http2UpgradeHandler.java
index 5fb350d922..a509edb858 100644
--- a/java/org/apache/coyote/http2/Http2Protocol.java
+++ b/java/org/apache/coyote/http2/Http2Protocol.java
@@ -30,7 +30,7 @@ import org.apache.tomcat.util.net.SocketWrapperBase;
 public class Http2Protocol implements UpgradeProtocol {
 
     static final long DEFAULT_READ_TIMEOUT = 10000;
-    static final long DEFAULT_KEEP_ALIVE_TIMEOUT = 30000;
+    static final long DEFAULT_KEEP_ALIVE_TIMEOUT = -1;
     static final long DEFAULT_WRITE_TIMEOUT = 10000;
     // The HTTP/2 specification recommends a minimum default of 100
     static final long DEFAULT_MAX_CONCURRENT_STREAMS = 200;

==================================================
