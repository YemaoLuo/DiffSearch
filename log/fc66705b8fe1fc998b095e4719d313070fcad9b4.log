fc66705b8fe1fc998b095e4719d313070fcad9b4
==================================================
https://issues.apache.org/bugzilla/show_bug.cgi?id=48934
==================================================
Filip Hanik
==================================================
Thu Mar 18 13:54:27 2010 +0000
==================================================
ReplicationTransmitter.java
https://issues.apache.org/bugzilla/show_bug.cgi?id=48934
The wrong sender was disconnected, should only be the sender holding the actual TCP connections.



git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@924776 13f79535-47bb-0310-9956-ffa450edef68



==================================================
PooledParallelSender.java
index d7cf910621..471d8dc23f 100644
--- a/java/org/apache/catalina/tribes/transport/ReplicationTransmitter.java
+++ b/java/org/apache/catalina/tribes/transport/ReplicationTransmitter.java
@@ -76,12 +76,7 @@ public class ReplicationTransmitter implements ChannelSender {
      */
     public void sendMessage(ChannelMessage message, Member[] destination) throws ChannelException {
         MultiPointSender sender = getTransport();
-        try {
-            sender.sendMessage(destination,message);
-        }catch (ChannelException x) {
-            sender.disconnect();
-            throw x;
-        }
+        sender.sendMessage(destination,message);
     }
     
     

==================================================
