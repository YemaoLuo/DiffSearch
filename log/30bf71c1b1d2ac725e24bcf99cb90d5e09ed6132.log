30bf71c1b1d2ac725e24bcf99cb90d5e09ed6132
==================================================
Partial fix for https://bz.apache.org/bugzilla/show_bug.cgi?id=47214
==================================================
Mark Thomas
==================================================
Thu Apr 6 19:43:16 2017 +0000
==================================================
SecurityClassLoad.java
Partial fix for https://bz.apache.org/bugzilla/show_bug.cgi?id=47214
Replace explicitly referenced anonymous inner classes in NioBlockingSelector.BlockPoller with named inner classes.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1790443 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioBlockingSelector.java
index 55ea4acf54..86be2f2e2c 100644
--- a/java/org/apache/catalina/security/SecurityClassLoad.java
+++ b/java/org/apache/catalina/security/SecurityClassLoad.java
@@ -186,9 +186,9 @@ public final class SecurityClassLoad {
         // net
         loader.loadClass(basePackage + "util.net.Constants");
         loader.loadClass(basePackage + "util.net.DispatchType");
-        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$1");
-        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$2");
-        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$3");
+        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$RunnableAdd");
+        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$RunnableCancel");
+        loader.loadClass(basePackage + "util.net.NioBlockingSelector$BlockPoller$RunnableRemove");
         // security
         loader.loadClass(basePackage + "util.security.PrivilegedGetTccl");
         loader.loadClass(basePackage + "util.security.PrivilegedSetTccl");

==================================================
