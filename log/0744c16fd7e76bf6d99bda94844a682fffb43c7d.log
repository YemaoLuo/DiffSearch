0744c16fd7e76bf6d99bda94844a682fffb43c7d
==================================================
UCDetector clean-up
==================================================
Mark Emlyn
==================================================
Fri Jul 13 20:59:08 2012 +0000
==================================================
ClusterSingleSignOn.java
UCDetector clean-up
 - Remove unused code
 - Use final where appropriate

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1361400 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ClusterSingleSignOnListener.java
index 044b349cdd..206bbfe468 100644
--- a/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java
+++ b/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java
@@ -87,8 +87,7 @@ public class ClusterSingleSignOn extends SingleSignOn {
     @Override
     protected synchronized void startInternal() throws LifecycleException {
 
-        clusterSSOListener = new ClusterSingleSignOnListener();
-        clusterSSOListener.setClusterSSO(this);
+        clusterSSOListener = new ClusterSingleSignOnListener(this);
 
         // Load the cluster component, if any
         try {

==================================================
SingleSignOnMessage.java
index 62104b6c4e..fb597a2aea 100644
--- a/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOnListener.java
+++ b/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOnListener.java
@@ -40,30 +40,15 @@ public class ClusterSingleSignOnListener extends ClusterListener {
 
     // ------------------------------------------------------------- Properties
 
-    private ClusterSingleSignOn clusterSSO = null;
+    private final ClusterSingleSignOn clusterSSO;
 
 
     //--Constructor---------------------------------------------
 
-    public ClusterSingleSignOnListener() {
-        // NO-OP
-    }
-
-    //--Logic---------------------------------------------------
-
-    public ClusterSingleSignOn getClusterSSO() {
-
-        return clusterSSO;
-
-    }
-
-    public void setClusterSSO(ClusterSingleSignOn clusterSSO) {
-
+    public ClusterSingleSignOnListener(ClusterSingleSignOn clusterSSO) {
         this.clusterSSO = clusterSSO;
-
     }
 
-
     /**
      * Callback from the cluster, when a message is received, The cluster will
      * broadcast it invoking the messageReceived on the receiver.

==================================================
