aee7bdaed7b716067a471d779d4d2d59fa880dda
==================================================
javax.el.ResourceBundleELResolver:
==================================================
Violeta Georgieva
==================================================
Wed Jul 10 11:11:23 2013 +0000
==================================================
ResourceBundleELResolver.java
javax.el.ResourceBundleELResolver:
According to javadoc:
1. When creating FeatureDescriptors shortDescription must be empty string
2. isReadOnly returns true only if the base is instance of ResourceBundle
Unit tests are added

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1501719 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestResourceBundleELResolver.java
index a7f4a83c2a..a123f284c3 100644
--- a/java/javax/el/ResourceBundleELResolver.java
+++ b/java/javax/el/ResourceBundleELResolver.java
@@ -89,9 +89,10 @@ public class ResourceBundleELResolver extends ELResolver {
 
         if (base instanceof ResourceBundle) {
             context.setPropertyResolved(base, property);
+            return true;
         }
 
-        return true;
+        return false;
     }
 
     @Override
@@ -106,6 +107,7 @@ public class ResourceBundleELResolver extends ELResolver {
                 key = e.nextElement();
                 feat = new FeatureDescriptor();
                 feat.setDisplayName(key);
+                feat.setShortDescription("");
                 feat.setExpert(false);
                 feat.setHidden(false);
                 feat.setName(key);

==================================================
