2afb4bde164232087bcf006acf1178408e568437
==================================================
Add tests for Encoders
==================================================
Mark Emlyn
==================================================
Wed Feb 20 18:35:39 2013 +0000
==================================================
Util.java
Add tests for Encoders

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1448342 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestUtil.java
index 491974a011..e1b4646995 100644
--- a/java/org/apache/tomcat/websocket/Util.java
+++ b/java/org/apache/tomcat/websocket/Util.java
@@ -26,6 +26,7 @@ import java.util.concurrent.ConcurrentLinkedQueue;
 
 import javax.websocket.CloseReason.CloseCode;
 import javax.websocket.CloseReason.CloseCodes;
+import javax.websocket.Encoder;
 import javax.websocket.MessageHandler;
 
 /**
@@ -141,6 +142,12 @@ class Util {
     }
 
 
+    static Class<?> getEncoderType(Encoder encoder) {
+        return (Class<?>) Util.getGenericType(Encoder.class,
+                encoder.getClass());
+    }
+
+
     private static <T> Object getGenericType(Class<T> type,
             Class<? extends T> clazz) {
 

==================================================
