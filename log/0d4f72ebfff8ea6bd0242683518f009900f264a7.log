0d4f72ebfff8ea6bd0242683518f009900f264a7
==================================================
Move the path parameters to the Coyote request so it is easier for HTTP/2 push requests to inject them.
==================================================
Mark Thomas
==================================================
Thu Oct 15 19:14:43 2015 +0000
==================================================
Request.java
Move the path parameters to the Coyote request so it is easier for HTTP/2 push requests to inject them.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1708869 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Request.java
index ce5ba86dbd..2474f61f9e 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -407,20 +407,14 @@ public class Request implements HttpServletRequest {
     protected Boolean asyncSupported = null;
 
 
-    /**
-     * Path parameters
-     */
-    protected final Map<String,String> pathParameters = new HashMap<>();
-
     // --------------------------------------------------------- Public Methods
 
-
     protected void addPathParameter(String name, String value) {
-        pathParameters.put(name, value);
+        coyoteRequest.addPathParameter(name, value);
     }
 
     protected String getPathParameter(String name) {
-        return pathParameters.get(name);
+        return coyoteRequest.getPathParameter(name);
     }
 
     public void setAsyncSupported(boolean asyncSupported) {
@@ -513,8 +507,6 @@ public class Request implements HttpServletRequest {
             asyncContext.recycle();
         }
         asyncContext = null;
-
-        pathParameters.clear();
     }
 
 

==================================================
