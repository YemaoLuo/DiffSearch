ce50cb82435c51e8a0fa4bdb1b9083b2487ecc69
==================================================
- Fix ArrayELResolver.coerce when using a String.
==================================================
Remy Maucherat
==================================================
Wed Sep 13 13:38:25 2006 +0000
==================================================
ArrayELResolver.java
- Fix ArrayELResolver.coerce when using a String.
- Some cleanups.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442983 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ListELResolver.java
index 28dcc82705..d3cbf53213 100644
--- a/java/javax/el/ArrayELResolver.java
+++ b/java/javax/el/ArrayELResolver.java
@@ -145,6 +145,9 @@ public class ArrayELResolver extends ELResolver {
 		if (property instanceof Boolean) {
 			return (((Boolean) property).booleanValue() ? 1 : 0);
 		}
+        if (property instanceof String) {
+            return Integer.parseInt((String) property);
+        }
 		throw new IllegalArgumentException(property != null ? property
 				.toString() : "null");
 	}

==================================================
ResourceBundleELResolver.java
index 36d55d87a9..d324efeea8 100644
--- a/java/javax/el/ListELResolver.java
+++ b/java/javax/el/ListELResolver.java
@@ -17,7 +17,6 @@
 package javax.el;
 
 import java.beans.FeatureDescriptor;
-import java.lang.reflect.Array;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collections;

==================================================
