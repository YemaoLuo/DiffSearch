94683a3bd61572943ca3f9a39215071314e82b83
==================================================
Review of r1590378:
==================================================
Konstantin Kolinko
==================================================
Sun Apr 27 15:07:15 2014 +0000
==================================================
InternalNio2InputBuffer.java
Review of r1590378:
Simplify: instanceof operator does not-null check

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1590403 13f79535-47bb-0310-9956-ffa450edef68



==================================================
InternalNio2OutputBuffer.java
index df3058883d..4ee7cb9a28 100644
--- a/java/org/apache/coyote/http11/InternalNio2InputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalNio2InputBuffer.java
@@ -220,7 +220,7 @@ public class InternalNio2InputBuffer extends AbstractNioInputBuffer<Nio2Channel>
                     nRead = socket.getSocket().read(byteBuffer)
                             .get(socket.getTimeout(), TimeUnit.MILLISECONDS).intValue();
                 } catch (ExecutionException e) {
-                    if (e.getCause() != null && e.getCause() instanceof IOException) {
+                    if (e.getCause() instanceof IOException) {
                         throw (IOException) e.getCause();
                     } else {
                         throw new IOException(e);

==================================================
Nio2ServletInputStream.java
index 3abdecb025..555570b60e 100644
--- a/java/org/apache/coyote/http11/InternalNio2OutputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalNio2OutputBuffer.java
@@ -400,7 +400,7 @@ public class InternalNio2OutputBuffer extends AbstractOutputBuffer<Nio2Channel>
                     }
                 }
             } catch (ExecutionException e) {
-                if (e.getCause() != null && e.getCause() instanceof IOException) {
+                if (e.getCause() instanceof IOException) {
                     throw (IOException) e.getCause();
                 } else {
                     throw new IOException(e);

==================================================
Nio2ServletOutputStream.java
index e1197884c8..e7a259e7bd 100644
--- a/java/org/apache/coyote/http11/upgrade/Nio2ServletInputStream.java
+++ b/java/org/apache/coyote/http11/upgrade/Nio2ServletInputStream.java
@@ -207,7 +207,7 @@ public class Nio2ServletInputStream extends AbstractServletInputStream {
                         .get(wrapper.getTimeout(), TimeUnit.MILLISECONDS).intValue();
                 readPending = false;
             } catch (ExecutionException e) {
-                if (e.getCause() != null && e.getCause() instanceof IOException) {
+                if (e.getCause() instanceof IOException) {
                     onError(e.getCause());
                     throw (IOException) e.getCause();
                 } else {

==================================================
