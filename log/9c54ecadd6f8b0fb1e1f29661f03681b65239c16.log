9c54ecadd6f8b0fb1e1f29661f03681b65239c16
==================================================
Remove/deprecate some more SecurityManager related plumbing
==================================================
Mark Thomas
==================================================
Thu Jan 19 17:08:22 2023 +0000
==================================================
ClassLoaderLogManager.java
Remove/deprecate some more SecurityManager related plumbing


==================================================
WebappProperties.java
index 5fc80f62d1..77e7a81720 100644
--- a/java/org/apache/juli/ClassLoaderLogManager.java
+++ b/java/org/apache/juli/ClassLoaderLogManager.java
@@ -401,11 +401,7 @@ public class ClassLoaderLogManager extends LogManager {
         InputStream is = null;
         // Special case for URL classloaders which are used in containers:
         // only look in the local repositories to avoid redefining loggers 20 times
-        if (classLoader instanceof WebappProperties) {
-            if (((WebappProperties) classLoader).hasLoggingConfig()) {
-                is = classLoader.getResourceAsStream("logging.properties");
-            }
-        } else if (classLoader instanceof URLClassLoader) {
+        if (classLoader instanceof URLClassLoader) {
             URL logConfig = ((URLClassLoader)classLoader).findResource("logging.properties");
 
             if(null != logConfig) {

==================================================
