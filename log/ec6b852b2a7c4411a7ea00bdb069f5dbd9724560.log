ec6b852b2a7c4411a7ea00bdb069f5dbd9724560
==================================================
Remove 1.4 impl since we must be using a 1.6 JVM.
==================================================
Mark Emlyn
==================================================
Wed Jan 14 20:45:28 2009 +0000
==================================================
BufferPool.java
Remove 1.4 impl since we must be using a 1.6 JVM.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734506 13f79535-47bb-0310-9956-ffa450edef68



==================================================
BufferPool14Impl.java
index 1efbe01519..6b8d3d61e4 100644
--- a/java/org/apache/catalina/tribes/io/BufferPool.java
+++ b/java/org/apache/catalina/tribes/io/BufferPool.java
@@ -61,16 +61,12 @@ public class BufferPool {
                    BufferPoolAPI pool = null;
                    Class<?> clazz = null;
                    try {
+                       // TODO Is this approach still required?
                        clazz = Class.forName("org.apache.catalina.tribes.io.BufferPool15Impl");
                        pool = (BufferPoolAPI)clazz.newInstance();
                    } catch ( Throwable x ) {
-                       try {
-                           clazz = Class.forName("org.apache.catalina.tribes.io.BufferPool14Impl");
-                           pool = (BufferPoolAPI)clazz.newInstance();
-                       } catch ( Throwable e ) {
-                           log.warn("Unable to initilize BufferPool, not pooling XByteBuffer objects:"+x.getMessage());
-                           if ( log.isDebugEnabled() ) log.debug("Unable to initilize BufferPool, not pooling XByteBuffer objects:",x);
-                       }
+                       log.warn("Unable to initilize BufferPool, not pooling XByteBuffer objects:"+x.getMessage());
+                       if ( log.isDebugEnabled() ) log.debug("Unable to initilize BufferPool, not pooling XByteBuffer objects:",x);
                    }
                    pool.setMaxSize(DEFAULT_POOL_SIZE);
                    log.info("Created a buffer pool with max size:"+DEFAULT_POOL_SIZE+" bytes of type:"+(clazz!=null?clazz.getName():"null"));

==================================================
