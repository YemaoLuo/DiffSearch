a3173600a93668faff844d397df41cc3688ba662
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58369
==================================================
Mark Thomas
==================================================
Mon Sep 14 09:27:05 2015 +0000
==================================================
Context.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58369
Fix a rare data race in the code that obtains the CookieProcessor instance for the Context.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1702881 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StandardContext.java
index db5b92b99d..d05db25bc1 100644
--- a/java/org/apache/catalina/core/LocalStrings.properties
+++ b/java/org/apache/catalina/core/LocalStrings.properties
@@ -110,6 +110,7 @@ standardContext.backgroundProcess.manager=Exception processing manager {0} backg
 standardContext.backgroundProcess.resources=Exception processing resources {0} background process
 standardContext.cluster.noManager=No manager found. Checking if cluster manager should be used. Cluster configured: [{0}], Application distributable: [{1}]
 standardContext.configurationFail=One or more components marked the context as not correctly configured
+standardContext.cookieProcessor.null=It is not permitted to set the CookieProcessor for a Context to null
 standardContext.duplicateListener=The listener "{0}" is already configured for this context. The duplicate definition has been ignored.
 standardContext.errorPage.error=Error page location {0} must start with a ''/''
 standardContext.errorPage.required=ErrorPage cannot be null

==================================================
