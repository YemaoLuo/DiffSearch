44dc1c19a601c0ddf902d7ab0951024ee094381e
==================================================
Fix BZ 66441 - Make imports of static fields in JSPs visible to EL
==================================================
Mark Thomas
==================================================
Wed Feb 1 14:49:27 2023 +0000
==================================================
PageContextImpl.java
Fix BZ 66441 - Make imports of static fields in JSPs visible to EL

https://bz.apache.org/bugzilla/show_bug.cgi?id=66441


==================================================
TestImportELResolver.java
index e3388f0aa7..26d313de08 100644
--- a/java/org/apache/jasper/runtime/PageContextImpl.java
+++ b/java/org/apache/jasper/runtime/PageContextImpl.java
@@ -696,7 +696,12 @@ public class PageContextImpl extends PageContext {
                 Set<String> classImports = ((JspSourceImports) servlet).getClassImports();
                 if (classImports != null) {
                     for (String classImport : classImports) {
-                        ih.importClass(classImport);
+                        if (classImport.startsWith("static ")) {
+                            classImport = classImport.substring(7);
+                            ih.importStatic(classImport);
+                        } else {
+                            ih.importClass(classImport);
+                        }
                     }
                 }
             }

==================================================
