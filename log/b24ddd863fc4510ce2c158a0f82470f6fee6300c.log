b24ddd863fc4510ce2c158a0f82470f6fee6300c
==================================================
Improve Jsp limiter:
==================================================
Rainer Jung
==================================================
Fri Oct 29 17:41:05 2010 +0000
==================================================
FastRemovalDequeue.java
Improve Jsp limiter:

- Under high load entries removed from the jspQueue
  were already re-added via moveFirst by some other
  concurrent request, before the JspWrapper was
  unregistered. Add "valid" field to the Entry
  object to mark as invalid during removal.

- Improve comment about thread-safetyness and add
  comment about the new "valid" field.

- Add new getSize(). Will be used soon.

- Reorder getters and setters of Entry.


git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028861 13f79535-47bb-0310-9956-ffa450edef68



==================================================
