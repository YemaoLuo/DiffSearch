23a68103b10e07c20327cb6f9a23a451efe0ff67
==================================================
Speed up unit tests.
==================================================
Mark Thomas
==================================================
Tue Mar 31 20:33:05 2020 +0100
==================================================
CharsetCache.java
Speed up unit tests.

Only run TestCharsetUtil#testIsAcsiiSupersetAll() if a new Charset is
detected.


==================================================
TestCharsetUtil.java
index 2f09168cb7..3146d6ac1d 100644
--- a/java/org/apache/tomcat/util/buf/CharsetCache.java
+++ b/java/org/apache/tomcat/util/buf/CharsetCache.java
@@ -152,6 +152,8 @@ public class CharsetCache {
             "ibm858", "x-ibm29626c",
             // Added from HPE JVM 1.8.0.17-hp-ux
             "cp1051", "cp1386", "cshproman8", "hp-roman8", "ibm-1051", "r8", "roman8", "roman9"
+            // If you add and entry to this list, ensure you run
+            // TestCharsetUtil#testIsAcsiiSupersetAll()
             };
 
     private static final Charset DUMMY_CHARSET = new DummyCharset("Dummy",  null);

==================================================
