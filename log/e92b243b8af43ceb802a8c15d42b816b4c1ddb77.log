e92b243b8af43ceb802a8c15d42b816b4c1ddb77
==================================================
Pull up getter/setter for useSendfile
==================================================
Mark Thomas
==================================================
Mon Jan 12 11:16:13 2015 +0000
==================================================
AbstractHttp11Protocol.java
Pull up getter/setter for useSendfile

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1651062 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11AprProtocol.java
index 46edc41739..fd3931d327 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
@@ -184,6 +184,10 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
     }
 
 
+    public boolean getUseSendfile() { return getEndpoint().getUseSendfile(); }
+    public void setUseSendfile(boolean useSendfile) { getEndpoint().setUseSendfile(useSendfile); }
+
+
     /**
      * Maximum number of requests which can be performed over a keepalive
      * connection. The default is the same as for Apache HTTP Server.

==================================================
Http11Nio2Protocol.java
index a3390e909d..a1efdb5adb 100644
--- a/java/org/apache/coyote/http11/Http11AprProtocol.java
+++ b/java/org/apache/coyote/http11/Http11AprProtocol.java
@@ -62,9 +62,6 @@ public class Http11AprProtocol extends AbstractHttp11Protocol<Long> {
         return true;
     }
 
-    public boolean getUseSendfile() { return getEndpoint().getUseSendfile(); }
-    public void setUseSendfile(boolean useSendfile) { ((AprEndpoint)getEndpoint()).setUseSendfile(useSendfile); }
-
     public int getPollTime() { return ((AprEndpoint)getEndpoint()).getPollTime(); }
     public void setPollTime(int pollTime) { ((AprEndpoint)getEndpoint()).setPollTime(pollTime); }
 

==================================================
Http11NioProtocol.java
index 4363bdf4a5..c522e1eb92 100644
--- a/java/org/apache/coyote/http11/Http11Nio2Protocol.java
+++ b/java/org/apache/coyote/http11/Http11Nio2Protocol.java
@@ -77,13 +77,6 @@ public class Http11Nio2Protocol extends AbstractHttp11JsseProtocol<Nio2Channel>
       return ((Nio2Endpoint)getEndpoint()).getAcceptorThreadPriority();
     }
 
-    public boolean getUseSendfile() {
-        return getEndpoint().getUseSendfile();
-    }
-
-    public void setUseSendfile(boolean useSendfile) {
-        ((Nio2Endpoint)getEndpoint()).setUseSendfile(useSendfile);
-    }
 
     // -------------------- Tcp setup --------------------
 
@@ -91,6 +84,7 @@ public class Http11Nio2Protocol extends AbstractHttp11JsseProtocol<Nio2Channel>
         ((Nio2Endpoint)getEndpoint()).setOomParachute(oomParachute);
     }
 
+
     // ----------------------------------------------------- JMX related methods
 
     @Override

==================================================
