70ee209ee7bcf255a32052110fcf346f5b7fab35
==================================================
Remove a package dependency
==================================================
Mark Emlyn
==================================================
Mon Feb 6 20:31:23 2012 +0000
==================================================
Authenticator.java
Remove a package dependency

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1241160 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AuthenticatorBase.java
index 0e79820fb2..c8d44eec76 100644
--- a/java/org/apache/catalina/Authenticator.java
+++ b/java/org/apache/catalina/Authenticator.java
@@ -37,6 +37,21 @@ import org.apache.catalina.deploy.LoginConfig;
 
 public interface Authenticator {
 
+    /**
+     * Authenticate the user making this request, based on the login
+     * configuration of the {@link Context} with which this Authenticator is
+     * associated.  Return <code>true</code> if any specified constraint has
+     * been satisfied, or <code>false</code> if we have created a response
+     * challenge already.
+     *
+     * @param request Request we are processing
+     * @param response Response we are populating
+     *
+     * @exception IOException if an input/output error occurs
+     */
+    public boolean authenticate(Request request, HttpServletResponse response)
+            throws IOException;
+
     /**
      * Authenticate the user making this request, based on the specified
      * login configuration.  Return <code>true</code> if any specified
@@ -49,7 +64,12 @@ public interface Authenticator {
      *              should be performed
      *
      * @exception IOException if an input/output error occurs
+     *
+     * @deprecated  Use {@link #authenticate(Request, HttpServletResponse)}.
+     *              This will be removed / have reduced visibility in Tomcat
+     *              8.0.x
      */
+    @Deprecated
     public boolean authenticate(Request request, HttpServletResponse response,
             LoginConfig config) throws IOException;
 

==================================================
Request.java
index 10a1dc137f..a766723bec 100644
--- a/java/org/apache/catalina/connector/LocalStrings.properties
+++ b/java/org/apache/catalina/connector/LocalStrings.properties
@@ -57,7 +57,6 @@ coyoteRequest.parseParameters=Exception thrown whilst processing POSTed paramete
 coyoteRequest.postTooLarge=Parameters were not parsed because the size of the posted data was too big. Use the maxPostSize attribute of the connector to resolve this if the application should accept large POSTs.
 coyoteRequest.chunkedPostTooLarge=Parameters were not parsed because the size of the posted data was too big. Because this request was a chunked request, it could not be processed further. Use the maxPostSize attribute of the connector to resolve this if the application should accept large POSTs.
 coyoteRequest.alreadyAuthenticated=This is request has already been authenticated
-coyoteRequest.noLoginConfig=No authentication mechanism has been configured for this context
 coyoteRequest.authenticate.ise=Cannot call authenticate() after the reponse has been committed
 coyoteRequest.uploadLocationInvalid=The temporary upload location [{0}] is not valid
 coyoteRequest.sessionEndAccessFail=Exception triggered ending access to session while recycling request

==================================================
