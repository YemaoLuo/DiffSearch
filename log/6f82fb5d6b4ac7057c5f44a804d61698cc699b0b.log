6f82fb5d6b4ac7057c5f44a804d61698cc699b0b
==================================================
Java 8 Javadoc issues for o.a.t.websocket package
==================================================
Mark Emlyn
==================================================
Tue Oct 14 19:54:42 2014 +0000
==================================================
Transformation.java
Java 8 Javadoc issues for o.a.t.websocket package

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1631858 13f79535-47bb-0310-9956-ffa450edef68



==================================================
WsSession.java
index 28791ecbd4..1d094035ad 100644
--- a/java/org/apache/tomcat/websocket/Transformation.java
+++ b/java/org/apache/tomcat/websocket/Transformation.java
@@ -30,6 +30,7 @@ public interface Transformation {
 
     /**
      * Sets the next transformation in the pipeline.
+     * @param t The next transformation
      */
     void setNext(Transformation t);
 
@@ -52,6 +53,9 @@ public interface Transformation {
     /**
      * Obtain the extension that describes the information to be returned to the
      * client.
+     *
+     * @return The extension information that describes the parameters that have
+     *         been agreed for this transformation
      */
     Extension getExtensionResponse();
 
@@ -63,6 +67,11 @@ public interface Transformation {
      * @param rsv       The reserved bits for the frame currently being
      *                      processed
      * @param dest      The buffer in which the data is to be written
+     *
+     * @return The result of trying to read more data from the transform
+     *
+     * @throws IOException If an I/O error occurs while reading data from the
+     *         transform
      */
     TransformationResult getMoreData(byte opCode, boolean fin, int rsv, ByteBuffer dest) throws IOException;
 

==================================================
UpgradeUtil.java
index 0d7eb1d39f..6567862991 100644
--- a/java/org/apache/tomcat/websocket/WsSession.java
+++ b/java/org/apache/tomcat/websocket/WsSession.java
@@ -106,10 +106,34 @@ public class WsSession implements Session {
      * at the time this constructor is called will be used when calling
      * {@link Endpoint#onClose(Session, CloseReason)}.
      *
-     * @param localEndpoint
-     * @param wsRemoteEndpoint
-     * @param negotiatedExtensions
-     * @throws DeploymentException
+     * @param localEndpoint        The end point managed by this code
+     * @param wsRemoteEndpoint     The other / remote endpoint
+     * @param wsWebSocketContainer The container that created this session
+     * @param requestUri           The URI used to connect to this endpoint or
+     *                             <code>null</code> is this is a client session
+     * @param requestParameterMap  The parameters associated with the request
+     *                             that initiated this session or
+     *                             <code>null</code> if this is a client session
+     * @param queryString          The query string associated with the request
+     *                             that initiated this session or
+     *                             <code>null</code> if this is a client session
+     * @param userPrincipal        The principal associated with the request
+     *                             that initiated this session or
+     *                             <code>null</code> if this is a client session
+     * @param httpSessionId        The HTTP session ID associated with the
+     *                             request that initiated this session or
+     *                             <code>null</code> if this is a client session
+     * @param negotiatedExtensions The agreed extensions to use for this session
+     * @param subProtocol          The agreed subprotocol to use for this
+     *                             session
+     * @param pathParameters       The path parameters associated with the
+     *                             request that initiated this session or
+     *                             <code>null</code> if this is a client session
+     * @param secure               Was this session initiated over a secure
+     *                             connection?
+     * @param endpointConfig       The configuration information for the
+     *                             endpoint
+     * @throws DeploymentException if an invalid encode is specified
      */
     public WsSession(Endpoint localEndpoint,
             WsRemoteEndpointImplBase wsRemoteEndpoint,
@@ -455,6 +479,9 @@ public class WsSession implements Session {
      * Called when a close message is received. Should only ever happen once.
      * Also called after a protocol error when the ProtocolHandler needs to
      * force the closing of the connection.
+     *
+     * @param closeReason The reason contained within the received close
+     *                    message.
      */
     public void onClose(CloseReason closeReason) {
 

==================================================
WsFrameServer.java
index 9e17ebe057..ee333319b4 100644
--- a/java/org/apache/tomcat/websocket/server/UpgradeUtil.java
+++ b/java/org/apache/tomcat/websocket/server/UpgradeUtil.java
@@ -65,6 +65,11 @@ public class UpgradeUtil {
      * Note: RFC 2616 does not limit HTTP upgrade to GET requests but the Java
      *       WebSocket spec 1.0, section 8.2 implies such a limitation and RFC
      *       6455 section 4.1 requires that a WebSocket Upgrade uses GET.
+     * @param request  The request to check if it is an HTTP upgrade request for
+     *                 a WebSocket connection
+     * @param response The response associated with the request
+     * @return <code>true</code> if the request includes a HTTP Upgrade request
+     *         for the WebSocket protocol, otherwise <code>false</code>
      */
     public static boolean isWebSocketUpgradeRequest(ServletRequest request,
             ServletResponse response) {

==================================================
WsServerContainer.java
index aab083b5b9..51e05e4675 100644
--- a/java/org/apache/tomcat/websocket/server/WsFrameServer.java
+++ b/java/org/apache/tomcat/websocket/server/WsFrameServer.java
@@ -40,6 +40,9 @@ public class WsFrameServer extends WsFrameBase {
 
     /**
      * Called when there is data in the ServletInputStream to process.
+     *
+     * @throws IOException if an I/O error occurs while processing the available
+     *                     data
      */
     public void onDataAvailable() throws IOException {
         synchronized (connectionReadLock) {

==================================================
