4ae47eb1021f84ff255601c40167f0cc0204ead9
==================================================
Remove deprecated execute(Runnable, long, TimeUnit) method
==================================================
Mark Thomas
==================================================
Wed Jul 21 16:59:01 2021 +0100
==================================================
Executor.java
Remove deprecated execute(Runnable, long, TimeUnit) method


==================================================
StandardThreadExecutor.java
index b106f54536..5ea6a12ce3 100644
--- a/java/org/apache/catalina/Executor.java
+++ b/java/org/apache/catalina/Executor.java
@@ -16,30 +16,7 @@
  */
 package org.apache.catalina;
 
-import java.util.concurrent.TimeUnit;
-
 public interface Executor extends java.util.concurrent.Executor, Lifecycle {
 
     public String getName();
-
-    /**
-     * Executes the given command at some time in the future.  The command
-     * may execute in a new thread, in a pooled thread, or in the calling
-     * thread, at the discretion of the <code>Executor</code> implementation.
-     * If no threads are available, it will be added to the work queue.
-     * If the work queue is full, the system will wait for the specified
-     * time until it throws a RejectedExecutionException
-     *
-     * @param command the runnable task
-     * @param timeout the length of time to wait for the task to complete
-     * @param unit    the units in which timeout is expressed
-     *
-     * @throws java.util.concurrent.RejectedExecutionException if this task
-     * cannot be accepted for execution - the queue is full
-     * @throws NullPointerException if command or unit is null
-     *
-     * @deprecated Unused. Will be removed in Tomcat 10.1.x onwards.
-     */
-    @Deprecated
-    void execute(Runnable command, long timeout, TimeUnit unit);
 }
\ No newline at end of file

==================================================
ThreadPoolExecutor.java
index 5e7d4db78d..63559d13e8 100644
--- a/java/org/apache/catalina/core/StandardThreadExecutor.java
+++ b/java/org/apache/catalina/core/StandardThreadExecutor.java
@@ -157,17 +157,6 @@ public class StandardThreadExecutor extends LifecycleMBeanBase
     }
 
 
-    @Override
-    @Deprecated
-    public void execute(Runnable command, long timeout, TimeUnit unit) {
-        if (executor != null) {
-            executor.execute(command,timeout,unit);
-        } else {
-            throw new IllegalStateException(sm.getString("standardThreadExecutor.notStarted"));
-        }
-    }
-
-
     @Override
     public void execute(Runnable command) {
         if (executor != null) {

==================================================
