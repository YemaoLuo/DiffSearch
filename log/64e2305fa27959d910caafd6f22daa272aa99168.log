64e2305fa27959d910caafd6f22daa272aa99168
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43656
==================================================
Mark Emlyn
==================================================
Sun Dec 13 22:48:20 2009 +0000
==================================================
ELSupport.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43656
Correctly coerce null to zero when Number is the required type.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890139 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestELSupport.java
index 4858e4d04f..82c0f28ee0 100644
--- a/java/org/apache/el/lang/ELSupport.java
+++ b/java/org/apache/el/lang/ELSupport.java
@@ -284,6 +284,9 @@ public class ELSupport {
         if (Float.TYPE == type || Float.class.equals(type)) {
             return new Float(number.floatValue());
         }
+        if (Number.class.equals(type)) {
+            return number;
+        }
 
         throw new IllegalArgumentException(MessageFactory.get("error.convert",
                 number, number.getClass(), type));

==================================================
