b63bf48e97a98aa481cc8c3de0402608ed2b1a78
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56991
==================================================
Mark Emlyn
==================================================
Mon Sep 22 11:41:06 2014 +0000
==================================================
Constants.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56991
Deprecate the use of a request attribute to pass a <jsp-file> declaration to Jasper and prevent an infinite loop if this technique is used in conjunction with an include.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1626741 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JspServlet.java
index d802201459..4ff5f61dc5 100644
--- a/java/org/apache/jasper/Constants.java
+++ b/java/org/apache/jasper/Constants.java
@@ -69,7 +69,10 @@ public class Constants {
      * servlet definition.  If present on a request, this overrides the
      * value returned by <code>request.getServletPath()</code> to select
      * the JSP page to be executed.
+     * @deprecated  This will be removed in Tomcat 9.0.x onwards. It is replaced
+     *              by the use of the jspFile servlet initialisation parameter
      */
+    @Deprecated
     public static final String JSP_FILE =
         System.getProperty("org.apache.jasper.Constants.JSP_FILE", "org.apache.catalina.jsp_file");
 

==================================================
