15b77ca71752d48cec648aede8e2844771bdcba9
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45785
==================================================
Mark Emlyn
==================================================
Sun Sep 14 20:01:21 2008 +0000
==================================================
WebappLoader.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45785
Ignore directories named xxx.jar in WEB-INF/lib

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695274 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ExtensionValidator.java
index 1734f4b020..30453db12f 100644
--- a/java/org/apache/catalina/loader/WebappLoader.java
+++ b/java/org/apache/catalina/loader/WebappLoader.java
@@ -994,6 +994,10 @@ public class WebappLoader
                     // impossible to update it or remove it at runtime)
                     File destFile = new File(destDir, binding.getName());
 
+                    // Ignore directories named xxx.jar
+                    if (destFile.isDirectory())
+                        continue;
+
                     if( log.isDebugEnabled())
                     log.debug(sm.getString("webappLoader.jarDeploy", filename,
                                      destFile.getAbsolutePath()));

==================================================
