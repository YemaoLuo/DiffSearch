6c13431be7a43c9fe6867b3726ea545f1d851a8e
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53697
==================================================
Mark Emlyn
==================================================
Wed Aug 15 22:45:51 2012 +0000
==================================================
AbstractHttp11Processor.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53697
Fix a regression in the fix for BZ 51881 that mean that in some circumstances the isComet flag was not reset on the HttpAprProcessor. This caused problems when the Processor was re-used for a new connection.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1373666 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11NioProcessor.java
index b1ac95d3b5..6bee079a30 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Processor.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Processor.java
@@ -1679,6 +1679,7 @@ public abstract class AbstractHttp11Processor<S> extends AbstractProcessor<S> {
         localName = null;
         remotePort = -1;
         localPort = -1;
+        comet = false;
         recycleInternal();
     }
 

==================================================
