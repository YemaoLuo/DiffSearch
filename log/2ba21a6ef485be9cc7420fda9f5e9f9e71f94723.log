2ba21a6ef485be9cc7420fda9f5e9f9e71f94723
==================================================
Document the protocols attribute for SSLHostConfig and align the implementation with it.
==================================================
Mark Thomas
==================================================
Tue Apr 21 20:56:14 2015 +0000
==================================================
AprEndpoint.java
Document the protocols attribute for SSLHostConfig and align the implementation with it.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1675198 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SSLHostConfig.java
index 39bc1b1370..6c7296da00 100644
--- a/java/org/apache/tomcat/util/net/AprEndpoint.java
+++ b/java/org/apache/tomcat/util/net/AprEndpoint.java
@@ -499,7 +499,9 @@ public class AprEndpoint extends AbstractEndpoint<Long> {
                     value = SSL.SSL_PROTOCOL_ALL;
                 } else {
                     for (String protocol : sslHostConfig.getProtocols()) {
-                        if ("SSLv2".equalsIgnoreCase(protocol)) {
+                        if ("SSLv2Hello".equalsIgnoreCase(protocol)) {
+                            // NO-OP. OpenSSL always supports SSLv2Hello
+                        } else if ("SSLv2".equalsIgnoreCase(protocol)) {
                             value |= SSL.SSL_PROTOCOL_SSLV2;
                         } else if ("SSLv3".equalsIgnoreCase(protocol)) {
                             value |= SSL.SSL_PROTOCOL_SSLV3;

==================================================
