d3c9cc60ea5a260198ea3959244ea189e24bc7c2
==================================================
Add additional logging to record problems that occur while waiting for the NIO pollers to stop during the Connector stop process.
==================================================
Mark Thomas
==================================================
Thu Jul 27 11:55:30 2017 +0000
==================================================
NioEndpoint.java
index c3dd53680f..7dfc313086 100644
--- a/java/org/apache/tomcat/util/net/LocalStrings.properties
+++ b/java/org/apache/tomcat/util/net/LocalStrings.properties
@@ -77,6 +77,8 @@ endpoint.apr.remoteport=APR socket [{0}] opened with remote port [{1}]
 endpoint.jsse.noSslContext=No SSLContext could be found for the host name [{0}]
 endpoint.nio.registerFail=Failed to register socket with selector from poller
 endpoint.nio.selectorCloseFail=Failed to close selector when closing the poller
+endpoint.nio.stopLatchAwaitFail=The pollers did not stop within the expected time
+endpoint.nio.stopLatchAwaitInterrupted=This thread was interrupted while waiting for the pollers to stop
 endpoint.nio.timeoutCme=Exception during processing of timeouts. The code has been checked repeatedly and no concurrent modification has been found. If you are able to repeat this error please open a Tomcat bug and provide the steps to reproduce.
 endpoint.nio2.exclusiveExecutor=The NIO2 connector requires an exclusive executor to operate properly on shutdown
 

==================================================
