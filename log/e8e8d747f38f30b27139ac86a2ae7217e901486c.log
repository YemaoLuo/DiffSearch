e8e8d747f38f30b27139ac86a2ae7217e901486c
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58535
==================================================
Violeta Georgieva
==================================================
Wed Oct 28 13:27:10 2015 +0000
==================================================
HTMLManagerServlet.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58535
Use Collections.reverseOrder instead of home made org.apache.catalina.manager.util.ReverseComparator

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1711006 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ReverseComparator.java
index c0cf045ee5..99eea63ba9 100644
--- a/java/org/apache/catalina/manager/HTMLManagerServlet.java
+++ b/java/org/apache/catalina/manager/HTMLManagerServlet.java
@@ -46,7 +46,6 @@ import org.apache.catalina.DistributedManager;
 import org.apache.catalina.Manager;
 import org.apache.catalina.Session;
 import org.apache.catalina.manager.util.BaseSessionComparator;
-import org.apache.catalina.manager.util.ReverseComparator;
 import org.apache.catalina.manager.util.SessionUtils;
 import org.apache.catalina.util.ContextName;
 import org.apache.catalina.util.RequestUtil;
@@ -891,7 +890,7 @@ public final class HTMLManagerServlet extends ManagerServlet {
             if (comparator != null) {
                 orderBy = req.getParameter("order");
                 if ("DESC".equalsIgnoreCase(orderBy)) {
-                    comparator = new ReverseComparator(comparator);
+                    comparator = Collections.reverseOrder(comparator);
                     orderBy = "ASC";
                 } else {
                     orderBy = "DESC";

==================================================
