d9f88f015447c8f2b08b04ff51734fd65e5e6e19
==================================================
Rename. Might collapse some of these packages at a later point.
==================================================
Mark Emlyn
==================================================
Mon Nov 10 16:47:08 2014 +0000
==================================================
AbstractProcessor.java
Rename. Might collapse some of these packages at a later point.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1637932 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AprProcessor.java
index 1f47eb3d36..c512a1dee5 100644
--- a/java/org/apache/coyote/http11/upgrade/AbstractProcessor.java
+++ b/java/org/apache/coyote/http11/upgrade/AbstractProcessor.java
@@ -42,11 +42,11 @@ public abstract class AbstractProcessor<S>
     protected abstract Log getLog();
 
     private final HttpUpgradeHandler httpUpgradeHandler;
-    private final ServletInputStreamImpl upgradeServletInputStream;
+    private final UpgradeServletInputStream upgradeServletInputStream;
     private final AbstractServletOutputStream<S> upgradeServletOutputStream;
 
     protected AbstractProcessor (HttpUpgradeHandler httpUpgradeHandler,
-            ServletInputStreamImpl upgradeServletInputStream,
+            UpgradeServletInputStream upgradeServletInputStream,
             AbstractServletOutputStream<S> upgradeServletOutputStream) {
         this.httpUpgradeHandler = httpUpgradeHandler;
         this.upgradeServletInputStream = upgradeServletInputStream;

==================================================
Nio2Processor.java
index ddb7869858..68e6e5a5e5 100644
--- a/java/org/apache/coyote/http11/upgrade/AprProcessor.java
+++ b/java/org/apache/coyote/http11/upgrade/AprProcessor.java
@@ -37,7 +37,7 @@ public class AprProcessor extends AbstractProcessor<Long> {
     public AprProcessor(SocketWrapperBase<Long> wrapper, ByteBuffer leftOverInput,
             HttpUpgradeHandler httpUpgradeProcessor, int asyncWriteBufferSize) {
         super(httpUpgradeProcessor,
-                new ServletInputStreamImpl(wrapper),
+                new UpgradeServletInputStream(wrapper),
                 new AprServletOutputStream(wrapper, asyncWriteBufferSize));
         ((AprSocketWrapper) wrapper).setLeftOverInput(leftOverInput);
         Socket.timeoutSet(wrapper.getSocket().longValue(), INFINITE_TIMEOUT);

==================================================
NioProcessor.java
index 0f311a8f18..82b762ada8 100644
--- a/java/org/apache/coyote/http11/upgrade/Nio2Processor.java
+++ b/java/org/apache/coyote/http11/upgrade/Nio2Processor.java
@@ -36,7 +36,7 @@ public class Nio2Processor extends AbstractProcessor<Nio2Channel> {
     public Nio2Processor(SocketWrapperBase<Nio2Channel> wrapper, ByteBuffer leftoverInput,
             HttpUpgradeHandler httpUpgradeProcessor, int asyncWriteBufferSize) {
         super(httpUpgradeProcessor,
-                new ServletInputStreamImpl(wrapper),
+                new UpgradeServletInputStream(wrapper),
                 new Nio2ServletOutputStream(wrapper, asyncWriteBufferSize));
 
         wrapper.setTimeout(INFINITE_TIMEOUT);

==================================================
UpgradeServletInputStream.java
index 55b971a62a..d8a22634b7 100644
--- a/java/org/apache/coyote/http11/upgrade/NioProcessor.java
+++ b/java/org/apache/coyote/http11/upgrade/NioProcessor.java
@@ -36,7 +36,7 @@ public class NioProcessor extends AbstractProcessor<NioChannel> {
     public NioProcessor(SocketWrapperBase<NioChannel> wrapper, ByteBuffer leftoverInput,
             HttpUpgradeHandler httpUpgradeProcessor, int asyncWriteBufferSize) {
         super(httpUpgradeProcessor,
-                new ServletInputStreamImpl(wrapper),
+                new UpgradeServletInputStream(wrapper),
                 new NioServletOutputStream(wrapper, asyncWriteBufferSize));
 
         wrapper.setTimeout(INFINITE_TIMEOUT);

==================================================
