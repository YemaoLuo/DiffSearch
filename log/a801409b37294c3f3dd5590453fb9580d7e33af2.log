a801409b37294c3f3dd5590453fb9580d7e33af2
==================================================
Fix Javadoc issues preventing release builds with newer Java versions
==================================================
Mark Thomas
==================================================
Fri Sep 6 16:21:18 2019 +0100
==================================================
HttpServletRequest.java
index 6690daa545..295c8b51b9 100644
--- a/build.xml
+++ b/build.xml
@@ -196,9 +196,9 @@
 
   <!-- Java 9 -->
   <available classname="java.lang.reflect.InaccessibleObjectException"
-             property="java9.add.modules"
-             value="--add-modules java.xml.ws"/>
-  <property name="java9.add.modules" value=""/>
+             property="java9.javadoc.options"
+             value="-html5"/>
+  <property name="java9.javadoc.options" value=""/>
 
   <!-- Classpaths -->
   <path id="compile.classpath">
@@ -1853,7 +1853,8 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       encoding="UTF-8"
       docencoding="UTF-8"
       charset="UTF-8"
-      additionalparam="-breakiterator -notimestamp"
+      additionalparam="-breakiterator -notimestamp ${java9.javadoc.options}"
+      source="${compile.source}"
       maxmemory="512m"
       failonerror="true"
       failonwarning="true">
@@ -1873,7 +1874,8 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       encoding="UTF-8"
       docencoding="UTF-8"
       charset="UTF-8"
-      additionalparam="-breakiterator -notimestamp"
+      additionalparam="-breakiterator -notimestamp ${java9.javadoc.options}"
+      source="${compile.source}"
       maxmemory="512m"
       failonerror="true"
       failonwarning="true">
@@ -1893,7 +1895,8 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       encoding="UTF-8"
       docencoding="UTF-8"
       charset="UTF-8"
-      additionalparam="-breakiterator -notimestamp"
+      additionalparam="-breakiterator -notimestamp ${java9.javadoc.options}"
+      source="${compile.source}"
       maxmemory="512m"
       failonerror="true"
       failonwarning="true">
@@ -1913,7 +1916,8 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       encoding="UTF-8"
       docencoding="UTF-8"
       charset="UTF-8"
-      additionalparam="-breakiterator -notimestamp"
+      additionalparam="-breakiterator -notimestamp ${java9.javadoc.options}"
+      source="${compile.source}"
       maxmemory="512m"
       failonerror="true"
       failonwarning="true">
@@ -1932,7 +1936,8 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       encoding="UTF-8"
       docencoding="UTF-8"
       charset="UTF-8"
-      additionalparam="-breakiterator -notimestamp ${java9.add.modules}"
+      additionalparam="-breakiterator -notimestamp ${java9.javadoc.options}"
+      source="${compile.source}"
       maxmemory="512m"
       failonerror="true"
       failonwarning="true">
@@ -1944,7 +1949,7 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
       <link href="../jspapi"/>
       <link href="../elapi"/>
       <link href="../websocketapi"/>
-      <link href="http://docs.oracle.com/javase/8/docs/api/"/>
+      <link href="https://docs.oracle.com/javase/8/docs/api/"/>
       <link href="https://commons.apache.org/proper/commons-io/javadocs/api-release/"/>
       <link href="https://javaee.github.io/javaee-spec/javadocs/"/>
       <packageset dir="${tomcat.dist}/src/java/">

==================================================
JspWriter.java
index 3c12fa49d9..6cc782e394 100644
--- a/java/javax/servlet/http/HttpServletRequest.java
+++ b/java/javax/servlet/http/HttpServletRequest.java
@@ -334,8 +334,9 @@ public interface HttpServletRequest extends ServletRequest {
      * Returns the part of this request's URL from the protocol name up to the
      * query string in the first line of the HTTP request. The web container
      * does not decode this String. For example:
-     * <table summary="Examples of Returned Values">
-     * <tr align=left>
+     * <table>
+     * <caption>Examples of Returned Values</caption>
+     * <tr>
      * <th>First line of HTTP request</th>
      * <th>Returned Value</th>
      * <tr>

==================================================
SimpleTagSupport.java
index 691f354737..9d0be8bfe2 100644
--- a/java/javax/servlet/jsp/JspWriter.java
+++ b/java/javax/servlet/jsp/JspWriter.java
@@ -111,8 +111,8 @@ public abstract class JspWriter extends java.io.Writer {
 
     /**
      * Write a line separator. The line separator string is defined by the
-     * system property <tt>line.separator</tt>, and is not necessarily a single
-     * newline ('\n') character.
+     * system property <code>line.separator</code>, and is not necessarily a
+     * single newline ('\n') character.
      *
      * @exception IOException
      *                If an I/O error occurs

==================================================
TagExtraInfo.java
index 496ba95ec1..9d9c88f9ed 100644
--- a/java/javax/servlet/jsp/tagext/SimpleTagSupport.java
+++ b/java/javax/servlet/jsp/tagext/SimpleTagSupport.java
@@ -149,8 +149,8 @@ public class SimpleTagSupport implements SimpleTag {
      *
      * <p> For every instance of TagAdapter
      * encountered while traversing the ancestors, the tag handler returned by
-     * <tt>TagAdapter.getAdaptee()</tt> - instead of the TagAdapter itself -
-     * is compared to <tt>klass</tt>. If the tag handler matches, it - and
+     * <code>TagAdapter.getAdaptee()</code> - instead of the TagAdapter itself -
+     * is compared to <code>klass</code>. If the tag handler matches, it - and
      * not its TagAdapter - is returned.
      *
      * <p>

==================================================
VariableInfo.java
index 027e7c2233..1fff9f2cd8 100644
--- a/java/javax/servlet/jsp/tagext/TagExtraInfo.java
+++ b/java/javax/servlet/jsp/tagext/TagExtraInfo.java
@@ -46,7 +46,7 @@ package javax.servlet.jsp.tagext;
  * getVariableInfo().
  *
  * <p>
- * <tt>NOTE:</tt> It is a (translation time) error for a tag definition
+ * <b>NOTE:</b> It is a (translation time) error for a tag definition
  * in a TLD with one or more variable subelements to have an associated
  * TagExtraInfo implementation that returns a VariableInfo array with
  * one or more elements from a call to getVariableInfo().

==================================================
Executor.java
index b7972f56cd..2d0cdcdf17 100644
--- a/java/javax/servlet/jsp/tagext/VariableInfo.java
+++ b/java/javax/servlet/jsp/tagext/VariableInfo.java
@@ -81,78 +81,78 @@ package javax.servlet.jsp.tagext;
  * thus where synchronization is needed as illustrated by the table below.
  * <b>Note:</b> the synchronization of the variable(s) will occur <em>after</em>
  * the respective method has been called. <blockquote>
- * <table cellpadding="2" cellspacing="2" border="0" width="55%"
- *        style="background-color:#999999" summary="Variable Synchronization Points">
+ * <table style="background-color:#999999">
+ * <caption>Variable Synchronization Points</caption>
  * <tbody>
- * <tr align="center">
+ * <tr>
  * <td valign="top" colspan="6" style="background-color:#999999">
  *   <u><b>Variable Synchronization Points</b></u><br>
  * </td>
  * </tr>
  * <tr>
  * <th valign="top" style="background-color:#c0c0c0">&nbsp;</th>
- * <th valign="top" style="background-color:#c0c0c0" align="center">doStartTag()</th>
- * <th valign="top" style="background-color:#c0c0c0" align="center">doInitBody()</th>
- * <th valign="top" style="background-color:#c0c0c0" align="center">doAfterBody()</th>
- * <th valign="top" style="background-color:#c0c0c0" align="center">doEndTag()</th>
- * <th valign="top" style="background-color:#c0c0c0" align="center">doTag()</th>
+ * <th valign="top" style="background-color:#c0c0c0">doStartTag()</th>
+ * <th valign="top" style="background-color:#c0c0c0">doInitBody()</th>
+ * <th valign="top" style="background-color:#c0c0c0">doAfterBody()</th>
+ * <th valign="top" style="background-color:#c0c0c0">doEndTag()</th>
+ * <th valign="top" style="background-color:#c0c0c0">doTag()</th>
  * </tr>
  * <tr>
  * <td valign="top" style="background-color:#c0c0c0"><b>Tag<br>
  * </b></td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
  * </tr>
  * <tr>
  * <td valign="top" style="background-color:#c0c0c0"><b>IterationTag<br>
  * </b></td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
  * </tr>
  * <tr>
  * <td valign="top" style="background-color:#c0c0c0"><b>BodyTag<br>
  * </b></td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN,
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN,
  * NESTED<sup>1</sup><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN,
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN,
  * NESTED<sup>1</sup><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, NESTED<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
  * </tr>
  * <tr>
  * <td valign="top" style="background-color:#c0c0c0"><b>SimpleTag<br>
  * </b></td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff"><br>
+ * <td valign="top" style="background-color:#ffffff"><br>
  * </td>
- * <td valign="top" align="center" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
+ * <td valign="top" style="background-color:#ffffff">AT_BEGIN, AT_END<br>
  * </td>
  * </tr>
  * </tbody>

==================================================
ContainerBase.java
index 16b3bbb74d..ba2ef49d34 100644
--- a/java/org/apache/catalina/Executor.java
+++ b/java/org/apache/catalina/Executor.java
@@ -25,7 +25,7 @@ public interface Executor extends java.util.concurrent.Executor, Lifecycle {
     /**
      * Executes the given command at some time in the future.  The command
      * may execute in a new thread, in a pooled thread, or in the calling
-     * thread, at the discretion of the <tt>Executor</tt> implementation.
+     * thread, at the discretion of the <code>Executor</code> implementation.
      * If no threads are available, it will be added to the work queue.
      * If the work queue is full, the system will wait for the specified
      * time until it throws a RejectedExecutionException

==================================================
ExpiresFilter.java
index ad99bf3fad..a0a799b4ca 100644
--- a/java/org/apache/catalina/core/ContainerBase.java
+++ b/java/org/apache/catalina/core/ContainerBase.java
@@ -91,33 +91,33 @@ import org.apache.tomcat.util.threads.InlineExecutorService;
  *     <th>Description</th>
  *   </tr>
  *   <tr>
- *     <td align=center><code>addChild</code></td>
- *     <td align=center><code>Container</code></td>
+ *     <td><code>addChild</code></td>
+ *     <td><code>Container</code></td>
  *     <td>Child container added to this Container.</td>
  *   </tr>
  *   <tr>
- *     <td align=center><code>{@link #getPipeline() pipeline}.addValve</code></td>
- *     <td align=center><code>Valve</code></td>
+ *     <td><code>{@link #getPipeline() pipeline}.addValve</code></td>
+ *     <td><code>Valve</code></td>
  *     <td>Valve added to this Container.</td>
  *   </tr>
  *   <tr>
- *     <td align=center><code>removeChild</code></td>
- *     <td align=center><code>Container</code></td>
+ *     <td><code>removeChild</code></td>
+ *     <td><code>Container</code></td>
  *     <td>Child container removed from this Container.</td>
  *   </tr>
  *   <tr>
- *     <td align=center><code>{@link #getPipeline() pipeline}.removeValve</code></td>
- *     <td align=center><code>Valve</code></td>
+ *     <td><code>{@link #getPipeline() pipeline}.removeValve</code></td>
+ *     <td><code>Valve</code></td>
  *     <td>Valve removed from this Container.</td>
  *   </tr>
  *   <tr>
- *     <td align=center><code>start</code></td>
- *     <td align=center><code>null</code></td>
+ *     <td><code>start</code></td>
+ *     <td><code>null</code></td>
  *     <td>Container was started.</td>
  *   </tr>
  *   <tr>
- *     <td align=center><code>stop</code></td>
- *     <td align=center><code>null</code></td>
+ *     <td><code>stop</code></td>
+ *     <td><code>null</code></td>
  *     <td>Container was stopped.</td>
  *   </tr>
  * </table>

==================================================
JspUtil.java
index 56529efc00..9ea57e7cd3 100644
--- a/java/org/apache/catalina/tribes/package.html
+++ b/java/org/apache/catalina/tribes/package.html
@@ -18,7 +18,7 @@
 <title>Apache Tribes - The Tomcat Cluster Communication Module</title>
 </head>
 <body>
-<h3>QuickStart</h3>
+<h2>QuickStart</h2>
     <pre><code>
             //create a channel
             Channel myChannel = new GroupChannel();
@@ -45,7 +45,7 @@
             channel.send(group,myMsg,Channel.SEND_OPTIONS_DEFAULT);
 
     </code></pre>
-<h3>Interfaces for the Application Developer</h3>
+<h2>Interfaces for the Application Developer</h2>
     <ol>
         <li><code>org.apache.catalina.tribes.Channel</code>
             Main component to interact with to send messages

==================================================
PageDataImpl.java
index a82fdc6ef6..e1b881bbc7 100644
--- a/java/org/apache/jasper/compiler/JspUtil.java
+++ b/java/org/apache/jasper/compiler/JspUtil.java
@@ -249,14 +249,15 @@ public class JspUtil {
     }
 
     /**
-     * Returns the <tt>Class</tt> object associated with the class or
+     * Returns the <code>Class</code> object associated with the class or
      * interface with the given string name.
      *
      * <p>
-     * The <tt>Class</tt> object is determined by passing the given string
-     * name to the <tt>Class.forName()</tt> method, unless the given string
+     * The <code>Class</code> object is determined by passing the given string
+     * name to the <code>Class.forName()</code> method, unless the given string
      * name represents a primitive type, in which case it is converted to a
-     * <tt>Class</tt> object by appending ".class" to it (e.g., "int.class").
+     * <code>Class</code> object by appending ".class" to it (e.g.,
+     * "int.class").
      * @param type The class name, array or primitive type
      * @param loader The class loader
      * @return the loaded class

==================================================
SmapStratum.java
index beaa191095..592da5e5d8 100644
--- a/java/org/apache/jasper/compiler/PageDataImpl.java
+++ b/java/org/apache/jasper/compiler/PageDataImpl.java
@@ -29,7 +29,7 @@ import org.xml.sax.Attributes;
 import org.xml.sax.helpers.AttributesImpl;
 
 /**
- * An implementation of <tt>javax.servlet.jsp.tagext.PageData</tt> which
+ * An implementation of <code>javax.servlet.jsp.tagext.PageData</code> which
  * builds the XML view of a given page.
  *
  * The XML view is built in two passes:

==================================================
BodyContentImpl.java
index d1063429b7..334a077148 100644
--- a/java/org/apache/jasper/compiler/SmapStratum.java
+++ b/java/org/apache/jasper/compiler/SmapStratum.java
@@ -62,7 +62,7 @@ public class SmapStratum {
          * Sets lineFileID.  Should be called only when different from
          * that of prior LineInfo object (in any given context) or 0
          * if the current LineInfo has no (logical) predecessor.
-         * <tt>LineInfo</tt> will print this file number no matter what.
+         * <code>LineInfo</code> will print this file number no matter what.
          *
          * @param lineFileID The new line file ID
          */
@@ -222,19 +222,19 @@ public class SmapStratum {
      * later.)
      *
      * @param inputStartLine starting line in the source file
-     *        (SMAP <tt>InputStartLine</tt>)
+     *        (SMAP <code>InputStartLine</code>)
      * @param inputFileName the filepath (or name) from which the input comes
-     *        (yields SMAP <tt>LineFileID</tt>)  Use unqualified names
+     *        (yields SMAP <code>LineFileID</code>)  Use unqualified names
      *        carefully, and only when they uniquely identify a file.
      * @param inputLineCount the number of lines in the input to map
-     *        (SMAP <tt>LineFileCount</tt>)
+     *        (SMAP <code>LineFileCount</code>)
      * @param outputStartLine starting line in the output file
-     *        (SMAP <tt>OutputStartLine</tt>)
+     *        (SMAP <code>OutputStartLine</code>)
      * @param outputLineIncrement number of output lines to map to each
-     *        input line (SMAP <tt>OutputLineIncrement</tt>).  <i>Given the
+     *        input line (SMAP <code>OutputLineIncrement</code>).  <i>Given the
      *        fact that the name starts with "output", I continuously have
      *        the subconscious urge to call this field
-     *        <tt>OutputLineExcrement</tt>.</i>
+     *        <code>OutputLineExcrement</code>.</i>
      */
     public void addLineData(
         int inputStartLine,

==================================================
JspWriterImpl.java
index c3c381d64d..0f3c11a2e8 100644
--- a/java/org/apache/jasper/runtime/BodyContentImpl.java
+++ b/java/org/apache/jasper/runtime/BodyContentImpl.java
@@ -208,8 +208,8 @@ public class BodyContentImpl extends BodyContent {
 
     /**
      * Write a line separator.  The line separator string is defined by the
-     * system property <tt>line.separator</tt>, and is not necessarily a single
-     * newline ('\n') character.
+     * system property <code>line.separator</code>, and is not necessarily a
+     * single newline ('\n') character.
      *
      * @throws IOException Error writing to wrapped writer
      */

==================================================
Util.java
index 170fce0518..d4cca739a3 100644
--- a/java/org/apache/jasper/runtime/JspWriterImpl.java
+++ b/java/org/apache/jasper/runtime/JspWriterImpl.java
@@ -319,8 +319,8 @@ public class JspWriterImpl extends JspWriter {
 
     /**
      * Write a line separator.  The line separator string is defined by the
-     * system property <tt>line.separator</tt>, and is not necessarily a single
-     * newline ('\n') character.
+     * system property <code>line.separator</code>, and is not necessarily a
+     * single newline ('\n') character.
      *
      * @exception  IOException  If an I/O error occurs
      */

==================================================
FileHandler.java
index b23b7c04d5..7b75d16e0b 100644
--- a/java/org/apache/jasper/tagplugins/jstl/Util.java
+++ b/java/org/apache/jasper/tagplugins/jstl/Util.java
@@ -91,11 +91,11 @@ public class Util {
     }
 
     /**
-     * Returns <tt>true</tt> if our current URL is absolute,
-     * <tt>false</tt> otherwise.
+     * Returns <code>true</code> if our current URL is absolute,
+     * <code>false</code> otherwise.
      * taken from org.apache.taglibs.standard.tag.common.core.ImportSupport
      * @param url The URL
-     * @return <tt>true</tt> if the URL is absolute
+     * @return <code>true</code> if the URL is absolute
      */
     public static boolean isAbsoluteUrl(String url){
         if(url == null){
@@ -150,7 +150,7 @@ public class Util {
     }
 
     /**
-     * Strips a servlet session ID from <tt>url</tt>.  The session ID
+     * Strips a servlet session ID from <code>url</code>.  The session ID
      * is encoded as a URL "path parameter" beginning with "jsessionid=".
      * We thus remove anything we find between ";jsessionid=" (inclusive)
      * and either EOS or a subsequent ';' (exclusive).

==================================================
DriverAdapterCPDS.java
index f92156bd94..99ab8160d9 100644
--- a/java/org/apache/juli/logging/package.html
+++ b/java/org/apache/juli/logging/package.html
@@ -16,7 +16,7 @@
 -->
 <body>
 
-<h3>Overview</h3>
+<h2>Overview</h2>
 
 
 <p>This implementation of commons-logging uses a  commons-logging.jar

==================================================
Nio2Channel.java
index d94cfb4d47..a64f08a248 100644
--- a/java/org/apache/tomcat/util/modeler/package.html
+++ b/java/org/apache/tomcat/util/modeler/package.html
@@ -52,7 +52,7 @@ source distribution), and much more complex usage code in Tomcat 4.1 (in the
 be found in Tomcat 5.
 
 
-<h3>1.  Acquire a JMX Implementation</h3>
+<h2>1.  Acquire a JMX Implementation</h2>
 
 <p><em>Modeler</em> has been tested with different JMX implementations:
 <ul>
@@ -71,7 +71,7 @@ compilation classpath, and in the classpath of your server application when it
 is executed.</p>
 
 
-<h3>2.  Create a Modeler Configuration File</h3>
+<h2>2.  Create a Modeler Configuration File</h2>
 
 <p><em>Modeler</em> requires that you construct a configuration file that
 describes the metadata ultimately need to construct the
@@ -194,7 +194,7 @@ object (by name) before calling the <code>addRole</code> method on the
 underlying <code>Group</code> instance within the Server.</p>
 
 
-<h3>3.  Create Modeler Registry at Startup Time</h3>
+<h2>3.  Create Modeler Registry at Startup Time</h2>
 
 <p>The metadata information, and the corresponding Model MBean factory, is
 represented at runtime in an instance of <a href="Registry.html">Registry</a>
@@ -224,7 +224,7 @@ ant, to determine a reasonable metadata</p>
 descriptors</p>
 
 
-<h3>4.  Instantiate Model MBeans As Needed</h3>
+<h2>4.  Instantiate Model MBeans As Needed</h2>
 
 <p>When your server application needs to instantiate a new MBean and register
 it with the corresponding <code>MBeanServer</code>, it can execute code like

==================================================
NioChannel.java
index f6b9f0c02c..ff8c302d7c 100644
--- a/java/org/apache/tomcat/util/net/Nio2Channel.java
+++ b/java/org/apache/tomcat/util/net/Nio2Channel.java
@@ -99,7 +99,7 @@ public class Nio2Channel implements AsynchronousByteChannel {
     /**
      * Tells whether or not this channel is open.
      *
-     * @return <tt>true</tt> if, and only if, this channel is open
+     * @return <code>true</code> if, and only if, this channel is open
      */
     @Override
     public boolean isOpen() {

==================================================
SecureNio2Channel.java
index 1de1e803e6..e400cb0a53 100644
--- a/java/org/apache/tomcat/util/net/NioChannel.java
+++ b/java/org/apache/tomcat/util/net/NioChannel.java
@@ -120,7 +120,7 @@ public class NioChannel implements ByteChannel, ScatteringByteChannel, Gathering
     /**
      * Tells whether or not this channel is open.
      *
-     * @return <tt>true</tt> if, and only if, this channel is open
+     * @return <code>true</code> if, and only if, this channel is open
      */
     @Override
     public boolean isOpen() {
@@ -156,8 +156,8 @@ public class NioChannel implements ByteChannel, ScatteringByteChannel, Gathering
      * Reads a sequence of bytes from this channel into the given buffer.
      *
      * @param dst The buffer into which bytes are to be transferred
-     * @return The number of bytes read, possibly zero, or <tt>-1</tt> if the
-     *         channel has reached end-of-stream
+     * @return The number of bytes read, possibly zero, or <code>-1</code> if
+     *         the channel has reached end-of-stream
      * @throws IOException If some other I/O error occurs
      */
     @Override

==================================================
SecureNioChannel.java
index a45c9a5d43..d446254baf 100644
--- a/java/org/apache/tomcat/util/net/SecureNio2Channel.java
+++ b/java/org/apache/tomcat/util/net/SecureNio2Channel.java
@@ -781,7 +781,7 @@ public class SecureNio2Channel extends Nio2Channel  {
      * Reads a sequence of bytes from this channel into the given buffer.
      *
      * @param dst The buffer into which bytes are to be transferred
-     * @return The number of bytes read, possibly zero, or <tt>-1</tt> if the channel has reached end-of-stream
+     * @return The number of bytes read, possibly zero, or <code>-1</code> if the channel has reached end-of-stream
      * @throws IllegalStateException if the handshake was not completed
      */
     @Override

==================================================
ThreadPoolExecutor.java
index 6f32cf3737..1c3f6b4155 100644
--- a/java/org/apache/tomcat/util/net/SecureNioChannel.java
+++ b/java/org/apache/tomcat/util/net/SecureNioChannel.java
@@ -582,8 +582,8 @@ public class SecureNioChannel extends NioChannel {
      * Reads a sequence of bytes from this channel into the given buffer.
      *
      * @param dst The buffer into which bytes are to be transferred
-     * @return The number of bytes read, possibly zero, or <tt>-1</tt> if the
-     *         channel has reached end-of-stream
+     * @return The number of bytes read, possibly zero, or <code>-1</code> if
+     *         the channel has reached end-of-stream
      * @throws IOException If some other I/O error occurs
      * @throws IllegalArgumentException if the destination buffer is different
      *                                  than getBufHandler().getReadBuffer()

==================================================
