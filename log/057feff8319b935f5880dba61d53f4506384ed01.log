057feff8319b935f5880dba61d53f4506384ed01
==================================================
Revert r1682087: likely unneeded.
==================================================
Remy Maucherat
==================================================
Wed May 27 19:25:15 2015 +0000
==================================================
Http11InputBuffer.java
Revert r1682087: likely unneeded.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1682102 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Nio2Endpoint.java
index 3114841964..e1ca80aff5 100644
--- a/java/org/apache/coyote/http11/Http11InputBuffer.java
+++ b/java/org/apache/coyote/http11/Http11InputBuffer.java
@@ -398,9 +398,6 @@ public class Http11InputBuffer implements InputBuffer {
                         // Haven't read any request data yet so use the keep-alive
                         // timeout.
                         wrapper.setReadTimeout(wrapper.getEndpoint().getKeepAliveTimeout());
-                        if (!wrapper.isNonBlocking()) {
-                            return false;
-                        }
                     }
                     if (!fill(false)) {
                         // A read is pending, so no longer in initial state

==================================================
SocketWrapperBase.java
index 8979e7ce25..8a46ff878a 100644
--- a/java/org/apache/tomcat/util/net/Nio2Endpoint.java
+++ b/java/org/apache/tomcat/util/net/Nio2Endpoint.java
@@ -1316,11 +1316,6 @@ public class Nio2Endpoint extends AbstractJsseEndpoint<Nio2Channel> {
             }
         }
 
-        @Override
-        public boolean isNonBlocking() {
-            return false;
-        }
-
         /*
          * This should only be called from a thread that currently holds a lock
          * on the socket. This prevents a race condition between a pending read

==================================================
