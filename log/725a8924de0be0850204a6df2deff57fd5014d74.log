725a8924de0be0850204a6df2deff57fd5014d74
==================================================
Improve the ChatServlet comet example.
==================================================
Konstantin Kolinko
==================================================
Sat Apr 17 01:59:56 2010 +0000
==================================================
ChatServlet.java
Improve the ChatServlet comet example.
1. Fix possible deadlock in ChatServlet$MessageSender, similar to BZ 48843.
2. Properly wake up ChatServlet$MessageSender when the servlet is destroyed.
3. Filter special characters when printing the message in ChatServlet.
4. Provide an explicit charset everywhere.
5. Fix frames layout. Fix redirections.
Use target="<name>" attribute in HTML to send request to a particular frame.
6. Fix DTDs. Use frameset DTD for the page containing frames.
7. Add "xxx joined the chat" message at startup.
8. Rename chat.jsp -> index.jsp, so that the entry point to this example is more visible.
9. Corrected the link that opens a new chat window. It referenced an undefined JavaScript function. Now it is implemented just by using target="_blank".
10. Added submit button to the form pages.
11. Minor message tweaks.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935105 13f79535-47bb-0310-9956-ffa450edef68



==================================================
