28e1dfbc83b704acbf45b952482037b0823d37bb
==================================================
Fix a handful of warnings
==================================================
Mark Emlyn
==================================================
Sun Jan 9 14:48:08 2011 +0000
==================================================
Authenticator.java
Fix a handful of warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056946 13f79535-47bb-0310-9956-ffa450edef68



==================================================
BeanFactory.java
index c05c16cacb..78df841da5 100644
--- a/java/javax/mail/Authenticator.java
+++ b/java/javax/mail/Authenticator.java
@@ -17,5 +17,7 @@
 package javax.mail;
 
 public class Authenticator {
-    // Dummy implementation
+    protected PasswordAuthentication getPasswordAuthentication() {
+        return null;
+    }
 }

==================================================
Constants.java
index 30ce79afc2..b5bc69b455 100644
--- a/java/org/apache/naming/factory/BeanFactory.java
+++ b/java/org/apache/naming/factory/BeanFactory.java
@@ -107,6 +107,7 @@ public class BeanFactory
      * 
      * @param obj The reference object describing the Bean
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws NamingException {
@@ -169,7 +170,8 @@ public class BeanFactory
                                 valueArray[0] = value;
                             } else if (propType.equals(Character.class) 
                                        || propType.equals(char.class)) {
-                                valueArray[0] = new Character(value.charAt(0));
+                                valueArray[0] =
+                                    Character.valueOf(value.charAt(0));
                             } else if (propType.equals(Byte.class) 
                                        || propType.equals(byte.class)) {
                                 valueArray[0] = new Byte(value);

==================================================
EjbFactory.java
index 22ef7aa4a4..a9fcf86345 100644
--- a/java/org/apache/naming/factory/Constants.java
+++ b/java/org/apache/naming/factory/Constants.java
@@ -54,8 +54,6 @@ public final class Constants {
     public static final String OPENEJB_EJB_FACTORY = 
         Package + ".OpenEjbFactory";
 
-    public static final String OBJECT_FACTORIES = "";
-
     public static final String FACTORY = "factory";
 
 }

==================================================
MailSessionFactory.java
index aec9497ca9..5d37cd44b2 100644
--- a/java/org/apache/naming/factory/EjbFactory.java
+++ b/java/org/apache/naming/factory/EjbFactory.java
@@ -61,6 +61,7 @@ public class EjbFactory
      * 
      * @param obj The reference object describing the DataSource
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws Exception {

==================================================
OpenEjbFactory.java
index 8df4240ebb..2b0ce55abf 100644
--- a/java/org/apache/naming/factory/MailSessionFactory.java
+++ b/java/org/apache/naming/factory/MailSessionFactory.java
@@ -89,6 +89,7 @@ public class MailSessionFactory implements ObjectFactory {
      *
      * @exception Exception if an error occurs during object creation
      */
+    @Override
     public Object getObjectInstance(Object refObj, Name name, Context context,
             Hashtable<?,?> env) throws Exception {
 
@@ -103,6 +104,7 @@ public class MailSessionFactory implements ObjectFactory {
         //
         // Bugzilla 31288, 33077: add support for authentication.
         return AccessController.doPrivileged(new PrivilegedAction<Session>() {
+                @Override
                 public Session run() {
 
                     // Create the JavaMail properties we will use
@@ -137,6 +139,7 @@ public class MailSessionFactory implements ObjectFactory {
                         if(user != null) {
                             final PasswordAuthentication pa = new PasswordAuthentication(user, password);
                             auth = new Authenticator() {
+                                    @Override
                                     protected PasswordAuthentication getPasswordAuthentication() {
                                         return pa;
                                     }

==================================================
ResourceEnvFactory.java
index dc02894a5a..5038d76712 100644
--- a/java/org/apache/naming/factory/OpenEjbFactory.java
+++ b/java/org/apache/naming/factory/OpenEjbFactory.java
@@ -55,6 +55,7 @@ public class OpenEjbFactory implements ObjectFactory {
      * 
      * @param obj The reference object describing the DataSource
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws Exception {

==================================================
ResourceFactory.java
index 036c2ba1ce..406712053f 100644
--- a/java/org/apache/naming/factory/ResourceEnvFactory.java
+++ b/java/org/apache/naming/factory/ResourceEnvFactory.java
@@ -60,6 +60,7 @@ public class ResourceEnvFactory
      * 
      * @param obj The reference object describing the DataSource
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws Exception {

==================================================
ResourceLinkFactory.java
index 17791757e4..ce14b1c908 100644
--- a/java/org/apache/naming/factory/ResourceFactory.java
+++ b/java/org/apache/naming/factory/ResourceFactory.java
@@ -60,6 +60,7 @@ public class ResourceFactory
      * 
      * @param obj The reference object describing the DataSource
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws Exception {

==================================================
SendMailFactory.java
index 4e088998e6..76e39757b5 100644
--- a/java/org/apache/naming/factory/ResourceLinkFactory.java
+++ b/java/org/apache/naming/factory/ResourceLinkFactory.java
@@ -74,6 +74,7 @@ public class ResourceLinkFactory
      * 
      * @param obj The reference object describing the DataSource
      */
+    @Override
     public Object getObjectInstance(Object obj, Name name, Context nameCtx,
                                     Hashtable<?,?> environment)
         throws NamingException {

==================================================
TransactionFactory.java
index 43554cb7c6..63653bfcc5 100644
--- a/java/org/apache/naming/factory/SendMailFactory.java
+++ b/java/org/apache/naming/factory/SendMailFactory.java
@@ -26,7 +26,6 @@ import java.util.Properties;
 import javax.mail.Session;
 import javax.mail.internet.InternetAddress;
 import javax.mail.internet.MimeMessage;
-import javax.mail.internet.MimePart;
 import javax.mail.internet.MimePartDataSource;
 import javax.naming.Context;
 import javax.naming.Name;
@@ -80,6 +79,7 @@ public class SendMailFactory implements ObjectFactory
     protected final String DataSourceClassName = 
         "javax.mail.internet.MimePartDataSource";
 
+    @Override
     public Object getObjectInstance(Object RefObj, Name Nm, Context Ctx,
             Hashtable<?,?> Env) throws Exception {
         final Reference Ref = (Reference)RefObj;
@@ -91,6 +91,7 @@ public class SendMailFactory implements ObjectFactory
             return AccessController.doPrivileged(
                     new PrivilegedAction<MimePartDataSource>()
             {
+                @Override
                 public MimePartDataSource run() {
                     // set up the smtp session that will send the message
                     Properties props = new Properties();
@@ -114,8 +115,7 @@ public class SendMailFactory implements ObjectFactory
                         message.setFrom(new InternetAddress(from));
                         message.setSubject("");
                     } catch (Exception e) {}
-                    MimePartDataSource mds = new MimePartDataSource(
-                        (MimePart)message);
+                    MimePartDataSource mds = new MimePartDataSource(message);
                     return mds;
                 }
             } );

==================================================
