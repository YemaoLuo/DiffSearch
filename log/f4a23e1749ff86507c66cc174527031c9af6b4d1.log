f4a23e1749ff86507c66cc174527031c9af6b4d1
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=53620 log files
==================================================
Mark Thomas
==================================================
Thu Jan 16 19:50:56 2020 +0000
==================================================
AsyncFileHandler.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=53620 log files

Delay creating logging files until there is a log entry to write.
Based on a patch by Karol Bucek.


==================================================
FileHandler.java
index f779d18454..8176392cc8 100644
--- a/java/org/apache/juli/AsyncFileHandler.java
+++ b/java/org/apache/juli/AsyncFileHandler.java
@@ -80,7 +80,6 @@ public class AsyncFileHandler extends FileHandler {
 
     public AsyncFileHandler(String directory, String prefix, String suffix, Integer maxDays) {
         super(directory, prefix, suffix, maxDays);
-        open();
     }
 
     @Override
@@ -93,7 +92,7 @@ public class AsyncFileHandler extends FileHandler {
     }
 
     @Override
-    protected void open() {
+    public void open() {
         if (!closed) {
             return;
         }

==================================================
