4da1e380d6955af28d4f46121dea1e620ae70c1f
==================================================
Remove a few lines of redundant code
==================================================
Mark Emlyn
==================================================
Tue May 26 16:08:26 2009 +0000
==================================================
FileDirContext.java
Remove a few lines of redundant code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778784 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ResourceAttributes.java
index f42c367e29..ca03de22db 100644
--- a/java/org/apache/naming/resources/FileDirContext.java
+++ b/java/org/apache/naming/resources/FileDirContext.java
@@ -819,12 +819,11 @@ public class FileDirContext extends BaseDirContext {
                 if (fileAbsPath.endsWith("."))
                     fileAbsPath = fileAbsPath + "/";
                 String absPath = normalize(fileAbsPath);
-                if (canPath != null)
-                    canPath = normalize(canPath);
+                canPath = normalize(canPath);
                 if ((absoluteBase.length() < absPath.length())
                     && (absoluteBase.length() < canPath.length())) {
                     absPath = absPath.substring(absoluteBase.length() + 1);
-                    if ((canPath == null) || (absPath == null))
+                    if (absPath == null)
                         return null;
                     if (absPath.equals(""))
                         absPath = "/";

==================================================
