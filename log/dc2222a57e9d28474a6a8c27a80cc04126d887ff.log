dc2222a57e9d28474a6a8c27a80cc04126d887ff
==================================================
60482: HTTP/2 shouldn't URL decode the query string.
==================================================
Remy Maucherat
==================================================
Thu Dec 15 12:15:56 2016 +0000
==================================================
Stream.java
60482: HTTP/2 shouldn't URL decode the query string.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1774426 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestStream.java
index 5cfc8aff09..ef9f83295e 100644
--- a/java/org/apache/coyote/http2/Stream.java
+++ b/java/org/apache/coyote/http2/Stream.java
@@ -261,7 +261,7 @@ class Stream extends AbstractStream implements HeaderEmitter {
                 String query = value.substring(queryStart + 1);
                 coyoteRequest.requestURI().setString(uri);
                 coyoteRequest.decodedURI().setString(coyoteRequest.getURLDecoder().convert(uri, false));
-                coyoteRequest.queryString().setString(coyoteRequest.getURLDecoder().convert(query, true));
+                coyoteRequest.queryString().setString(query);
             }
             break;
         }

==================================================
