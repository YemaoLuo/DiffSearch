5daacce2722bb8f895221d58dfc5cd7ca3b8f91e
==================================================
Fix typos (#208)
==================================================
康智冬 worldkzd@gmail.com
==================================================
Mon Oct 7 17:32:44 2019 +0800
==================================================
ServletContextListener.java
Fix typos (#208)

Clean-up. Fix typos, remove obsolete comment about ServerFactory


==================================================
WebServlet.java
index 2300aa7148..7f926b4d0a 100644
--- a/java/javax/servlet/ServletContextListener.java
+++ b/java/javax/servlet/ServletContextListener.java
@@ -42,7 +42,7 @@ public interface ServletContextListener extends EventListener {
 
     /**
      ** Notification that the servlet context is about to be shut down. All
-     * servlets and filters have been destroy()ed before any
+     * servlets and filters have been destroyed before any
      * ServletContextListeners are notified of context destruction.
      * The default implementation is a NO-OP.
      * @param sce Information about the ServletContext that was destroyed

==================================================
HttpServlet.java
index 8e518b7491..29d0b322be 100644
--- a/java/javax/servlet/annotation/WebServlet.java
+++ b/java/javax/servlet/annotation/WebServlet.java
@@ -23,7 +23,7 @@ import java.lang.annotation.RetentionPolicy;
 import java.lang.annotation.Target;
 
 /**
- * This annotation is used to declare the configuration of an
+ * This annotation is used to declare the configuration of a
  * {@link javax.servlet.Servlet}. <br>
  *
  * If the name attribute is not defined, the fully qualified name of the class

==================================================
HttpSessionBindingEvent.java
index f28eac3d6e..aedbee609c 100644
--- a/java/javax/servlet/http/HttpServlet.java
+++ b/java/javax/servlet/http/HttpServlet.java
@@ -447,7 +447,7 @@ public abstract class HttpServlet extends GenericServlet {
 
     /**
      * Called by the server (via the <code>service</code> method)
-     * to allow a servlet to handle a OPTIONS request.
+     * to allow a servlet to handle an OPTIONS request.
      *
      * The OPTIONS request determines which HTTP methods
      * the server supports and

==================================================
WebConnection.java
index 91e5167b45..70138c7afe 100644
--- a/java/javax/servlet/http/HttpSessionBindingEvent.java
+++ b/java/javax/servlet/http/HttpSessionBindingEvent.java
@@ -20,7 +20,7 @@ package javax.servlet.http;
 /**
  * Events of this type are either sent to an object that implements
  * {@link HttpSessionBindingListener} when it is bound or unbound from a
- * session, or to a {@link HttpSessionAttributeListener} that has been
+ * session, or to an {@link HttpSessionAttributeListener} that has been
  * configured in the deployment descriptor when any attribute is bound, unbound
  * or replaced in a session.
  * <p>

==================================================
Server.java
index e619e8c02b..a68a2983f5 100644
--- a/java/javax/servlet/http/WebConnection.java
+++ b/java/javax/servlet/http/WebConnection.java
@@ -22,7 +22,7 @@ import javax.servlet.ServletInputStream;
 import javax.servlet.ServletOutputStream;
 
 /**
- * The interface used by a {@link HttpUpgradeHandler} to interact with an upgraded
+ * The interface used by an {@link HttpUpgradeHandler} to interact with an upgraded
  * HTTP connection.
  *
  * @since Servlet 3.1

==================================================
ClusterSessionListener.java
index 934f4da83d..0f0861cf4f 100644
--- a/java/org/apache/catalina/Server.java
+++ b/java/org/apache/catalina/Server.java
@@ -40,10 +40,6 @@ import org.apache.catalina.startup.Catalina;
  * specified by the <code>port</code> property.  When a connection is accepted,
  * the first line is read and compared with the specified shutdown command.
  * If the command matches, shutdown of the server is initiated.
- * <p>
- * <strong>NOTE</strong> - The concrete implementation of this class should
- * register the (singleton) instance with the <code>ServerFactory</code>
- * class in its constructor(s).
  *
  * @author Craig R. McClanahan
  */

==================================================
HTMLManagerServlet.java
index 8836854a71..68aa8069f0 100644
--- a/java/org/apache/catalina/ha/session/ClusterSessionListener.java
+++ b/java/org/apache/catalina/ha/session/ClusterSessionListener.java
@@ -56,7 +56,7 @@ public class ClusterSessionListener extends ClusterListener {
         if (myobj instanceof SessionMessage) {
             SessionMessage msg = (SessionMessage) myobj;
             String ctxname = msg.getContextName();
-            //check if the message is a EVT_GET_ALL_SESSIONS,
+            //check if the message is an EVT_GET_ALL_SESSIONS,
             //if so, wait until we are fully started up
             Map<String,ClusterManager> managers = cluster.getManagers() ;
             if (ctxname == null) {

==================================================
HTMLHostManagerServlet.java
index faab38531f..b757076442 100644
--- a/java/org/apache/catalina/manager/HTMLManagerServlet.java
+++ b/java/org/apache/catalina/manager/HTMLManagerServlet.java
@@ -62,7 +62,7 @@ import org.apache.tomcat.util.security.Escape;
 * relaxed during testing.
 * <p>
 * The difference between the <code>ManagerServlet</code> and this
-* Servlet is that this Servlet prints out a HTML interface which
+* Servlet is that this Servlet prints out an HTML interface which
 * makes it easier to administrate.
 * <p>
 * However if you use a software that parses the output of
@@ -328,7 +328,7 @@ public final class HTMLManagerServlet extends ManagerServlet {
     }
 
     /**
-     * Render a HTML list of the currently active Contexts in our virtual host,
+     * Render an HTML list of the currently active Contexts in our virtual host,
      * and memory and server status information.
      *
      * @param request The request

==================================================
ResponseIncludeWrapper.java
index bba31597b3..b9fbc20967 100644
--- a/java/org/apache/catalina/manager/host/HTMLHostManagerServlet.java
+++ b/java/org/apache/catalina/manager/host/HTMLHostManagerServlet.java
@@ -43,7 +43,7 @@ import org.apache.tomcat.util.security.Escape;
 * this requirement can be relaxed during testing.
 * <p>
 * The difference between the <code>HostManagerServlet</code> and this
-* Servlet is that this Servlet prints out a HTML interface which
+* Servlet is that this Servlet prints out an HTML interface which
 * makes it easier to administrate.
 * <p>
 * However if you use a software that parses the output of
@@ -246,7 +246,7 @@ public final class HTMLHostManagerServlet extends HostManagerServlet {
 
 
     /**
-     * Render a HTML list of the currently active Contexts in our virtual host,
+     * Render an HTML list of the currently active Contexts in our virtual host,
      * and memory and server status information.
      *
      * @param request The request

==================================================
StoreFactoryBase.java
index ec0e94fb2d..0991650cd7 100644
--- a/java/org/apache/catalina/startup/mbeans-descriptors.xml
+++ b/java/org/apache/catalina/startup/mbeans-descriptors.xml
@@ -39,7 +39,7 @@
   </mbean>
 
   <mbean name="EngineConfig"
-         description="Startup event listener for a Engine that configures the properties of that Engine, and the associated defined contexts"
+         description="Startup event listener for an Engine that configures the properties of that Engine, and the associated defined contexts"
          domain="Catalina"
          group="Listener"
          type="org.apache.catalina.startup.EngineConfig">

==================================================
ExtendedRpcCallback.java
index ada8528fb2..58e0cd2a5e 100644
--- a/java/org/apache/catalina/storeconfig/StoreFactoryBase.java
+++ b/java/org/apache/catalina/storeconfig/StoreFactoryBase.java
@@ -176,7 +176,7 @@ public class StoreFactoryBase implements IStoreFactory {
     }
 
     /**
-     * Save a array of elements.
+     * Save an array of elements.
      * @param aWriter Current output writer
      * @param indent Indentation level
      * @param elements Array of elements

==================================================
GroupChannel.java
index 6fb282d2a1..015b47953f 100644
--- a/java/org/apache/catalina/tribes/group/ExtendedRpcCallback.java
+++ b/java/org/apache/catalina/tribes/group/ExtendedRpcCallback.java
@@ -20,7 +20,7 @@ import java.io.Serializable;
 
 import org.apache.catalina.tribes.Member;
 /**
- * Extension to the {@link RpcCallback} interface. Allows a RPC messenger to get a confirmation if the reply
+ * Extension to the {@link RpcCallback} interface. Allows an RPC messenger to get a confirmation if the reply
  * was sent successfully to the original sender.
  *
  */

==================================================
XByteBuffer.java
index 1583faab29..64137c1541 100644
--- a/java/org/apache/catalina/tribes/group/GroupChannel.java
+++ b/java/org/apache/catalina/tribes/group/GroupChannel.java
@@ -360,7 +360,7 @@ public class GroupChannel extends ChannelInterceptorBase
 
     /**
      * Sends a <code>NoRpcChannelReply</code> message to a member<br>
-     * This method gets invoked by the channel if a RPC message comes in
+     * This method gets invoked by the channel if an RPC message comes in
      * and no channel listener accepts the message. This avoids timeout
      * @param msg RpcMessage
      * @param destination Member - the destination for the reply

==================================================
ExtensionValidator.java
index 5aff1d7703..604c31b899 100644
--- a/java/org/apache/catalina/tribes/tipis/LocalStrings.properties
+++ b/java/org/apache/catalina/tribes/tipis/LocalStrings.properties
@@ -29,10 +29,10 @@ abstractReplicatedMap.relocate.complete=Relocation of map entries was complete i
 abstractReplicatedMap.transferState.noReplies=Transfer state, 0 replies, probably a timeout.
 abstractReplicatedMap.unable.deserialize.MapMessage=Unable to deserialize MapMessage.
 abstractReplicatedMap.unable.diffObject=Unable to diff object. Will replicate the entire object instead.
-abstractReplicatedMap.unable.get=Unable to replicate out data for a AbstractReplicatedMap.get operation
-abstractReplicatedMap.unable.put=Unable to replicate out data for a AbstractReplicatedMap.put operation
+abstractReplicatedMap.unable.get=Unable to replicate out data for an AbstractReplicatedMap.get operation
+abstractReplicatedMap.unable.put=Unable to replicate out data for an AbstractReplicatedMap.put operation
 abstractReplicatedMap.unable.relocate=Unable to relocate[{0}] to a new backup node
-abstractReplicatedMap.unable.remove=Unable to replicate out data for a AbstractReplicatedMap.remove operation
+abstractReplicatedMap.unable.remove=Unable to replicate out data for an AbstractReplicatedMap.remove operation
 abstractReplicatedMap.unable.replicate=Unable to replicate data.
 abstractReplicatedMap.unable.retrieve=Unable to retrieve remote object for key:[{0}]
 abstractReplicatedMap.unable.transferState=Unable to transfer AbstractReplicatedMap state.

==================================================
RewriteRule.java
index 3ce787f0d5..b495a520d0 100644
--- a/java/org/apache/catalina/util/ExtensionValidator.java
+++ b/java/org/apache/catalina/util/ExtensionValidator.java
@@ -185,7 +185,7 @@ public final class ExtensionValidator {
 
 
     /**
-     * Validates a <code>ArrayList</code> of <code>ManifestResource</code>
+     * Validates an <code>ArrayList</code> of <code>ManifestResource</code>
      * objects. This method requires an application name (which is the
      * context root of the application at runtime).
      *

==================================================
Request.java
index 29f23d907b..0b47cb2b60 100644
--- a/java/org/apache/catalina/valves/rewrite/RewriteRule.java
+++ b/java/org/apache/catalina/valves/rewrite/RewriteRule.java
@@ -299,7 +299,7 @@ public class RewriteRule {
 
     /**
      *  Prefix Substitution with http://thishost[:thisport]/ (which makes the
-     *  new URL a URI) to force a external redirection. If no code is given
+     *  new URL a URI) to force an external redirection. If no code is given
      *  an HTTP response of 302 (FOUND, previously MOVED TEMPORARILY) is used.
      *  If you want to  use other response codes in the range 300-399 just
      *  specify them as a number or use one of the following symbolic names:

==================================================
Jdbc41Bridge.java
index 2752e5cec8..01b30bdff7 100644
--- a/java/org/apache/coyote/Request.java
+++ b/java/org/apache/coyote/Request.java
@@ -576,7 +576,7 @@ public final class Request {
 
     /**
      * Used to store private data. Thread data could be used instead - but
-     * if you have the req, getting/setting a note is just a array access, may
+     * if you have the req, getting/setting a note is just an array access, may
      * be faster than ThreadLocal for very frequent operations.
      *
      *  Example use:

==================================================
MessageBytes.java
index 0cb852a2c9..efd9dc558f 100644
--- a/java/org/apache/tomcat/dbcp/dbcp2/Jdbc41Bridge.java
+++ b/java/org/apache/tomcat/dbcp/dbcp2/Jdbc41Bridge.java
@@ -49,7 +49,7 @@ import javax.sql.CommonDataSource;
 public class Jdbc41Bridge {
 
     /**
-     * Delegates to {@link Connection#abort(Executor)} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Connection#abort(Executor)} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Connection#abort(Executor)}, then call {@link Connection#close()}.
      * </p>
@@ -94,7 +94,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Connection#getNetworkTimeout()} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Connection#getNetworkTimeout()} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Connection#getNetworkTimeout()}, then return 0.
      * </p>
@@ -115,7 +115,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link ResultSet#getObject(int, Class)} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link ResultSet#getObject(int, Class)} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link ResultSet#getObject(int, Class)}, then return 0.
      * </p>
@@ -215,7 +215,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link ResultSet#getObject(String, Class)} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link ResultSet#getObject(String, Class)} without throwing an {@link AbstractMethodError}.
      *
      * @param <T>
      *            See {@link ResultSet#getObject(String, Class)}
@@ -343,7 +343,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Connection#getSchema()} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Connection#getSchema()} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Connection#getSchema()}, then return null.
      * </p>
@@ -365,7 +365,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Connection#setNetworkTimeout(Executor, int)} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Connection#setNetworkTimeout(Executor, int)} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Connection#setNetworkTimeout(Executor, int)}, then do nothing.
      * </p>
@@ -390,7 +390,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Connection#setSchema(String)} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Connection#setSchema(String)} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Connection#setSchema(String)}, then do nothing.
      * </p>
@@ -412,7 +412,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Statement#closeOnCompletion()} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Statement#closeOnCompletion()} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Statement#closeOnCompletion()}, then just check that the connection
      * is closed to then throw an SQLException.
@@ -435,7 +435,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link Statement#isCloseOnCompletion()} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link Statement#isCloseOnCompletion()} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link Statement#isCloseOnCompletion()}, then just check that the
      * connection is closed to then throw an SQLException.
@@ -460,7 +460,7 @@ public class Jdbc41Bridge {
     }
 
     /**
-     * Delegates to {@link CommonDataSource#getParentLogger()} without throwing a {@link AbstractMethodError}.
+     * Delegates to {@link CommonDataSource#getParentLogger()} without throwing an {@link AbstractMethodError}.
      * <p>
      * If the JDBC driver does not implement {@link CommonDataSource#getParentLogger()}, then return null.
      * </p>

==================================================
UEncoder.java
index de4942fe44..64e87d0548 100644
--- a/java/org/apache/tomcat/util/buf/MessageBytes.java
+++ b/java/org/apache/tomcat/util/buf/MessageBytes.java
@@ -499,7 +499,7 @@ public final class MessageBytes implements Cloneable, Serializable {
     private boolean hasLongValue=false;
 
     /**
-     * Set the buffer to the representation of an long.
+     * Set the buffer to the representation of a long.
      * @param l The long
      */
     public void setLong(long l) {
@@ -543,7 +543,7 @@ public final class MessageBytes implements Cloneable, Serializable {
 
     // Used for headers conversion
     /**
-     * Convert the buffer to an long, cache the value.
+     * Convert the buffer to a long, cache the value.
      * @return the long value
      */
     public long getLong() {

==================================================
TestGzipOutputFilter.java
index e387baf8d7..ae024240d9 100644
--- a/java/org/apache/tomcat/util/http/parser/LocalStrings.properties
+++ b/java/org/apache/tomcat/util/http/parser/LocalStrings.properties
@@ -33,7 +33,7 @@ http.invalidCharacterDomain.atEnd=The character [{0}] is not valid at the end of
 http.invalidCharacterDomain.atStart=The character [{0}] is not valid at the start of a domain name.
 http.invalidHextet=Invalid hextet. A hextet must consist of 4 or less hex characters.
 http.invalidIpv4Location=The IPv6 address contains an embedded IPv4 address at an invalid location.
-http.invalidLeadingZero=An non-zero IPv4 octet may not contain a leading zero.
+http.invalidLeadingZero=A non-zero IPv4 octet may not contain a leading zero.
 http.invalidOctet=Invalid octet [{0}]. The valid range for IPv4 octets is 0 to 255.
 http.invalidSegmentEndState=The state [{0}] is not valid for the end of a segment.
 http.noClosingBracket=The IPv6 address is missing a closing bracket.

==================================================
Room.java
index af656ab24b..0b810bf72b 100644
--- a/webapps/docs/rewrite.xml
+++ b/webapps/docs/rewrite.xml
@@ -690,7 +690,7 @@ cannot use <code>$N</code> in the substitution string!
           <strong>r</strong>edirect</span>)<br />
           Prefix <em>Substitution</em> with
           <code>http://thishost[:thisport]/</code> (which makes the
-          new URL a URI) to force a external redirection. If no
+          new URL a URI) to force an external redirection. If no
           <em>code</em> is given, an HTTP response of 302 (FOUND, previously MOVED
           TEMPORARILY) will be returned. If you want to use other response
           codes in the range 300-399, simply specify the appropriate number

==================================================
