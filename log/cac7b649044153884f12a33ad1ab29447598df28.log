cac7b649044153884f12a33ad1ab29447598df28
==================================================
Add missing new line from end of reset log message.
==================================================
Mark Thomas
==================================================
Mon May 23 11:26:46 2016 +0000
==================================================
Http2TestBase.java
Add missing new line from end of reset log message.
Reset isn't always the last frame to be traced and this makes it easier to read.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1745142 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestHttp2Section_5_3.java
index 8bafbd7dd7..9f9ca3667e 100644
--- a/test/org/apache/coyote/http2/Http2TestBase.java
+++ b/test/org/apache/coyote/http2/Http2TestBase.java
@@ -803,7 +803,7 @@ public abstract class Http2TestBase extends TomcatBaseTest {
 
         @Override
         public void reset(int streamId, long errorCode) {
-            trace.append(streamId + "-RST-[" + errorCode + "]");
+            trace.append(streamId + "-RST-[" + errorCode + "]\n");
         }
 
 

==================================================
TestHttp2Section_6_3.java
index 52ae21ecba..848acdb8df 100644
--- a/test/org/apache/coyote/http2/TestHttp2Section_5_3.java
+++ b/test/org/apache/coyote/http2/TestHttp2Section_5_3.java
@@ -44,7 +44,7 @@ public class TestHttp2Section_5_3 extends Http2TestBase {
 
         parser.readFrame(true);
 
-        Assert.assertEquals("3-RST-[1]",  output.getTrace());
+        Assert.assertEquals("3-RST-[1]\n",  output.getTrace());
     }
 
 

==================================================
TestHttp2Section_6_4.java
index 7ceb911920..7b49d14802 100644
--- a/test/org/apache/coyote/http2/TestHttp2Section_6_3.java
+++ b/test/org/apache/coyote/http2/TestHttp2Section_6_3.java
@@ -88,7 +88,7 @@ public class TestHttp2Section_6_3 extends Http2TestBase {
         // Read GOAWAY frame
         parser.readFrame(true);
 
-        Assert.assertEquals("3-RST-[" + Http2Error.FRAME_SIZE_ERROR.getCode() + "]",
+        Assert.assertEquals("3-RST-[" + Http2Error.FRAME_SIZE_ERROR.getCode() + "]\n",
                 output.getTrace());
     }
 }

==================================================
TestHttp2Section_6_9.java
index dbae4d852e..5a0d54864a 100644
--- a/test/org/apache/coyote/http2/TestHttp2Section_6_4.java
+++ b/test/org/apache/coyote/http2/TestHttp2Section_6_4.java
@@ -81,7 +81,7 @@ public class TestHttp2Section_6_4 extends Http2TestBase {
         // Read GOAWAY frame
         parser.readFrame(true);
 
-        Assert.assertEquals("3-RST-[" + Http2Error.FRAME_SIZE_ERROR.getCode() + "]",
+        Assert.assertEquals("3-RST-[" + Http2Error.FRAME_SIZE_ERROR.getCode() + "]\n",
                 output.getTrace());
     }
 }

==================================================
