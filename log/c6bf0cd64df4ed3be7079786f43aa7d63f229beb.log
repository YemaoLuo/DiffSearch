c6bf0cd64df4ed3be7079786f43aa7d63f229beb
==================================================
Code clean-up for o.a.catalina.users
==================================================
Mark Emlyn
==================================================
Tue Aug 7 19:59:00 2012 +0000
==================================================
MemoryGroup.java
Code clean-up for o.a.catalina.users
 - Add final prompted by UCDetector
 - Java 7 use of <>

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1370479 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MemoryRole.java
index 7400c00d39..7624e4cb07 100644
--- a/java/org/apache/catalina/users/MemoryGroup.java
+++ b/java/org/apache/catalina/users/MemoryGroup.java
@@ -67,13 +67,13 @@ public class MemoryGroup extends AbstractGroup {
     /**
      * The {@link MemoryUserDatabase} that owns this group.
      */
-    protected MemoryUserDatabase database = null;
+    protected final MemoryUserDatabase database;
 
 
     /**
      * The set of {@link Role}s associated with this group.
      */
-    protected ArrayList<Role> roles = new ArrayList<Role>();
+    protected final ArrayList<Role> roles = new ArrayList<>();
 
 
     // ------------------------------------------------------------- Properties
@@ -109,7 +109,7 @@ public class MemoryGroup extends AbstractGroup {
     @Override
     public Iterator<User> getUsers() {
 
-        ArrayList<User> results = new ArrayList<User>();
+        ArrayList<User> results = new ArrayList<>();
         Iterator<User> users = database.getUsers();
         while (users.hasNext()) {
             User user = users.next();

==================================================
MemoryUser.java
index fb1e2f7c23..1d838e9755 100644
--- a/java/org/apache/catalina/users/MemoryRole.java
+++ b/java/org/apache/catalina/users/MemoryRole.java
@@ -62,7 +62,7 @@ public class MemoryRole extends AbstractRole {
     /**
      * The {@link MemoryUserDatabase} that owns this role.
      */
-    protected MemoryUserDatabase database = null;
+    protected final MemoryUserDatabase database;
 
 
     // ------------------------------------------------------------- Properties

==================================================
MemoryUserDatabase.java
index 401d87c9c3..a31be8a41c 100644
--- a/java/org/apache/catalina/users/MemoryUser.java
+++ b/java/org/apache/catalina/users/MemoryUser.java
@@ -69,19 +69,19 @@ public class MemoryUser extends AbstractUser {
     /**
      * The {@link MemoryUserDatabase} that owns this user.
      */
-    protected MemoryUserDatabase database = null;
+    protected final MemoryUserDatabase database;
 
 
     /**
      * The set of {@link Group}s that this user is a member of.
      */
-    protected ArrayList<Group> groups = new ArrayList<Group>();
+    protected final ArrayList<Group> groups = new ArrayList<>();
 
 
     /**
      * The set of {@link Role}s associated with this user.
      */
-    protected ArrayList<Role> roles = new ArrayList<Role>();
+    protected final ArrayList<Role> roles = new ArrayList<>();
 
 
     // ------------------------------------------------------------- Properties

==================================================
