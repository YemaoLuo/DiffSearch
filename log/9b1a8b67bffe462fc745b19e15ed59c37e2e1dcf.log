9b1a8b67bffe462fc745b19e15ed59c37e2e1dcf
==================================================
64007: Cancel selection key before wrapper close
==================================================
remm remm@apache.org
==================================================
Tue Dec 17 15:12:39 2019 +0100
==================================================
NioEndpoint.java
64007: Cancel selection key before wrapper close

Due to NIO intricacies, this could cause a deadlock. At least that's
what the traces in the BZ seem to show, when the wrapper close would
sync on a lot of objects and then attempt to cancel a key, which would
lock the poller which routinely does the same sync internally to
manipulate keys. Canceling the key first without sync as it was done in
8.5 should work.


==================================================
