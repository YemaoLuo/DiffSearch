e2d9d6a850630faa62653738a8d2f622df57956b
==================================================
SpotBugs - remove unnecessary code
==================================================
Mark Thomas
==================================================
Fri Oct 16 11:32:04 2020 +0100
==================================================
TestGetConnection.java
SpotBugs - remove unnecessary code


==================================================
TestImportHandlerStandardPackages.java
index 480882e7a4..7a58097dff 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/TestGetConnection.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/TestGetConnection.java
@@ -28,7 +28,6 @@ public class TestGetConnection extends DefaultTestCase {
     @Test
     public void testGetConnection() throws Exception {
         Connection con = this.datasource.getConnection();
-        Assert.assertTrue("Connection should implement javax.sql.PooledConnection",con instanceof PooledConnection);
         Connection actual = ((PooledConnection)con).getConnection();
         Assert.assertNotNull("Connection delegate should not be null.",actual);
         System.out.println("Actual connection:"+actual.getClass().getName());

==================================================
TestResourceBundleELResolver.java
index f7f1341f7c..a8950303f4 100644
--- a/test/jakarta/el/TestImportHandlerStandardPackages.java
+++ b/test/jakarta/el/TestImportHandlerStandardPackages.java
@@ -42,8 +42,6 @@ public class TestImportHandlerStandardPackages {
         f.setAccessible(true);
         Object obj = f.get(null);
 
-        Assert.assertTrue("Not Map", obj instanceof Map);
-
         @SuppressWarnings("unchecked")
         Map<String,Set<String>> standardPackageName = (Map<String, Set<String>>) obj;
 

==================================================
TestWebappClassLoader.java
index 5c0adfa572..27abd6721f 100644
--- a/test/jakarta/el/TestResourceBundleELResolver.java
+++ b/test/jakarta/el/TestResourceBundleELResolver.java
@@ -52,7 +52,6 @@ public class TestResourceBundleELResolver {
 
         // Check that the method expression does return the keys
         Object result2 = me.invoke(context, null);
-        Assert.assertTrue(result2 instanceof Enumeration);
         @SuppressWarnings("unchecked")
         Enumeration<String> e = (Enumeration<String>) result2;
 

==================================================
TestELSupport.java
index 426247d957..d320984ce6 100644
--- a/test/org/apache/catalina/loader/TestWebappClassLoader.java
+++ b/test/org/apache/catalina/loader/TestWebappClassLoader.java
@@ -48,8 +48,6 @@ public class TestWebappClassLoader extends TomcatBaseTest {
 
         ClassLoader cl = ctx.getLoader().getClassLoader();
 
-        Assert.assertTrue(cl instanceof URLClassLoader);
-
         try (URLClassLoader ucl = (URLClassLoader) cl) {
             URL[] urls = ucl.getURLs();
             Assert.assertEquals(expected.length, urls.length);

==================================================
TestCollectionOperations.java
index e3d8bf90d3..84d3ed4115 100644
--- a/test/org/apache/el/lang/TestELSupport.java
+++ b/test/org/apache/el/lang/TestELSupport.java
@@ -215,7 +215,6 @@ public class TestELSupport {
         PropertyEditorManager.registerEditor(TesterType.class, TesterTypeEditorNoError.class);
         Object result = ELManager.getExpressionFactory().coerceToType(
                 "Foo", TesterType.class);
-        Assert.assertTrue(result instanceof TesterType);
         Assert.assertEquals("Foo", ((TesterType) result).getValue());
     }
 
@@ -224,7 +223,6 @@ public class TestELSupport {
         PropertyEditorManager.registerEditor(TesterType.class, TesterTypeEditorError.class);
         Object result = ELManager.getExpressionFactory().coerceToType(
                 "Foo", TesterType.class);
-        Assert.assertTrue(result instanceof TesterType);
         Assert.assertEquals("Foo", ((TesterType) result).getValue());
     }
 

==================================================
TestTagPluginManager.java
index bf800cad2f..1d33a6c5ab 100644
--- a/test/org/apache/el/stream/TestCollectionOperations.java
+++ b/test/org/apache/el/stream/TestCollectionOperations.java
@@ -123,8 +123,6 @@ public class TestCollectionOperations {
                 "beans.stream().filter(b->b.valLong > 1).map(b->[b.name, b.valLong]).toList()",
                 List.class);
 
-        Assert.assertTrue(result instanceof List);
-
         @SuppressWarnings("unchecked")
         List<List<Object>> list = (List<List<Object>>) result;
 

==================================================
TestUDecoder.java
index 1d67e23941..4b2f607873 100644
--- a/test/org/apache/jasper/compiler/TestTagPluginManager.java
+++ b/test/org/apache/jasper/compiler/TestTagPluginManager.java
@@ -56,7 +56,6 @@ public class TestTagPluginManager extends TomcatBaseTest {
 
         Node n = nodes.getNode(0);
         Assert.assertNotNull(n);
-        Assert.assertTrue(n instanceof Node.CustomTag);
 
         Node.CustomTag t = (Node.CustomTag)n;
         Assert.assertNotNull(t.getAtSTag());
@@ -64,7 +63,6 @@ public class TestTagPluginManager extends TomcatBaseTest {
         Node.Nodes sTag = c.getAtSTag();
         Node scriptlet = sTag.getNode(0);
         Assert.assertNotNull(scriptlet);
-        Assert.assertTrue(scriptlet instanceof Node.Scriptlet);
         Node.Scriptlet s = (Node.Scriptlet)scriptlet;
         Assert.assertEquals("//Just a comment", s.getText());
     }

==================================================
