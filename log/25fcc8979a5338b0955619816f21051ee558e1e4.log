25fcc8979a5338b0955619816f21051ee558e1e4
==================================================
Pull up common getExecutor code
==================================================
Mark Emlyn
==================================================
Sat Jun 4 21:00:07 2011 +0000
==================================================
AbstractProcessor.java
Pull up common getExecutor code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131494 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractAjpProcessor.java
index 20d29c8e72..7cc47f341f 100644
--- a/java/org/apache/coyote/AbstractProcessor.java
+++ b/java/org/apache/coyote/AbstractProcessor.java
@@ -16,6 +16,8 @@
  */
 package org.apache.coyote;
 
+import java.util.concurrent.Executor;
+
 import org.apache.tomcat.util.net.AbstractEndpoint;
 
 public abstract class AbstractProcessor implements ActionHook, Processor {
@@ -25,4 +27,9 @@ public abstract class AbstractProcessor implements ActionHook, Processor {
     protected AbstractEndpoint getEndpoint() {
         return endpoint;
     }
+    
+    @Override
+    public Executor getExecutor() {
+        return endpoint.getExecutor();
+    }
 }

==================================================
AjpAprProcessor.java
index 7c69da373e..ea3306bc8f 100644
--- a/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AbstractAjpProcessor.java
@@ -23,7 +23,6 @@ import java.net.InetAddress;
 import java.security.NoSuchProviderException;
 import java.security.cert.CertificateFactory;
 import java.security.cert.X509Certificate;
-import java.util.concurrent.Executor;
 import java.util.concurrent.atomic.AtomicBoolean;
 
 import org.apache.coyote.AbstractProcessor;
@@ -398,10 +397,6 @@ public abstract class AbstractAjpProcessor extends AbstractProcessor {
    protected abstract void finish() throws IOException;
    
    
-   @Override
-   public abstract Executor getExecutor();
-
-   
    public void recycle() {
        asyncStateMachine.recycle();
 

==================================================
AjpNioProcessor.java
index 434b2f2420..783d54a366 100644
--- a/java/org/apache/coyote/ajp/AjpAprProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpAprProcessor.java
@@ -20,7 +20,6 @@ package org.apache.coyote.ajp;
 import java.io.IOException;
 import java.io.InterruptedIOException;
 import java.nio.ByteBuffer;
-import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
 import org.apache.coyote.OutputBuffer;
@@ -384,12 +383,6 @@ public class AjpAprProcessor extends AbstractAjpProcessor {
     }
 
     
-    @Override
-    public Executor getExecutor() {
-        return endpoint.getExecutor();
-    }
-    
-    
     // ----------------------------------------------------- ActionHook Methods
 
 

==================================================
AjpProcessor.java
index 8f0396fc13..4027d91be6 100644
--- a/java/org/apache/coyote/ajp/AjpNioProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpNioProcessor.java
@@ -22,7 +22,6 @@ import java.io.IOException;
 import java.io.InterruptedIOException;
 import java.nio.ByteBuffer;
 import java.nio.channels.Selector;
-import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
 import org.apache.coyote.OutputBuffer;
@@ -372,12 +371,6 @@ public class AjpNioProcessor extends AbstractAjpProcessor {
     }
 
     
-    @Override
-    public Executor getExecutor() {
-        return endpoint.getExecutor();
-    }
-    
-    
     // ----------------------------------------------------- ActionHook Methods
 
 

==================================================
AbstractHttp11Processor.java
index 207fe695ee..18009290cb 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -22,7 +22,6 @@ import java.io.InputStream;
 import java.io.InterruptedIOException;
 import java.io.OutputStream;
 import java.net.Socket;
-import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
 import org.apache.coyote.OutputBuffer;
@@ -383,12 +382,6 @@ public class AjpProcessor extends AbstractAjpProcessor {
     }
 
     
-    @Override
-    public Executor getExecutor() {
-        return endpoint.getExecutor();
-    }
-    
-    
     // ----------------------------------------------------- ActionHook Methods
 
 

==================================================
Http11AprProcessor.java
index 59fb42482a..52a6da4758 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Processor.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Processor.java
@@ -18,7 +18,6 @@ package org.apache.coyote.http11;
 
 import java.io.IOException;
 import java.util.StringTokenizer;
-import java.util.concurrent.Executor;
 import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.regex.Pattern;
 
@@ -1004,9 +1003,6 @@ public abstract class AbstractHttp11Processor extends AbstractProcessor {
     
     protected abstract void recycleInternal();
 
-    @Override
-    public abstract Executor getExecutor();
-    
     protected boolean isAsync() {
         return asyncStateMachine.isAsync();
     }

==================================================
Http11NioProcessor.java
index 60358e6480..f4e9849584 100644
--- a/java/org/apache/coyote/http11/Http11AprProcessor.java
+++ b/java/org/apache/coyote/http11/Http11AprProcessor.java
@@ -23,7 +23,6 @@ import java.io.InterruptedIOException;
 import java.security.cert.CertificateFactory;
 import java.security.cert.X509Certificate;
 import java.util.Locale;
-import java.util.concurrent.Executor;
 
 import org.apache.coyote.ActionCode;
 import org.apache.coyote.Request;
@@ -927,9 +926,4 @@ public class Http11AprProcessor extends AbstractHttp11Processor {
     protected AbstractOutputBuffer getOutputBuffer() {
         return outputBuffer;
     }
-    
-    @Override
-    public Executor getExecutor() {
-        return endpoint.getExecutor();
-    }
 }

==================================================
Http11Processor.java
index 273d514862..43be314fb5 100644
--- a/java/org/apache/coyote/http11/Http11NioProcessor.java
+++ b/java/org/apache/coyote/http11/Http11NioProcessor.java
@@ -21,7 +21,6 @@ import java.io.InterruptedIOException;
 import java.net.InetAddress;
 import java.nio.channels.SelectionKey;
 import java.util.Locale;
-import java.util.concurrent.Executor;
 
 import javax.net.ssl.SSLEngine;
 
@@ -1002,9 +1001,4 @@ public class Http11NioProcessor extends AbstractHttp11Processor {
     public void setSslSupport(SSLSupport sslSupport) {
         this.sslSupport = sslSupport;
     }
-
-    @Override
-    public Executor getExecutor() {
-        return endpoint.getExecutor();
-    }
 }

==================================================
