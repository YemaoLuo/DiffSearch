912abf63d51997be156ae52aac55bacb9ce27a87
==================================================
Update tests after BZ 56320 changes (only open when data to log)
==================================================
Mark Thomas
==================================================
Thu Jan 16 20:56:51 2020 +0000
==================================================
TestFileHandler.java
Update tests after BZ 56320 changes (only open when data to log)


==================================================
TestFileHandlerNonRotatable.java
index 1ca4675910..d8840f9d88 100644
--- a/test/org/apache/juli/TestFileHandler.java
+++ b/test/org/apache/juli/TestFileHandler.java
@@ -78,6 +78,7 @@ public class TestFileHandler {
         generateLogFiles(logsDir, PREFIX_1, SUFIX_1, 3);
 
         FileHandler fh1 = new FileHandler(logsDir.getAbsolutePath(), PREFIX_1, SUFIX_1, Integer.valueOf(2));
+        fh1.open();
 
         Thread.sleep(1000);
 
@@ -94,6 +95,10 @@ public class TestFileHandler {
         FileHandler fh2 = new FileHandler(logsDir.getAbsolutePath(), PREFIX_1, SUFIX_2, Integer.valueOf(2));
         FileHandler fh3 = new FileHandler(logsDir.getAbsolutePath(), PREFIX_2, SUFIX_1, Integer.valueOf(2));
         FileHandler fh4 = new FileHandler(logsDir.getAbsolutePath(), PREFIX_3, SUFIX_1, Integer.valueOf(2));
+        fh1.open();
+        fh2.open();
+        fh3.open();
+        fh4.open();
 
         Thread.sleep(1000);
 
@@ -110,6 +115,7 @@ public class TestFileHandler {
         generateLogFiles(logsDir, PREFIX_1, SUFIX_1, 3);
 
         FileHandler fh1 = new FileHandler(logsDir.getAbsolutePath(), PREFIX_1, SUFIX_1, null);
+        fh1.open();
 
         Thread.sleep(1000);
 

==================================================
