91593f543785b1bb7439bb97fc6208ebe8e91ba0
==================================================
https://issues.apache.org/bugzilla/show_bug.cgi?id=49158
==================================================
Filip Hanik
==================================================
Tue Apr 20 17:13:37 2010 +0000
==================================================
Request.java
https://issues.apache.org/bugzilla/show_bug.cgi?id=49158
Session cookies should only set one header



git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935998 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Response.java
index 5377bf5532..2d4000f0b0 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -2298,7 +2298,7 @@ public class Request
             Cookie newCookie =
                 ApplicationSessionCookieConfig.createSessionCookie(context,
                         newSessionId, secure);
-            response.addCookieInternal(newCookie);
+            response.addSessionCookieInternal(newCookie);
         }
     }
 
@@ -2622,7 +2622,7 @@ public class Request
                 ApplicationSessionCookieConfig.createSessionCookie(
                         context, session.getIdInternal(), isSecure());
             
-            response.addCookieInternal(cookie);
+            response.addSessionCookieInternal(cookie);
         }
 
         if (session != null) {

==================================================
