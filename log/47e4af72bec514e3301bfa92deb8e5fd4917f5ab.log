47e4af72bec514e3301bfa92deb8e5fd4917f5ab
==================================================
Search to more jars and fix testcase!
==================================================
Peter Rossbach
==================================================
Mon May 3 09:44:39 2010 +0000
==================================================
BaseDirContext.java
Search to more jars and fix testcase!

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940405 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestStandardContextResources.java
index 1c48fe528c..b388050e38 100644
--- a/java/org/apache/naming/resources/BaseDirContext.java
+++ b/java/org/apache/naming/resources/BaseDirContext.java
@@ -456,9 +456,13 @@ public abstract class BaseDirContext implements DirContext {
         
         // Check the alternate locations
         for (DirContext altDirContext : altDirContexts) {
-            obj = altDirContext.lookup("META-INF/resources/" + name);
-            if (obj != null)
-                return obj;
+            try {
+                obj = altDirContext.lookup("META-INF/resources/" + name);
+                if (obj != null)
+                    return obj;
+            } catch ( NamingException ex) {
+                // ignore
+            }
         }
         
         // Really not found

==================================================
