ce4b607832fa1a16ce85cf42de0a1c5ff45b0265
==================================================
Move CaseInsensitiveKeyMap to o.a.t.util.collections so it is available outside of the WebSocket implementation (I want to re-use it in HTTP/2's PushBuilder)
==================================================
asf-sync-process asf-sync-process@unknown
==================================================
Thu Oct 15 09:26:08 2015 +0000
==================================================
CaseInsensitiveKeyMap.java
Move CaseInsensitiveKeyMap to o.a.t.util.collections so it is available outside of the WebSocket implementation (I want to re-use it in HTTP/2's PushBuilder)

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1708746 13f79535-47bb-0310-9956-ffa450edef68



==================================================
WsHandshakeResponse.java
similarity index 99%
rename from java/org/apache/tomcat/websocket/CaseInsensitiveKeyMap.java
rename to java/org/apache/tomcat/util/collections/CaseInsensitiveKeyMap.java
index 5fde5c3795..d33a6dd6fd 100644
--- a/java/org/apache/tomcat/websocket/CaseInsensitiveKeyMap.java
+++ b/java/org/apache/tomcat/util/collections/CaseInsensitiveKeyMap.java
@@ -14,7 +14,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-package org.apache.tomcat.websocket;
+package org.apache.tomcat.util.collections;
 
 import java.util.AbstractMap;
 import java.util.AbstractSet;

==================================================
WsWebSocketContainer.java
index 13af6bbbaa..ecb39e4452 100644
--- a/java/org/apache/tomcat/websocket/WsHandshakeResponse.java
+++ b/java/org/apache/tomcat/websocket/WsHandshakeResponse.java
@@ -23,6 +23,8 @@ import java.util.Map.Entry;
 
 import javax.websocket.HandshakeResponse;
 
+import org.apache.tomcat.util.collections.CaseInsensitiveKeyMap;
+
 /**
  * Represents the response to a WebSocket handshake.
  */

==================================================
WsHandshakeRequest.java
index fbaead081b..fa41206b22 100644
--- a/java/org/apache/tomcat/websocket/WsWebSocketContainer.java
+++ b/java/org/apache/tomcat/websocket/WsWebSocketContainer.java
@@ -65,6 +65,7 @@ import javax.websocket.WebSocketContainer;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
 import org.apache.tomcat.util.codec.binary.Base64;
+import org.apache.tomcat.util.collections.CaseInsensitiveKeyMap;
 import org.apache.tomcat.util.res.StringManager;
 import org.apache.tomcat.websocket.pojo.PojoEndpointClient;
 

==================================================
TomcatBaseTest.java
index de1c54b6ad..823a11d57f 100644
--- a/java/org/apache/tomcat/websocket/server/WsHandshakeRequest.java
+++ b/java/org/apache/tomcat/websocket/server/WsHandshakeRequest.java
@@ -30,7 +30,7 @@ import java.util.Map.Entry;
 import javax.servlet.http.HttpServletRequest;
 import javax.websocket.server.HandshakeRequest;
 
-import org.apache.tomcat.websocket.CaseInsensitiveKeyMap;
+import org.apache.tomcat.util.collections.CaseInsensitiveKeyMap;
 
 /**
  * Represents the request that this session was opened under.

==================================================
TestCaseInsensitiveKeyMap.java
index 0d14de1906..f541971cae 100644
--- a/test/org/apache/catalina/startup/TomcatBaseTest.java
+++ b/test/org/apache/catalina/startup/TomcatBaseTest.java
@@ -65,7 +65,7 @@ import org.apache.catalina.valves.AccessLogValve;
 import org.apache.catalina.webresources.StandardRoot;
 import org.apache.coyote.http11.Http11NioProtocol;
 import org.apache.tomcat.util.buf.ByteChunk;
-import org.apache.tomcat.websocket.CaseInsensitiveKeyMap;
+import org.apache.tomcat.util.collections.CaseInsensitiveKeyMap;
 
 /**
  * Base test case that provides a Tomcat instance for each test - mainly so we

==================================================
