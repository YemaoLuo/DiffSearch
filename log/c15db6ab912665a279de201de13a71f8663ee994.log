c15db6ab912665a279de201de13a71f8663ee994
==================================================
Add more special SSL attributes for storeconfig.
==================================================
Remy Maucherat
==================================================
Fri Nov 16 14:36:16 2018 +0000
==================================================
AbstractHttp11Protocol.java
index faa34cef83..97d0a4535a 100644
--- a/java/org/apache/catalina/storeconfig/server-registry.xml
+++ b/java/org/apache/catalina/storeconfig/server-registry.xml
@@ -102,7 +102,7 @@
         <TransientAttribute>URIEncoding</TransientAttribute>
         <TransientAttribute>maxProcessor</TransientAttribute>
         <TransientAttribute>minProcessor</TransientAttribute>
-        <!-- All attribute duplicated from the SSLHostConfig, may be removed in Tomcat 10 -->
+        <!-- All attribute duplicated from the SSLHostConfig, removed in Tomcat 10 -->
         <TransientAttribute>SSLProtocol</TransientAttribute>
         <TransientAttribute>sslEnabledProtocols</TransientAttribute>
         <TransientAttribute>SSLCipherSuite</TransientAttribute>
@@ -138,6 +138,13 @@
         <TransientAttribute>truststorePass</TransientAttribute>
         <TransientAttribute>truststoreProvider</TransientAttribute>
         <TransientAttribute>truststoreType</TransientAttribute>
+        <!-- All attribute duplicated from the AbstractHttp11Protocol, removed in Tomcat 10 -->
+        <TransientAttribute>clientAuth</TransientAttribute>
+        <TransientAttribute>SSLVerifyClient</TransientAttribute>
+        <TransientAttribute>trustMaxCertLength</TransientAttribute>
+        <TransientAttribute>SSLVerifyDepth</TransientAttribute>
+        <TransientAttribute>useServerCipherSuitesOrder</TransientAttribute>
+        <TransientAttribute>SSLHonorCipherOrder</TransientAttribute>
      </Description>
      <Description
         tag="UpgradeProtocol"

==================================================
SSLHostConfig.java
index a161ba5a6a..fdeda3f976 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
@@ -647,7 +647,7 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
 
     public String getClientAuth() {
         registerDefaultSSLHostConfig();
-        return defaultSSLHostConfig.getCertificateVerification().toString();
+        return defaultSSLHostConfig.getCertificateVerificationAsString();
     }
     public void setClientAuth(String certificateVerification) {
         registerDefaultSSLHostConfig();
@@ -657,7 +657,7 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
 
     public String getSSLVerifyClient() {
         registerDefaultSSLHostConfig();
-        return defaultSSLHostConfig.getCertificateVerification().toString();
+        return defaultSSLHostConfig.getCertificateVerificationAsString();
     }
     public void setSSLVerifyClient(String certificateVerification) {
         registerDefaultSSLHostConfig();

==================================================
