7bf40828b1450745bd7de4ba8db0d3902e6db573
==================================================
All of the issues I was seeing with mark/reset were due to states that resulted in a call to CharChunk.flushBuffer().
==================================================
Mark Emlyn
==================================================
Mon Apr 7 22:47:54 2008 +0000
==================================================
InputBuffer.java
All of the issues I was seeing with mark/reset were due to states that resulted in a call to CharChunk.flushBuffer().
I tried many different ways to fix it but by far the simplest was this patch that just increases the size of the CharChunk internal buffer when creating the mark sufficiently that flushBuffer() is never called.
With this patch I can't break mark/reset with bug 44494's test case in single or multibyte mode.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645722 13f79535-47bb-0310-9956-ffa450edef68



==================================================
