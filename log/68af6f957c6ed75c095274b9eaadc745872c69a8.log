68af6f957c6ed75c095274b9eaadc745872c69a8
==================================================
Use separate locks for Stream and Connection window allocations
==================================================
Mark Thomas
==================================================
Fri May 10 18:54:37 2019 +0100
==================================================
Http2UpgradeHandler.java
Use separate locks for Stream and Connection window allocations

The allocation logic used the same object (the stream) as a lock to wait
for both stream and connection allocations. This mean, for example, if a
window update was received for the stream while blocking waiting for an
allocation for the connection window the stream would be incorrectly
notified.


==================================================
Stream.java
index 9925ae2507..f2072bcca8 100644
--- a/java/org/apache/coyote/http2/LocalStrings_ko.properties
+++ b/java/org/apache/coyote/http2/LocalStrings_ko.properties
@@ -126,7 +126,7 @@ upgradeHandler.initialWindowSize.invalid=연결 [{0}]: 값 [{1}]은(는), 초기
 upgradeHandler.invalidPreface=연결 [{0}]: 유효하지 않은 연결 preface
 upgradeHandler.ioerror=연결 [{0}]
 upgradeHandler.noNewStreams=연결 [{0}], 스트림 [{1}], 이 연결에는 새로운 스트림들이 허용되지 않기에, 스트림이 무시되었습니다.
-upgradeHandler.notifyAll=연결 [{0}], 스트림 [{1}], notifyAll()이 StreamOutputBuffer를 해제하기 위하여 호출되었습니다.
+upgradeHandler.notify=연결 [{0}], 스트림 [{1}], notify()이 StreamOutputBuffer를 해제하기 위하여 호출되었습니다.
 upgradeHandler.pause.entry=연결 [{0}]이(가) 일시 정지 중
 upgradeHandler.pingFailed=연결 [{0}]: 클라이언트에 ping 메시지를 보내지 못했습니다.
 upgradeHandler.prefaceReceived=연결 [{0}]: 연결 preface를 클라이언트로부터 받았습니다.

==================================================
