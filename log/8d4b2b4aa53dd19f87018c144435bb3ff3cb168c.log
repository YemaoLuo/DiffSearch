8d4b2b4aa53dd19f87018c144435bb3ff3cb168c
==================================================
Revert 1733435. Fix was incorrect. Failign test committed to early
==================================================
Mark Thomas
==================================================
Thu Mar 3 10:47:30 2016 +0000
==================================================
OpenSSLCipherConfigurationParser.java
Revert 1733435. Fix was incorrect. Failign test committed to early

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1733437 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestOpenSSLCipherConfigurationParserOnly.java
index a1692dc402..72c3f7f010 100644
--- a/java/org/apache/tomcat/util/net/openssl/ciphers/OpenSSLCipherConfigurationParser.java
+++ b/java/org/apache/tomcat/util/net/openssl/ciphers/OpenSSLCipherConfigurationParser.java
@@ -564,7 +564,7 @@ public class OpenSSLCipherConfigurationParser {
         final LinkedHashSet<Cipher> ecdh = new LinkedHashSet<>(ciphers.size());
 
         /* Everything else being equal, prefer ephemeral ECDH over other key exchange mechanisms */
-        ecdh.addAll(filterByKeyExchange(ciphers, new HashSet<>(Arrays.asList(KeyExchange.EECDH, KeyExchange.ECDHEPSK))));
+        ecdh.addAll(filterByKeyExchange(ciphers, Collections.singleton(KeyExchange.EECDH)));
 
         /* AES is our preferred symmetric cipher */
         Set<Encryption> aes = new HashSet<>(Arrays.asList(Encryption.AES128, Encryption.AES128CCM,

==================================================
