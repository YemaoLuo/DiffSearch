3b40edf7edfb239f3e6c41cf5088c18951a5431e
==================================================
StringBuffer -> StringBuilder for o.a.c.realm
==================================================
Mark Emlyn
==================================================
Mon Nov 2 18:33:01 2009 +0000
==================================================
DataSourceRealm.java
StringBuffer -> StringBuilder for o.a.c.realm

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832015 13f79535-47bb-0310-9956-ffa450edef68



==================================================
GenericPrincipal.java
index b0c30d57c8..6a05831c0a 100644
--- a/java/org/apache/catalina/realm/DataSourceRealm.java
+++ b/java/org/apache/catalina/realm/DataSourceRealm.java
@@ -613,7 +613,7 @@ public class DataSourceRealm
         super.start();
 
         // Create the roles PreparedStatement string
-        StringBuffer temp = new StringBuffer("SELECT ");
+        StringBuilder temp = new StringBuilder("SELECT ");
         temp.append(roleNameCol);
         temp.append(" FROM ");
         temp.append(userRoleTable);
@@ -623,7 +623,7 @@ public class DataSourceRealm
         preparedRoles = temp.toString();
 
         // Create the credentials PreparedStatement string
-        temp = new StringBuffer("SELECT ");
+        temp = new StringBuilder("SELECT ");
         temp.append(userCredCol);
         temp.append(" FROM ");
         temp.append(userTable);

==================================================
JDBCRealm.java
index 88f4b8d60e..a28df51105 100644
--- a/java/org/apache/catalina/realm/GenericPrincipal.java
+++ b/java/org/apache/catalina/realm/GenericPrincipal.java
@@ -191,7 +191,7 @@ public class GenericPrincipal implements Principal {
      */
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("GenericPrincipal[");
+        StringBuilder sb = new StringBuilder("GenericPrincipal[");
         sb.append(this.name);
         sb.append("(");
         for( int i=0;i<roles.length; i++ ) {

==================================================
JNDIRealm.java
index 9eae7b0be1..9fb54b50f6 100644
--- a/java/org/apache/catalina/realm/JDBCRealm.java
+++ b/java/org/apache/catalina/realm/JDBCRealm.java
@@ -484,7 +484,7 @@ public class JDBCRealm
         throws SQLException {
 
         if (preparedCredentials == null) {
-            StringBuffer sb = new StringBuffer("SELECT ");
+            StringBuilder sb = new StringBuilder("SELECT ");
             sb.append(userCredCol);
             sb.append(" FROM ");
             sb.append(userTable);
@@ -736,7 +736,7 @@ public class JDBCRealm
         throws SQLException {
 
         if (preparedRoles == null) {
-            StringBuffer sb = new StringBuffer("SELECT ");
+            StringBuilder sb = new StringBuilder("SELECT ");
             sb.append(roleNameCol);
             sb.append(" FROM ");
             sb.append(userRoleTable);

==================================================
RealmBase.java
index d5ddf8b096..c35c863a13 100644
--- a/java/org/apache/catalina/realm/JNDIRealm.java
+++ b/java/org/apache/catalina/realm/JNDIRealm.java
@@ -2077,7 +2077,7 @@ public class JNDIRealm extends RealmBase {
      * @return String the escaped/encoded result
      */
     protected String doRFC2254Encoding(String inString) {
-        StringBuffer buf = new StringBuffer(inString.length());
+        StringBuilder buf = new StringBuilder(inString.length());
         for (int i = 0; i < inString.length(); i++) {
             char c = inString.charAt(i);
             switch (c) {

==================================================
