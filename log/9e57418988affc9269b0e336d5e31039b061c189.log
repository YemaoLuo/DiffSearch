9e57418988affc9269b0e336d5e31039b061c189
==================================================
Remove odd "ruby" thing from my grammar. Let me know if I missed something.
==================================================
Remy Maucherat
==================================================
Wed Oct 10 13:49:45 2018 +0000
==================================================
JSONParser.java
Remove odd "ruby" thing from my grammar. Let me know if I missed something.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1843452 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JSONParserConstants.java
index 924e050984..5d49588672 100644
--- a/java/org/apache/tomcat/util/json/JSONParser.jj
+++ b/java/org/apache/tomcat/util/json/JSONParser.jj
@@ -197,7 +197,6 @@ TOKEN:{
     )+>
 | <STRING_SINGLE_NONEMPTY: <QUOTE_SINGLE> <STRING_SINGLE_BODY> <QUOTE_SINGLE>>
 | <STRING_DOUBLE_NONEMPTY: <QUOTE_DOUBLE> <STRING_DOUBLE_BODY> <QUOTE_DOUBLE>>
-| <RUBY_SYMBOL:  ":" (["a"-"z"] | ["A"-"Z"] | ["0"-"9"] | "_")+>
 }
 
 // Raw symbol tokens
@@ -348,17 +347,10 @@ String string() : {
 }{
     ( s = doubleQuoteString() 
     | s = singleQuoteString()
-    | s = rubySymbol()
     )
     { return s; }
 }
 
-String rubySymbol(): {
-}{
-    <RUBY_SYMBOL>
-    { return token.image.substring(1); }
-}
-
 String doubleQuoteString() : {
 }{
     (

==================================================
JSONParserTokenManager.java
index 1e6ad6b450..015fbb5e02 100644
--- a/java/org/apache/tomcat/util/json/JSONParserConstants.java
+++ b/java/org/apache/tomcat/util/json/JSONParserConstants.java
@@ -82,9 +82,7 @@ public interface JSONParserConstants {
   /** RegularExpression Id. */
   int STRING_DOUBLE_NONEMPTY = 27;
   /** RegularExpression Id. */
-  int RUBY_SYMBOL = 28;
-  /** RegularExpression Id. */
-  int SYMBOL = 29;
+  int SYMBOL = 28;
 
   /** Lexical state. */
   int DEFAULT = 0;
@@ -119,7 +117,6 @@ public interface JSONParserConstants {
     "<STRING_DOUBLE_BODY>",
     "<STRING_SINGLE_NONEMPTY>",
     "<STRING_DOUBLE_NONEMPTY>",
-    "<RUBY_SYMBOL>",
     "<SYMBOL>",
   };
 

==================================================
