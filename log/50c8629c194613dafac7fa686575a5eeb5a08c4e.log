50c8629c194613dafac7fa686575a5eeb5a08c4e
==================================================
Fix a few deprecation warnings when compiling with Java 11 (others remain that are harder to fix).
==================================================
Mark Thomas
==================================================
Tue Oct 9 19:15:38 2018 +0000
==================================================
CloudMembershipService.java
Fix a few deprecation warnings when compiling with Java 11 (others remain that are harder to fix).

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1843330 13f79535-47bb-0310-9956-ffa450edef68



==================================================
LookupFactory.java
index 413cfed4e4..b5543c0eb4 100644
--- a/java/org/apache/catalina/tribes/membership/cloud/CloudMembershipService.java
+++ b/java/org/apache/catalina/tribes/membership/cloud/CloudMembershipService.java
@@ -106,7 +106,8 @@ public class CloudMembershipService extends MembershipServiceBase {
             if (log.isDebugEnabled()) {
                 log.debug("Using membershipProvider: " + provider);
             }
-            membershipProvider = (MembershipProvider) Class.forName(provider).newInstance();
+            membershipProvider =
+                    (MembershipProvider) Class.forName(provider).getConstructor().newInstance();
             membershipProvider.setMembershipListener(this);
             membershipProvider.setMembershipService(this);
             membershipProvider.init(properties);

==================================================
BasicManagedDataSource.java
index 190b7e34f3..ee239addf6 100644
--- a/java/org/apache/naming/factory/LookupFactory.java
+++ b/java/org/apache/naming/factory/LookupFactory.java
@@ -106,7 +106,7 @@ public class LookupFactory implements ObjectFactory {
                     }
                     if (factoryClass != null) {
                         try {
-                            factory = (ObjectFactory) factoryClass.newInstance();
+                            factory = (ObjectFactory) factoryClass.getConstructor().newInstance();
                         } catch (Throwable t) {
                             if (t instanceof NamingException)
                                 throw (NamingException) t;

==================================================
