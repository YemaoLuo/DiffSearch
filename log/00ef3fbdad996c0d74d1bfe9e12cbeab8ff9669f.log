00ef3fbdad996c0d74d1bfe9e12cbeab8ff9669f
==================================================
Allow the transition from NEW to DESTROYED for objects that are never started.
==================================================
Mark Emlyn
==================================================
Mon May 10 15:41:58 2010 +0000
==================================================
Lifecycle.java
Allow the transition from NEW to DESTROYED for objects that are never started.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942794 13f79535-47bb-0310-9956-ffa450edef68



==================================================
LifecycleBase.java
index 70ef9e86c5..6bd2681735 100644
--- a/java/org/apache/catalina/Lifecycle.java
+++ b/java/org/apache/catalina/Lifecycle.java
@@ -31,25 +31,29 @@ package org.apache.catalina;
  *                                  |                                          |
  *    init()           start()      |        auto          auto         stop() |
  * NEW ->-- INITIALIZED -->-- STARTING_PREP -->- STARTING -->- STARTED -->---  |
- * | |                              ^                             |         |  |
- * | |        start()               |                             |         |  |
- * | ----------->--------------------                             |         |  |
- * |                                                              |         |  |
- * |                   auto                    auto               |         |  |
- * |stop()       ---------<----- MUST_STOP ---------------------<--         |  |
- * |             |                                                          |  |
- * |             ---------------------------<--------------------------------  ^
- * |             |                                                             |
- * |             |             auto                 auto              start()  |
- * |        STOPPING_PREP ------>----- STOPPING ------>----- STOPPED ---->------
- * |             ^                                           |  |  ^
- * |             |                                  auto     |  |  |
- * |             |stop()            MUST_DESTROY------<-------  |  |
- * |             |                    |                         |  |
- * |             |                    |auto                     |  |
- * |             |    destroy()      \|/              destroy() |  |
- * |          FAILED ---->------ DESTROYED ----<-----------------  |
+ * |||                              ^                             |         |  |
+ * |||        start()               |                             |         |  |
+ * ||----------->--------------------                             |         |  |
+ * ||                                                             |         |  |
+ * |---                auto                    auto               |         |  |
+ * |  |          ---------<----- MUST_STOP ---------------------<--         |  |
+ * |  |          |                                                          |  |
+ * |  |          ---------------------------<--------------------------------  ^
+ * |  |          |                                                             |
+ * |  |          |             auto                 auto              start()  |
+ * |  |     STOPPING_PREP ------>----- STOPPING ------>----- STOPPED ---->------
+ * |  |          ^                                           |  |  ^
+ * |  |          |                                  auto     |  |  |
+ * |  |          |stop()            MUST_DESTROY------<-------  |  |
+ * |  |          |                    |                         |  |
+ * |  |          |                    |auto                     |  |
+ * |  |          |    destroy()      \|/              destroy() |  |
+ * |  |       FAILED ---->------ DESTROYED ----<-----------------  |
+ * |  |                             ^                              |
+ * |  |        destroy()            |                              |
+ * |  -------------------------------                              |
  * |                                                               |
+ * |                            stop()                             |
  * --->------------------------------>------------------------------
  *   
  * Any state can transition to FAILED.

==================================================
