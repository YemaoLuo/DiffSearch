6e7c64440ab9c077387508cd3a66f87de0c374e8
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=54225
==================================================
Filip Hanik
==================================================
Thu Aug 7 20:31:19 2014 +0000
==================================================
PoolProperties.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=54225
Don't allow empty strings as initSQL

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1616592 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Bug54225.java
index f080aa2fa9..1708fe730b 100644
--- a/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java
+++ b/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java
@@ -791,7 +791,7 @@ public class PoolProperties implements PoolConfiguration, Cloneable, Serializabl
 
     @Override
     public void setInitSQL(String initSQL) {
-        this.initSQL = initSQL;
+        this.initSQL = initSQL!=null && initSQL.trim().length()>0 ? initSQL : null;
     }
 
     /**

==================================================
