14c05eba22ffd7cdabdbee839d322da0f3cefe6e
==================================================
Servlet 4.0
==================================================
Mark Thomas
==================================================
Fri Oct 9 13:38:24 2015 +0000
==================================================
ServletContext.java
Servlet 4.0
Use of @Deprecated

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1707726 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ServletRequest.java
index bee6a5ef8e..df4f7b597f 100644
--- a/java/javax/servlet/ServletContext.java
+++ b/java/javax/servlet/ServletContext.java
@@ -308,8 +308,7 @@ public interface ServletContext {
      *
      * @deprecated As of Java Servlet API 2.1, with no direct replacement.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Servlet getServlet(String name) throws ServletException;
 
     /**
@@ -323,8 +322,7 @@ public interface ServletContext {
      *
      * @deprecated As of Java Servlet API 2.0, with no replacement.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Enumeration<Servlet> getServlets();
 
     /**
@@ -339,8 +337,7 @@ public interface ServletContext {
      *
      * @deprecated As of Java Servlet API 2.1, with no replacement.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Enumeration<String> getServletNames();
 
     /**
@@ -365,8 +362,7 @@ public interface ServletContext {
      *             stack trace and an explanatory error message to the servlet
      *             log file.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public void log(Exception exception, String msg);
 
     /**

==================================================
ServletRequestWrapper.java
index 08fa51f64a..a0039cbdb6 100644
--- a/java/javax/servlet/ServletRequest.java
+++ b/java/javax/servlet/ServletRequest.java
@@ -401,8 +401,7 @@ public interface ServletRequest {
      * @deprecated As of Version 2.1 of the Java Servlet API, use
      *             {@link ServletContext#getRealPath} instead.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String getRealPath(String path);
 
     /**

==================================================
SingleThreadModel.java
index 32cee2f6d5..7b5f1ffceb 100644
--- a/java/javax/servlet/ServletRequestWrapper.java
+++ b/java/javax/servlet/ServletRequestWrapper.java
@@ -298,8 +298,7 @@ public class ServletRequestWrapper implements ServletRequest {
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
     @Override
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String getRealPath(String path) {
         return this.request.getRealPath(path);
     }

==================================================
UnavailableException.java
index 6e8437e45d..fa9732d1ea 100644
--- a/java/javax/servlet/SingleThreadModel.java
+++ b/java/javax/servlet/SingleThreadModel.java
@@ -37,8 +37,7 @@ package javax.servlet;
  *
  * @deprecated As of Java Servlet API 2.4, with no direct replacement.
  */
-@SuppressWarnings("dep-ann")
-// Spec API does not use @Deprecated
+@Deprecated
 public interface SingleThreadModel {
     // No methods
 }

==================================================
HttpServletRequest.java
index c03c6d25dd..6f13f55cf4 100644
--- a/java/javax/servlet/UnavailableException.java
+++ b/java/javax/servlet/UnavailableException.java
@@ -55,8 +55,7 @@ public class UnavailableException extends ServletException {
      * @deprecated As of Java Servlet API 2.2, use
      *             {@link #UnavailableException(String)} instead.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public UnavailableException(Servlet servlet, String msg) {
         super(msg);
         this.servlet = servlet;
@@ -77,8 +76,7 @@ public class UnavailableException extends ServletException {
      * @deprecated As of Java Servlet API 2.2, use
      *             {@link #UnavailableException(String, int)} instead.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public UnavailableException(int seconds, Servlet servlet, String msg) {
         super(msg);
         this.servlet = servlet;
@@ -153,8 +151,7 @@ public class UnavailableException extends ServletException {
      *         <code>UnavailableException</code>
      * @deprecated As of Java Servlet API 2.2, with no replacement.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Servlet getServlet() {
         return servlet;
     }

==================================================
HttpServletRequestWrapper.java
index 1314645fdc..0f0b26fae3 100644
--- a/java/javax/servlet/http/HttpServletRequest.java
+++ b/java/javax/servlet/http/HttpServletRequest.java
@@ -427,8 +427,7 @@ public interface HttpServletRequest extends ServletRequest {
      * @deprecated As of Version 2.1 of the Java Servlet API, use
      *             {@link #isRequestedSessionIdFromURL} instead.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl();
 
     /**

==================================================
HttpServletResponse.java
index 5ddb5ac005..5941d341a0 100644
--- a/java/javax/servlet/http/HttpServletRequestWrapper.java
+++ b/java/javax/servlet/http/HttpServletRequestWrapper.java
@@ -283,8 +283,7 @@ public class HttpServletRequestWrapper extends ServletRequestWrapper implements
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
     @Override
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public boolean isRequestedSessionIdFromUrl() {
         return this._getHttpServletRequest().isRequestedSessionIdFromUrl();
     }

==================================================
HttpServletResponseWrapper.java
index 0d48e7f30a..9d406d9d7f 100644
--- a/java/javax/servlet/http/HttpServletResponse.java
+++ b/java/javax/servlet/http/HttpServletResponse.java
@@ -100,8 +100,7 @@ public interface HttpServletResponse extends ServletResponse {
      *         otherwise.
      * @deprecated As of version 2.1, use encodeURL(String url) instead
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String encodeUrl(String url);
 
     /**
@@ -111,8 +110,7 @@ public interface HttpServletResponse extends ServletResponse {
      *         otherwise.
      * @deprecated As of version 2.1, use encodeRedirectURL(String url) instead
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String encodeRedirectUrl(String url);
 
     /**
@@ -291,8 +289,7 @@ public interface HttpServletResponse extends ServletResponse {
      *             <code>setStatus(int)</code>, to send an error with a
      *             description use <code>sendError(int, String)</code>.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public void setStatus(int sc, String sm);
 
     /**

==================================================
HttpSession.java
index dfb2a7cdb1..90faa6380f 100644
--- a/java/javax/servlet/http/HttpServletResponseWrapper.java
+++ b/java/javax/servlet/http/HttpServletResponseWrapper.java
@@ -92,8 +92,7 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
     @Override
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String encodeUrl(String url) {
         return this._getHttpServletResponse().encodeUrl(url);
     }
@@ -105,8 +104,7 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
     @Override
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String encodeRedirectUrl(String url) {
         return this._getHttpServletResponse().encodeRedirectUrl(url);
     }
@@ -208,8 +206,7 @@ public class HttpServletResponseWrapper extends ServletResponseWrapper
      * @deprecated As of Version 3.0 of the Java Servlet API
      */
     @Override
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public void setStatus(int sc, String sm) {
         this._getHttpServletResponse().setStatus(sc, sm);
     }

==================================================
HttpSessionContext.java
index 2a731f5e10..8501d2e1ac 100644
--- a/java/javax/servlet/http/HttpSession.java
+++ b/java/javax/servlet/http/HttpSession.java
@@ -141,8 +141,7 @@ public interface HttpSession {
      *             replacement. It will be removed in a future version of the
      *             Java Servlet API.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public HttpSessionContext getSessionContext();
 
     /**
@@ -166,8 +165,7 @@ public interface HttpSession {
      * @deprecated As of Version 2.2, this method is replaced by
      *             {@link #getAttribute}.
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Object getValue(String name);
 
     /**
@@ -189,8 +187,7 @@ public interface HttpSession {
      * @deprecated As of Version 2.2, this method is replaced by
      *             {@link #getAttributeNames}
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public String[] getValueNames();
 
     /**
@@ -229,8 +226,7 @@ public interface HttpSession {
      * @deprecated As of Version 2.2, this method is replaced by
      *             {@link #setAttribute}
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public void putValue(String name, Object value);
 
     /**
@@ -259,8 +255,7 @@ public interface HttpSession {
      * @deprecated As of Version 2.2, this method is replaced by
      *             {@link #removeAttribute}
      */
-    @SuppressWarnings("dep-ann")
-    // Spec API does not use @Deprecated
+    @Deprecated
     public void removeValue(String name);
 
     /**

==================================================
HttpUtils.java
index f1bab21e25..b78ea1d9ca 100644
--- a/java/javax/servlet/http/HttpSessionContext.java
+++ b/java/javax/servlet/http/HttpSessionContext.java
@@ -28,8 +28,7 @@ import java.util.Enumeration;
  * @see HttpSessionBindingEvent
  * @see HttpSessionBindingListener
  */
-@SuppressWarnings("dep-ann")
-// Spec API does not use @Deprecated
+@Deprecated
 public interface HttpSessionContext {
 
     /**
@@ -40,7 +39,7 @@ public interface HttpSessionContext {
      *             must return null and will be removed in a future version of
      *             this API.
      */
-    // Spec API does not use @Deprecated
+    @Deprecated
     public HttpSession getSession(String sessionId);
 
     /**
@@ -50,6 +49,6 @@ public interface HttpSessionContext {
      *             must return an empty <code>Enumeration</code> and will be
      *             removed in a future version of this API.
      */
-    // Spec API does not use @Deprecated
+    @Deprecated
     public Enumeration<String> getIds();
 }

==================================================
