b7188bba8a0e74c07eaa6c38f46d67c6a0c64495
==================================================
Use inheritance as it makes merging easier
==================================================
Mark Emlyn
==================================================
Fri Nov 6 23:35:46 2009 +0000
==================================================
ApplicationParameter.java
Use inheritance as it makes merging easier
Fix a handful of Eclipse warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833602 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ContextEjb.java
index b4fd15e435..884c983d7f 100644
--- a/java/org/apache/catalina/deploy/ApplicationParameter.java
+++ b/java/org/apache/catalina/deploy/ApplicationParameter.java
@@ -34,6 +34,7 @@ import java.io.Serializable;
 
 public class ApplicationParameter implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextEnvironment.java
index 0d1508886d..808dab0c85 100644
--- a/java/org/apache/catalina/deploy/ContextEjb.java
+++ b/java/org/apache/catalina/deploy/ContextEjb.java
@@ -18,8 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
-
 
 /**
  * Representation of an EJB resource reference for a web application, as
@@ -31,8 +29,9 @@ import java.io.Serializable;
  * @version $Revision$ $Date$
  */
 
-public class ContextEjb extends ResourceBase implements Serializable {
+public class ContextEjb extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextHandler.java
index 1cad1271a6..74b08ec27f 100644
--- a/java/org/apache/catalina/deploy/ContextEnvironment.java
+++ b/java/org/apache/catalina/deploy/ContextEnvironment.java
@@ -33,6 +33,7 @@ import java.util.List;
 
 public class ContextEnvironment implements Serializable, Injectable {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextLocalEjb.java
index 8c1472e952..5fbf14aece 100644
--- a/java/org/apache/catalina/deploy/ContextHandler.java
+++ b/java/org/apache/catalina/deploy/ContextHandler.java
@@ -18,7 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.HashMap;
@@ -31,8 +30,9 @@ import java.util.HashMap;
  * @author Fabien Carrion
  */
 
-public class ContextHandler extends ResourceBase implements Serializable {
+public class ContextHandler extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextResource.java
index 86739525c8..20b50ad8ea 100644
--- a/java/org/apache/catalina/deploy/ContextLocalEjb.java
+++ b/java/org/apache/catalina/deploy/ContextLocalEjb.java
@@ -18,8 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
-
 
 /**
  * Representation of a local EJB resource reference for a web application, as
@@ -31,8 +29,9 @@ import java.io.Serializable;
  * @version $Revision$ $Date$
  */
 
-public class ContextLocalEjb extends ResourceBase implements Serializable {
+public class ContextLocalEjb extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextResourceEnvRef.java
index e7d913bb7f..fae943ee1b 100644
--- a/java/org/apache/catalina/deploy/ContextResource.java
+++ b/java/org/apache/catalina/deploy/ContextResource.java
@@ -18,7 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
 
 /**
  * Representation of a resource reference for a web application, as
@@ -30,8 +29,9 @@ import java.io.Serializable;
  * @version $Revision$ $Date$
  */
 
-public class ContextResource extends ResourceBase implements Serializable {
+public class ContextResource extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextResourceLink.java
index da0d5ad304..3e96e8d961 100644
--- a/java/org/apache/catalina/deploy/ContextResourceEnvRef.java
+++ b/java/org/apache/catalina/deploy/ContextResourceEnvRef.java
@@ -18,8 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
-
 
 /**
  * Representation of an application resource reference, as represented in
@@ -30,8 +28,9 @@ import java.io.Serializable;
  * @version $Revision$ $Date$
  */
 
-public class ContextResourceEnvRef extends ResourceBase implements Serializable {
+public class ContextResourceEnvRef extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextService.java
index 8829d8f146..76dd54bb80 100644
--- a/java/org/apache/catalina/deploy/ContextResourceLink.java
+++ b/java/org/apache/catalina/deploy/ContextResourceLink.java
@@ -18,8 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
-
 
 /**
  * Representation of a resource link for a web application, as
@@ -31,8 +29,9 @@ import java.io.Serializable;
  * @version $Revision$ $Date$
  */
 
-public class ContextResourceLink extends ResourceBase implements Serializable {
+public class ContextResourceLink extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ContextTransaction.java
index f75dcc9254..90c5efe6e0 100644
--- a/java/org/apache/catalina/deploy/ContextService.java
+++ b/java/org/apache/catalina/deploy/ContextService.java
@@ -18,7 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
 import java.util.Iterator;
 import java.util.HashMap;
 
@@ -31,8 +30,9 @@ import java.util.HashMap;
  * @version $Revision$ $Date$
  */
 
-public class ContextService extends ResourceBase implements Serializable {
+public class ContextService extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
ErrorPage.java
index 889366e6fb..2968bf9009 100644
--- a/java/org/apache/catalina/deploy/ContextTransaction.java
+++ b/java/org/apache/catalina/deploy/ContextTransaction.java
@@ -33,6 +33,7 @@ import java.util.Iterator;
 
 public class ContextTransaction implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
FilterDef.java
index 21b88c602e..f83ad2cb7b 100644
--- a/java/org/apache/catalina/deploy/ErrorPage.java
+++ b/java/org/apache/catalina/deploy/ErrorPage.java
@@ -34,6 +34,7 @@ import java.io.Serializable;
 
 public class ErrorPage implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ----------------------------------------------------- Instance Variables
 

==================================================
InjectionTarget.java
index 35c71bfa0c..a3ddd4056d 100644
--- a/java/org/apache/catalina/deploy/FilterDef.java
+++ b/java/org/apache/catalina/deploy/FilterDef.java
@@ -34,6 +34,7 @@ import java.io.Serializable;
 
 public class FilterDef implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
MessageDestination.java
index 7bce05c251..d5fb0451b9 100644
--- a/java/org/apache/catalina/deploy/InjectionTarget.java
+++ b/java/org/apache/catalina/deploy/InjectionTarget.java
@@ -29,6 +29,7 @@ public class InjectionTarget {
 
 
     public InjectionTarget() {
+        // NOOP
     }
 
     public InjectionTarget(String targetClass, String targetName) {

==================================================
MessageDestinationRef.java
index 46445b67aa..f10cb92850 100644
--- a/java/org/apache/catalina/deploy/MessageDestination.java
+++ b/java/org/apache/catalina/deploy/MessageDestination.java
@@ -29,26 +29,13 @@ package org.apache.catalina.deploy;
  * @since Tomcat 5.0
  */
 
-public class MessageDestination {
+public class MessageDestination extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 
 
-    /**
-     * The description of this destination.
-     */
-    private String description = null;
-
-    public String getDescription() {
-        return (this.description);
-    }
-
-    public void setDescription(String description) {
-        this.description = description;
-    }
-
-
     /**
      * The display name of this destination.
      */
@@ -77,20 +64,6 @@ public class MessageDestination {
     }
 
 
-    /**
-     * The name of this destination.
-     */
-    private String name = null;
-
-    public String getName() {
-        return (this.name);
-    }
-
-    public void setName(String name) {
-        this.name = name;
-    }
-
-
     /**
      * The small icon of this destination.
      */
@@ -116,7 +89,7 @@ public class MessageDestination {
 
         StringBuilder sb = new StringBuilder("MessageDestination[");
         sb.append("name=");
-        sb.append(name);
+        sb.append(getName());
         if (displayName != null) {
             sb.append(", displayName=");
             sb.append(displayName);
@@ -129,9 +102,9 @@ public class MessageDestination {
             sb.append(", smallIcon=");
             sb.append(smallIcon);
         }
-        if (description != null) {
+        if (getDescription() != null) {
             sb.append(", description=");
-            sb.append(description);
+            sb.append(getDescription());
         }
         sb.append("]");
         return (sb.toString());

==================================================
NamingResources.java
index 9b17db87cc..51fdfdf7c4 100644
--- a/java/org/apache/catalina/deploy/MessageDestinationRef.java
+++ b/java/org/apache/catalina/deploy/MessageDestinationRef.java
@@ -18,10 +18,6 @@
 
 package org.apache.catalina.deploy;
 
-import java.io.Serializable;
-import java.util.ArrayList;
-import java.util.List;
-
 
 /**
  * <p>Representation of a message destination reference for a web application,
@@ -33,26 +29,13 @@ import java.util.List;
  * @since Tomcat 5.0
  */
 
-public class MessageDestinationRef implements Serializable, Injectable {
-
+public class MessageDestinationRef extends ResourceBase {
 
+    private static final long serialVersionUID = 1L;
+    
     // ------------------------------------------------------------- Properties
 
 
-    /**
-     * The description of this destination ref.
-     */
-    private String description = null;
-
-    public String getDescription() {
-        return (this.description);
-    }
-
-    public void setDescription(String description) {
-        this.description = description;
-    }
-
-
     /**
      * The link of this destination ref.
      */
@@ -67,34 +50,6 @@ public class MessageDestinationRef implements Serializable, Injectable {
     }
 
 
-    /**
-     * The name of this destination ref.
-     */
-    private String name = null;
-
-    public String getName() {
-        return (this.name);
-    }
-
-    public void setName(String name) {
-        this.name = name;
-    }
-
-
-    /**
-     * The type of this destination ref.
-     */
-    private String type = null;
-
-    public String getType() {
-        return (this.type);
-    }
-
-    public void setType(String type) {
-        this.type = type;
-    }
-
-
     /**
      * The usage of this destination ref.
      */
@@ -108,17 +63,6 @@ public class MessageDestinationRef implements Serializable, Injectable {
         this.usage = usage;
     }
 
-    private List<InjectionTarget> injectionTargets = new ArrayList<InjectionTarget>();
-
-    public void addInjectionTarget(String injectionTargetName, String jndiName) {
-        InjectionTarget target = new InjectionTarget(injectionTargetName, jndiName);
-        injectionTargets.add(target);
-    }
-
-    public List<InjectionTarget> getInjectionTargets() {
-        return injectionTargets;
-    }
-
     // --------------------------------------------------------- Public Methods
 
 
@@ -130,22 +74,22 @@ public class MessageDestinationRef implements Serializable, Injectable {
 
         StringBuilder sb = new StringBuilder("MessageDestination[");
         sb.append("name=");
-        sb.append(name);
+        sb.append(getName());
         if (link != null) {
             sb.append(", link=");
             sb.append(link);
         }
-        if (type != null) {
+        if (getType() != null) {
             sb.append(", type=");
-            sb.append(type);
+            sb.append(getType());
         }
         if (usage != null) {
             sb.append(", usage=");
             sb.append(usage);
         }
-        if (description != null) {
+        if (getDescription() != null) {
             sb.append(", description=");
-            sb.append(description);
+            sb.append(getDescription());
         }
         sb.append("]");
         return (sb.toString());
@@ -153,21 +97,4 @@ public class MessageDestinationRef implements Serializable, Injectable {
     }
 
 
-    // -------------------------------------------------------- Package Methods
-
-
-    /**
-     * The NamingResources with which we are associated (if any).
-     */
-    protected NamingResources resources = null;
-
-    public NamingResources getNamingResources() {
-        return (this.resources);
-    }
-
-    void setNamingResources(NamingResources resources) {
-        this.resources = resources;
-    }
-
-
 }

==================================================
ResourceBase.java
index 885d481ea7..b7e3280dae 100644
--- a/java/org/apache/catalina/deploy/NamingResources.java
+++ b/java/org/apache/catalina/deploy/NamingResources.java
@@ -40,6 +40,7 @@ import org.apache.catalina.Server;
 
 public class NamingResources implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ----------------------------------------------------------- Constructors
 
@@ -48,6 +49,7 @@ public class NamingResources implements Serializable {
      * Create a new NamingResources instance.
      */
     public NamingResources() {
+        // NOOP
     }
 
 

==================================================
SecurityCollection.java
index 79541bf00e..4602b29139 100644
--- a/java/org/apache/catalina/deploy/ResourceBase.java
+++ b/java/org/apache/catalina/deploy/ResourceBase.java
@@ -34,6 +34,7 @@ import java.util.ArrayList;
 
 public class ResourceBase implements Serializable, Injectable {
 
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
 

==================================================
SecurityConstraint.java
index 8080f55ebc..d039316c20 100644
--- a/java/org/apache/catalina/deploy/SecurityCollection.java
+++ b/java/org/apache/catalina/deploy/SecurityCollection.java
@@ -41,6 +41,8 @@ import java.io.Serializable;
 
 public class SecurityCollection implements Serializable {
 
+    private static final long serialVersionUID = 1L;
+
     // ----------------------------------------------------------- Constructors
 
 

==================================================
ServletDef.java
index ade3d0878c..36958a4c34 100644
--- a/java/org/apache/catalina/deploy/SecurityConstraint.java
+++ b/java/org/apache/catalina/deploy/SecurityConstraint.java
@@ -38,6 +38,7 @@ import java.io.Serializable;
 
 public class SecurityConstraint implements Serializable {
 
+    private static final long serialVersionUID = 1L;
 
     // ----------------------------------------------------------- Constructors
 

==================================================
