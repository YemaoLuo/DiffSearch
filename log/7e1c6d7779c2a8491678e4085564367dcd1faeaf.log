7e1c6d7779c2a8491678e4085564367dcd1faeaf
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53356
==================================================
Mark Emlyn
==================================================
Tue Jun 5 20:56:27 2012 +0000
==================================================
Mapper.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53356
Additional fix. Correct context & servlet paths

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1346581 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestMapperContextRoot.java
index 8374bd73a5..c8bafa9848 100644
--- a/java/org/apache/tomcat/util/http/mapper/Mapper.java
+++ b/java/org/apache/tomcat/util/http/mapper/Mapper.java
@@ -1036,9 +1036,9 @@ public final class Mapper {
             if (path.equals("/")) {
                 // Special handling for Context Root mapped servlet
                 mappingData.pathInfo.setString("/");
-                mappingData.wrapperPath.recycle();
+                mappingData.wrapperPath.setString("");
                 // This seems wrong but it is what the spec says...
-                mappingData.contextPath.recycle();
+                mappingData.contextPath.setString("");
             } else {
                 mappingData.wrapperPath.setString(wrappers[pos].name);
             }

==================================================
