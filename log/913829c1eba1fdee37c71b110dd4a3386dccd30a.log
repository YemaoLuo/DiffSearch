913829c1eba1fdee37c71b110dd4a3386dccd30a
==================================================
Remove unused code reported by FindBugs
==================================================
Mark Emlyn
==================================================
Sat Jan 12 21:19:40 2013 +0000
==================================================
CheckOutThreadTest.java
Remove unused code reported by FindBugs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1432516 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ConnectCountTest.java
index 1cfef43fb8..402c24daa0 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/CheckOutThreadTest.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/CheckOutThreadTest.java
@@ -17,8 +17,6 @@
 package org.apache.tomcat.jdbc.test;
 
 import java.sql.Connection;
-import java.sql.ResultSet;
-import java.sql.Statement;
 import java.util.concurrent.CountDownLatch;
 
 import javax.sql.DataSource;
@@ -373,7 +371,6 @@ public class CheckOutThreadTest extends DefaultTestCase {
 
     public class TestThread extends Thread {
         protected DataSource d;
-        protected String query = null;
         @Override
         public void run() {
             long max = -1, totalmax=0, totalcmax=0, cmax = -1, nroffetch = 0, totalruntime = 0;
@@ -387,14 +384,6 @@ public class CheckOutThreadTest extends DefaultTestCase {
                         totalmax += delta;
                         max = Math.max(delta, max);
                         nroffetch++;
-                        if (query!=null) {
-                            Statement st = con.createStatement();
-                            ResultSet rs = st.executeQuery(query);
-                            while (rs.next()) {
-                            }
-                            rs.close();
-                            st.close();
-                        }
                     } finally {
                         long cstart = System.nanoTime();
                         if (con!=null) try {con.close();}catch(Exception x) {x.printStackTrace();}

==================================================
FairnessTest.java
index e77c1092bd..7add147b66 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java
@@ -17,8 +17,6 @@
 package org.apache.tomcat.jdbc.test;
 
 import java.sql.Connection;
-import java.sql.ResultSet;
-import java.sql.Statement;
 import java.util.concurrent.CountDownLatch;
 import java.util.concurrent.Future;
 import java.util.concurrent.TimeUnit;
@@ -235,7 +233,6 @@ public class ConnectCountTest extends DefaultTestCase {
 
     public class TestThread extends Thread {
         protected DataSource d;
-        protected String query = null;
         protected long sleep = 10;
         protected boolean async = false;
         long minwait = Long.MAX_VALUE, maxwait = -1, totalwait=0, totalcmax=0, cmax = -1, nroffetch = 0, totalruntime = 0;
@@ -259,14 +256,6 @@ public class ConnectCountTest extends DefaultTestCase {
                         maxwait = Math.max(delta, maxwait);
                         minwait = Math.min(delta, minwait);
                         nroffetch++;
-                        if (query!=null) {
-                            Statement st = con.createStatement();
-                            ResultSet rs = st.executeQuery(query);
-                            while (rs.next()) {
-                            }
-                            rs.close();
-                            st.close();
-                        }
                         try {
                             if (ConnectCountTest.this.sleep>0) sleep(ConnectCountTest.this.sleep);
                         } catch (InterruptedException x) {

==================================================
