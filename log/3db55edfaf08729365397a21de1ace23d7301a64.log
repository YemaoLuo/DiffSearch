3db55edfaf08729365397a21de1ace23d7301a64
==================================================
Jakarta Server Pages 3.0 API updates (clean-up)
==================================================
Mark Thomas
==================================================
Tue May 26 15:18:54 2020 +0100
==================================================
JspContext.java
Jakarta Server Pages 3.0 API updates (clean-up)

Use of generics and addition of @Deprecated annotations. No new /
changed methods.


==================================================
JspException.java
index 855417bf73..774ba9c4f7 100644
--- a/java/jakarta/servlet/jsp/JspContext.java
+++ b/java/jakarta/servlet/jsp/JspContext.java
@@ -224,7 +224,7 @@ public abstract class JspContext {
      * @deprecated As of JSP 2.1, replaced by
      *             JspApplicationContext.getExpressionFactory()
      */
-    @SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+    @Deprecated
     public abstract jakarta.servlet.jsp.el.ExpressionEvaluator getExpressionEvaluator();
 
 
@@ -242,7 +242,7 @@ public abstract class JspContext {
      *             which can be obtained by
      *             jspContext.getELContext().getELResolver()
      */
-    @SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+    @Deprecated
     public abstract jakarta.servlet.jsp.el.VariableResolver getVariableResolver();
 
     /**

==================================================
ELException.java
index 4e7accc7e7..62450d6d76 100644
--- a/java/jakarta/servlet/jsp/JspException.java
+++ b/java/jakarta/servlet/jsp/JspException.java
@@ -94,7 +94,7 @@ public class JspException extends Exception {
      * @deprecated As of JSP 2.1, replaced by
      * <code>java.lang.Throwable.getCause()</code>
      */
-    @SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+    @Deprecated
     public Throwable getRootCause() {
         return getCause();
     }

==================================================
ELParseException.java
index 0149507335..f06bdebcfd 100644
--- a/java/jakarta/servlet/jsp/el/ELException.java
+++ b/java/jakarta/servlet/jsp/el/ELException.java
@@ -24,7 +24,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.ELException
  */
-@SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+@Deprecated
 public class ELException extends Exception {
 
     private static final long serialVersionUID = 1L;

==================================================
Expression.java
index 43678eb09f..0c32cc1974 100644
--- a/java/jakarta/servlet/jsp/el/ELParseException.java
+++ b/java/jakarta/servlet/jsp/el/ELParseException.java
@@ -24,7 +24,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.ELException
  */
-@SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+@Deprecated
 public class ELParseException extends ELException {
 
  private static final long serialVersionUID = 1L;

==================================================
ExpressionEvaluator.java
index ffe3c58893..5964e07fac 100644
--- a/java/jakarta/servlet/jsp/el/Expression.java
+++ b/java/jakarta/servlet/jsp/el/Expression.java
@@ -32,7 +32,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.ValueExpression
  */
-@SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+@Deprecated
 public abstract class Expression {
 
     /**

==================================================
FunctionMapper.java
index 7c4e6e8563..4e1897e09b 100644
--- a/java/jakarta/servlet/jsp/el/ExpressionEvaluator.java
+++ b/java/jakarta/servlet/jsp/el/ExpressionEvaluator.java
@@ -54,8 +54,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.ExpressionFactory
  */
-@SuppressWarnings("dep-ann")
-// TCK signature test fails with annotation
+@Deprecated
 public abstract class ExpressionEvaluator {
 
     /**
@@ -82,9 +81,8 @@ public abstract class ExpressionEvaluator {
      * @exception ELException
      *                Thrown if parsing errors were found.
      */
-    public abstract Expression parseExpression(String expression,
-            @SuppressWarnings("rawtypes")// TCK signature fails with generics
-            Class expectedType, FunctionMapper fMapper) throws ELException;
+    public abstract Expression parseExpression(String expression, Class<?> expectedType,
+            FunctionMapper fMapper) throws ELException;
 
     /**
      * Evaluates an expression. This method may perform some syntactic
@@ -107,9 +105,6 @@ public abstract class ExpressionEvaluator {
      * @exception ELException
      *                Thrown if the expression evaluation failed.
      */
-    public abstract Object evaluate(
-            String expression,
-            @SuppressWarnings("rawtypes")// TCK signature fails with generics
-            Class expectedType, VariableResolver vResolver,
+    public abstract Object evaluate(String expression, Class<?> expectedType, VariableResolver vResolver,
             FunctionMapper fMapper) throws ELException;
 }

==================================================
ImplicitObjectELResolver.java
index 1242e54c9e..83f14cfe5e 100644
--- a/java/jakarta/servlet/jsp/el/FunctionMapper.java
+++ b/java/jakarta/servlet/jsp/el/FunctionMapper.java
@@ -26,7 +26,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.FunctionMapper
  */
-@SuppressWarnings("dep-ann") // TCK signature test fails with annotation
+@Deprecated
 public interface FunctionMapper {
   /**
    * Resolves the specified local name and prefix into a Java.lang.Method.

==================================================
VariableResolver.java
index 8ebd74db00..a7ba18ad50 100644
--- a/java/jakarta/servlet/jsp/el/ImplicitObjectELResolver.java
+++ b/java/jakarta/servlet/jsp/el/ImplicitObjectELResolver.java
@@ -117,8 +117,7 @@ public class ImplicitObjectELResolver extends ELResolver {
     }
 
     @Override
-    @SuppressWarnings({ "unchecked", "rawtypes" }) // TCK signature test fails with generics
-    public Class getType(ELContext context, Object base, Object property) {
+    public Class<?> getType(ELContext context, Object base, Object property) {
         Objects.requireNonNull(context);
 
         if (base == null && property != null) {

==================================================
BodyTag.java
index d7352b2a39..752a11c9d1 100644
--- a/java/jakarta/servlet/jsp/el/VariableResolver.java
+++ b/java/jakarta/servlet/jsp/el/VariableResolver.java
@@ -32,8 +32,7 @@ package jakarta.servlet.jsp.el;
  * @since 2.0
  * @deprecated As of JSP 2.1, replaced by jakarta.el.ELResolver
  */
-@SuppressWarnings("dep-ann")
-// TCK signature test fails with annotation
+@Deprecated
 public interface VariableResolver {
 
     /**

==================================================
TagSupport.java
index 4a6ade5438..abee1c1c38 100644
--- a/java/jakarta/servlet/jsp/tagext/BodyTag.java
+++ b/java/jakarta/servlet/jsp/tagext/BodyTag.java
@@ -108,8 +108,7 @@ public interface BodyTag extends IterationTag {
      * @deprecated As of Java JSP API 1.2, use BodyTag.EVAL_BODY_BUFFERED or
      *             IterationTag.EVAL_BODY_AGAIN.
      */
-    @SuppressWarnings("dep-ann")
-    // TCK signature test fails with annotation
+    @Deprecated
     public static final int EVAL_BODY_TAG = 2;
 
     /**

==================================================
