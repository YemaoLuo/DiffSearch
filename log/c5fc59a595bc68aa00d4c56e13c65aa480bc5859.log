c5fc59a595bc68aa00d4c56e13c65aa480bc5859
==================================================
Remove deprecated RealmBase.getName() and associated code.
==================================================
Mark Thomas
==================================================
Fri Nov 25 09:48:26 2016 +0000
==================================================
CombinedRealm.java
Remove deprecated RealmBase.getName() and associated code.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1771269 13f79535-47bb-0310-9956-ffa450edef68



==================================================
DataSourceRealm.java
index ed48e0ea66..c04aed1f9d 100644
--- a/java/org/apache/catalina/realm/CombinedRealm.java
+++ b/java/org/apache/catalina/realm/CombinedRealm.java
@@ -50,13 +50,6 @@ public class CombinedRealm extends RealmBase {
      */
     protected final List<Realm> realms = new LinkedList<>();
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "CombinedRealm";
-
     /**
      * Add a realm to the list of realms that will be used to authenticate
      * users.
@@ -393,12 +386,6 @@ public class CombinedRealm extends RealmBase {
         return null;
     }
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
     @Override
     protected String getPassword(String username) {
         // This method should never be called

==================================================
JAASRealm.java
index 0868241cd6..6549ce8d07 100644
--- a/java/org/apache/catalina/realm/DataSourceRealm.java
+++ b/java/org/apache/catalina/realm/DataSourceRealm.java
@@ -71,14 +71,6 @@ public class DataSourceRealm extends RealmBase {
     protected boolean localDataSource = false;
 
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "DataSourceRealm";
-
-
     /**
      * The column in the user role table that names a role
      */
@@ -402,12 +394,6 @@ public class DataSourceRealm extends RealmBase {
         return null;
     }
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
     /**
      * @return the password associated with the given principal's user name.
      */

==================================================
JDBCRealm.java
index bbc3b305fb..b13ec62635 100644
--- a/java/org/apache/catalina/realm/JAASRealm.java
+++ b/java/org/apache/catalina/realm/JAASRealm.java
@@ -139,14 +139,6 @@ public class JAASRealm extends RealmBase {
     protected String appName = null;
 
 
-    /**
-     * Descriptive information about this <code>Realm</code> implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "JAASRealm";
-
-
     /**
      * The list of role class names, split out for easy processing.
      */
@@ -471,13 +463,6 @@ public class JAASRealm extends RealmBase {
     }
 
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
-
     /**
      * @return the password associated with the given principal's user name. This
      * always returns null as the JAASRealm has no way of obtaining this

==================================================
JNDIRealm.java
index b68e6bc3c2..70ff20d5c5 100644
--- a/java/org/apache/catalina/realm/JDBCRealm.java
+++ b/java/org/apache/catalina/realm/JDBCRealm.java
@@ -91,14 +91,6 @@ public class JDBCRealm
     protected String driverName = null;
 
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "JDBCRealm";
-
-
     /**
      * The PreparedStatement to use for authenticating users.
      */
@@ -502,13 +494,6 @@ public class JDBCRealm
     }
 
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
-
     /**
      * Get the password for the specified user.
      * @param username The user name

==================================================
LockOutRealm.java
index 572409fca2..11c164ad2d 100644
--- a/java/org/apache/catalina/realm/JNDIRealm.java
+++ b/java/org/apache/catalina/realm/JNDIRealm.java
@@ -234,14 +234,6 @@ public class JNDIRealm extends RealmBase {
     public static final String DEREF_ALIASES = "java.naming.ldap.derefAliases";
 
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "JNDIRealm";
-
-
     /**
      * The protocol that will be used in the communication with the
      * directory server.
@@ -2169,13 +2161,6 @@ public class JNDIRealm extends RealmBase {
     }
 
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
-
     /**
      * Get the password for the specified user.
      * @param username The user name

==================================================
MemoryRealm.java
index ddfb764fa6..06e0377b72 100644
--- a/java/org/apache/catalina/realm/LockOutRealm.java
+++ b/java/org/apache/catalina/realm/LockOutRealm.java
@@ -46,11 +46,6 @@ public class LockOutRealm extends CombinedRealm {
 
     private static final Log log = LogFactory.getLog(LockOutRealm.class);
 
-    /**
-     * Descriptive information about this Realm implementation.
-     */
-    protected static final String name = "LockOutRealm";
-
     /**
      * The number of times in a row a user has to fail authentication to be
      * locked out. Defaults to 5.
@@ -334,12 +329,6 @@ public class LockOutRealm extends CombinedRealm {
     }
 
 
-    @Override
-    protected String getName() {
-        return name;
-    }
-
-
     /**
      * Set the period for which an account will be locked.
      * @param lockOutTime the lockOutTime to set

==================================================
NullRealm.java
index 7cc7b88686..7944240801 100644
--- a/java/org/apache/catalina/realm/MemoryRealm.java
+++ b/java/org/apache/catalina/realm/MemoryRealm.java
@@ -55,14 +55,6 @@ public class MemoryRealm  extends RealmBase {
     private static Digester digester = null;
 
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "MemoryRealm";
-
-
     /**
      * The pathname (absolute or relative to Catalina's current working
      * directory) of the XML file containing our database information.
@@ -208,13 +200,6 @@ public class MemoryRealm  extends RealmBase {
     }
 
 
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
-
-
     /**
      * @return the password associated with the given principal's user name.
      */

==================================================
RealmBase.java
index a1159082de..e801b5e6d7 100644
--- a/java/org/apache/catalina/realm/NullRealm.java
+++ b/java/org/apache/catalina/realm/NullRealm.java
@@ -25,14 +25,6 @@ import java.security.Principal;
  */
 public class NullRealm extends RealmBase {
 
-    private static final String NAME = "NullRealm";
-
-    @Override
-    @Deprecated
-    protected String getName() {
-        return NAME;
-    }
-
     @Override
     protected String getPassword(String username) {
         // Always return null

==================================================
UserDatabaseRealm.java
index f62b94397a..96a6504bce 100644
--- a/java/org/apache/catalina/realm/RealmBase.java
+++ b/java/org/apache/catalina/realm/RealmBase.java
@@ -1163,17 +1163,6 @@ public abstract class RealmBase extends LifecycleMBeanBase implements Realm {
     }
 
 
-    /**
-     * @return a short name for this Realm implementation, for use in
-     * log messages.
-     *
-     * @deprecated This will be removed in Tomcat 9 onwards. Use
-     *             {@link Class#getSimpleName()} instead.
-     */
-    @Deprecated
-    protected abstract String getName();
-
-
     /**
      * Get the password for the specified user.
      * @param username The user name

==================================================
Tomcat.java
index a7e4af2488..50fc2f050c 100644
--- a/java/org/apache/catalina/realm/UserDatabaseRealm.java
+++ b/java/org/apache/catalina/realm/UserDatabaseRealm.java
@@ -59,14 +59,6 @@ public class UserDatabaseRealm
     protected UserDatabase database = null;
 
 
-    /**
-     * Descriptive information about this Realm implementation.
-     * @deprecated This will be removed in Tomcat 9 onwards.
-     */
-    @Deprecated
-    protected static final String name = "UserDatabaseRealm";
-
-
     /**
      * The global JNDI name of the <code>UserDatabase</code> resource
      * we will be utilizing.
@@ -154,15 +146,8 @@ public class UserDatabaseRealm
         return false;
     }
 
-    // ------------------------------------------------------ Protected Methods
-
-
-    @Override
-    @Deprecated
-    protected String getName() {
-        return name;
-    }
 
+    // ------------------------------------------------------ Protected Methods
 
     /**
      * Return the password associated with the given principal's user name.

==================================================
TesterMapRealm.java
index 5395394fae..532f396ac2 100644
--- a/java/org/apache/catalina/startup/Tomcat.java
+++ b/java/org/apache/catalina/startup/Tomcat.java
@@ -648,11 +648,6 @@ public class Tomcat {
 
 
     private class SimpleRealm extends RealmBase {
-        @Override
-        @Deprecated
-        protected String getName() {
-            return "Simple";
-        }
 
         @Override
         protected String getPassword(String username) {

==================================================
