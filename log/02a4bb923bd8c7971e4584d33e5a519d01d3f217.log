02a4bb923bd8c7971e4584d33e5a519d01d3f217
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58397
==================================================
Mark Thomas
==================================================
Fri Sep 18 08:22:11 2015 +0000
==================================================
AbstractSender.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58397
Remove unnecessary duplicated connected field and fix a rare data race on close.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1703763 13f79535-47bb-0310-9956-ffa450edef68



==================================================
PooledParallelSender.java
index 8e2b76503e..77be39e6a0 100644
--- a/java/org/apache/catalina/tribes/transport/AbstractSender.java
+++ b/java/org/apache/catalina/tribes/transport/AbstractSender.java
@@ -24,7 +24,7 @@ import org.apache.catalina.tribes.Member;
 
 public abstract class AbstractSender implements DataSender {
 
-    private boolean connected = false;
+    private volatile boolean connected = false;
     private int rxBufSize = 25188;
     private int txBufSize = 43800;
     private int udpRxBufSize = 25188;

==================================================
