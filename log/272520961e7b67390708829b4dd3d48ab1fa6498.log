272520961e7b67390708829b4dd3d48ab1fa6498
==================================================
Refactor to align Processor implementations.
==================================================
Mark Thomas
==================================================
Wed Sep 30 13:37:07 2015 +0000
==================================================
Http11OutputBuffer.java
Refactor to align Processor implementations.
The other processors call commit from the CLIENT_FLUSH action

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1706032 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Processor.java
index 8386da05db..3a5d1e8bc5 100644
--- a/java/org/apache/coyote/http11/Http11OutputBuffer.java
+++ b/java/org/apache/coyote/http11/Http11OutputBuffer.java
@@ -233,14 +233,6 @@ public class Http11OutputBuffer implements OutputBuffer {
      * @throws IOException an underlying I/O error occurred
      */
     public void flush() throws IOException {
-
-        if (!committed) {
-            // Send the connector a request for commit. The connector should
-            // then validate the headers, send them (using sendHeader) and
-            // set the filters accordingly.
-            response.action(ActionCode.COMMIT, null);
-        }
-
         // go through the filters and if there is gzip filter
         // invoke it to flush
         for (int i = 0; i <= lastActiveFilter; i++) {

==================================================
