05d21e679549f2f169483c739e57eb8a4d65d021
==================================================
Make initial setting of timeouts consistent across the connectors.
==================================================
Mark Thomas
==================================================
Mon Feb 23 11:20:20 2015 +0000
==================================================
Nio2Endpoint.java
Make initial setting of timeouts consistent across the connectors.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1661641 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioEndpoint.java
index a4d215b68f..18b44ac7b7 100644
--- a/java/org/apache/tomcat/util/net/Nio2Endpoint.java
+++ b/java/org/apache/tomcat/util/net/Nio2Endpoint.java
@@ -514,6 +514,8 @@ public class Nio2Endpoint extends AbstractEndpoint<Nio2Channel> {
             socketWrapper.reset(channel, getSocketProperties().getSoTimeout());
             socketWrapper.setKeepAliveLeft(Nio2Endpoint.this.getMaxKeepAliveRequests());
             socketWrapper.setSecure(isSSLEnabled());
+            socketWrapper.setReadTimeout(getSoTimeout());
+            socketWrapper.setWriteTimeout(getSoTimeout());
             // Continue processing on another thread
             processSocket(socketWrapper, SocketStatus.OPEN_READ, true);
         } catch (Throwable t) {

==================================================
