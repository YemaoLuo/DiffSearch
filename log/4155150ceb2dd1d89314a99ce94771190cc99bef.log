4155150ceb2dd1d89314a99ce94771190cc99bef
==================================================
Configure Tomcat trunk to build with Java 7.
==================================================
Filip Hanik
==================================================
Thu Jul 12 15:38:28 2012 +0000
==================================================
Connection.java
index 42a6e4d552..3e33a75dc4 100644
--- a/build.xml
+++ b/build.xml
@@ -2426,6 +2426,13 @@ Apache Tomcat ${version} native binaries for Win64 AMD64/EMT64 platform.
         <exclude name="**/managed/**" />
       </fileset>
     </copy>
+    <echo>Copied files to ${tomcat-dbcp.home}</echo>
+    
+    <patch patchfile="${basedir}/res/dbcp/dbcp-java-7.patch" 
+           dir="${tomcat-dbcp.home}" 
+           ignorewhitespace="true"
+           strip="0"/>
+    
     <replace dir="${tomcat-dbcp.home}/src/java/org/apache/commons"
         encoding="ISO-8859-1">
       <replacefilter token="org.apache.commons"

==================================================
Driver.java
index 1f8301e10a..2c614e74a1 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Connection.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Connection.java
@@ -285,25 +285,36 @@ public class Connection implements java.sql.Connection {
         return null;
     }
 
-    // ---------------------------------------------------------- Java 7 methods
-    // Can't add @Override annotations since this code also has to compile with
-    // Java 6 for Tomcat 7.
-
+    @Override
     public void setSchema(String schema) throws SQLException {
+        // TODO Auto-generated method stub
+
     }
 
+    @Override
     public String getSchema() throws SQLException {
+        // TODO Auto-generated method stub
         return null;
     }
 
+    @Override
     public void abort(Executor executor) throws SQLException {
+        // TODO Auto-generated method stub
+
     }
 
-    public void setNetworkTimeout(Executor executor, int milliseconds)
-            throws SQLException {
+    @Override
+    public void setNetworkTimeout(Executor executor, int milliseconds) throws SQLException {
+        // TODO Auto-generated method stub
+
     }
 
+    @Override
     public int getNetworkTimeout() throws SQLException {
+        // TODO Auto-generated method stub
         return 0;
     }
+
+
+
 }

==================================================
ResultSet.java
index 046f264439..7e0bb8d19f 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Driver.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/Driver.java
@@ -78,12 +78,11 @@ public class Driver implements java.sql.Driver {
         return false;
     }
 
-    // ---------------------------------------------------------- Java 7 methods
-    // Can't add @Override annotations since this code also has to compile with
-    // Java 6 for Tomcat 7.
-
     @Override
     public Logger getParentLogger() throws SQLFeatureNotSupportedException {
+        // TODO Auto-generated method stub
         return null;
     }
+
+
 }

==================================================
Statement.java
index d5357231d9..5495496299 100644
--- a/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/ResultSet.java
+++ b/modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/driver/ResultSet.java
@@ -1208,16 +1208,17 @@ public class ResultSet implements java.sql.ResultSet {
         return null;
     }
 
-    // ---------------------------------------------------------- Java 7 methods
-    // Can't add @Override annotations since this code also has to compile with
-    // Java 6 for Tomcat 7.
-
+    @Override
     public <T> T getObject(int columnIndex, Class<T> type) throws SQLException {
+        // TODO Auto-generated method stub
         return null;
     }
 
-    public <T> T getObject(String columnLabel, Class<T> type)
-            throws SQLException {
+    @Override
+    public <T> T getObject(String columnLabel, Class<T> type) throws SQLException {
+        // TODO Auto-generated method stub
         return null;
     }
+
+
 }

==================================================
