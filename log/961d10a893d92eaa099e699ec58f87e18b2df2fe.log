961d10a893d92eaa099e699ec58f87e18b2df2fe
==================================================
StringManagers should be static final
==================================================
Mark Emlyn
==================================================
Mon Nov 9 21:06:37 2009 +0000
==================================================
Connector.java
StringManagers should be static final

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834233 13f79535-47bb-0310-9956-ffa450edef68



==================================================
CoyoteAdapter.java
index 1a4571c2ab..0b06ad8663 100644
--- a/java/org/apache/catalina/connector/Connector.java
+++ b/java/org/apache/catalina/connector/Connector.java
@@ -187,7 +187,7 @@ public class Connector
     /**
      * The string manager for this package.
      */
-    protected StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
MapperListener.java
index 026c129c5e..5140776d7a 100644
--- a/java/org/apache/catalina/connector/CoyoteAdapter.java
+++ b/java/org/apache/catalina/connector/CoyoteAdapter.java
@@ -106,7 +106,7 @@ public class CoyoteAdapter
     /**
      * The string manager for this package.
      */
-    protected StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
JasperListener.java
index 16343ec1d8..67e48c15ea 100644
--- a/java/org/apache/catalina/connector/MapperListener.java
+++ b/java/org/apache/catalina/connector/MapperListener.java
@@ -76,7 +76,7 @@ public class MapperListener
     /**
      * The string manager for this package.
      */
-    private StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     // It should be null - and fail if not set

==================================================
ClusterListener.java
index 255b683e7d..def74db30c 100644
--- a/java/org/apache/catalina/core/JasperListener.java
+++ b/java/org/apache/catalina/core/JasperListener.java
@@ -43,7 +43,7 @@ public class JasperListener
     /**
      * The string manager for this package.
      */
-    protected StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
JvmRouteBinderValve.java
index 3d3b9c032e..bc4740fce4 100644
--- a/java/org/apache/catalina/ha/ClusterListener.java
+++ b/java/org/apache/catalina/ha/ClusterListener.java
@@ -45,7 +45,7 @@ public abstract class ClusterListener implements ChannelListener {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     protected CatalinaCluster cluster = null;
 

==================================================
SimpleTcpCluster.java
index 754ea7ee12..c53ad12be4 100644
--- a/java/org/apache/catalina/ha/session/JvmRouteBinderValve.java
+++ b/java/org/apache/catalina/ha/session/JvmRouteBinderValve.java
@@ -123,7 +123,7 @@ public class JvmRouteBinderValve extends ValveBase implements ClusterValve, Life
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     /**
      * Has this component been started yet?

==================================================
StoreBase.java
index 2c5c848bb5..ec74166bbf 100644
--- a/java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java
+++ b/java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java
@@ -119,7 +119,7 @@ public class SimpleTcpCluster
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     /**
      * The cluster name to join

==================================================
McastService.java
index 0d1a9dddd0..5d45192de4 100644
--- a/java/org/apache/catalina/session/StoreBase.java
+++ b/java/org/apache/catalina/session/StoreBase.java
@@ -70,7 +70,7 @@ public abstract class StoreBase
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     /**
      * The Manager with which this JDBCStore is associated.

==================================================
ReplicationTransmitter.java
index 0f913b38f0..3b23603644 100644
--- a/java/org/apache/catalina/tribes/membership/McastService.java
+++ b/java/org/apache/catalina/tribes/membership/McastService.java
@@ -52,7 +52,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     /**
      * The descriptive information about this implementation.

==================================================
NioReceiver.java
index b0acc51e39..471d8dc23f 100644
--- a/java/org/apache/catalina/tribes/transport/ReplicationTransmitter.java
+++ b/java/org/apache/catalina/tribes/transport/ReplicationTransmitter.java
@@ -42,7 +42,7 @@ public class ReplicationTransmitter implements ChannelSender {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     
 

==================================================
AccessLogValve.java
index b2f5154db9..6866e85ccc 100644
--- a/java/org/apache/catalina/tribes/transport/nio/NioReceiver.java
+++ b/java/org/apache/catalina/tribes/transport/nio/NioReceiver.java
@@ -51,7 +51,7 @@ public class NioReceiver extends ReceiverBase implements Runnable, ChannelReceiv
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     /**
      * The descriptive information about this implementation.

==================================================
CometConnectionManagerValve.java
index 6f4c3230a7..05e54a30e5 100644
--- a/java/org/apache/catalina/valves/AccessLogValve.java
+++ b/java/org/apache/catalina/valves/AccessLogValve.java
@@ -199,7 +199,7 @@ public class AccessLogValve
     /**
      * The string manager for this package.
      */
-    protected StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
JDBCAccessLogValve.java
index 0800ed1a92..67905ba145 100644
--- a/java/org/apache/catalina/valves/CometConnectionManagerValve.java
+++ b/java/org/apache/catalina/valves/CometConnectionManagerValve.java
@@ -77,7 +77,7 @@ public class CometConnectionManagerValve
     /**
      * The string manager for this package.
      */
-    protected StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
SemaphoreValve.java
index 20931b3f8c..ca3370b35c 100644
--- a/java/org/apache/catalina/valves/JDBCAccessLogValve.java
+++ b/java/org/apache/catalina/valves/JDBCAccessLogValve.java
@@ -230,7 +230,7 @@ public final class JDBCAccessLogValve
     /**
      * The string manager for this package.
      */
-    private StringManager sm = StringManager.getManager(Constants.Package);
+    private static final StringManager sm = StringManager.getManager(Constants.Package);
 
 
     /**

==================================================
NamingContext.java
index ebb738437e..107b4c1fa1 100644
--- a/java/org/apache/catalina/valves/SemaphoreValve.java
+++ b/java/org/apache/catalina/valves/SemaphoreValve.java
@@ -65,7 +65,7 @@ public class SemaphoreValve
     /**
      * The string manager for this package.
      */
-    private StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
SelectorContext.java
index 2bedf27459..8a5060c83b 100644
--- a/java/org/apache/naming/NamingContext.java
+++ b/java/org/apache/naming/NamingContext.java
@@ -108,7 +108,7 @@ public class NamingContext implements Context {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
 
     /**

==================================================
BaseDirContext.java
index a0ab04b791..1fa5c0b01f 100644
--- a/java/org/apache/naming/SelectorContext.java
+++ b/java/org/apache/naming/SelectorContext.java
@@ -95,7 +95,7 @@ public class SelectorContext implements Context {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
 
     /**

==================================================
ProxyDirContext.java
index 3b6f9d0c8e..0cf6509c3f 100644
--- a/java/org/apache/naming/resources/BaseDirContext.java
+++ b/java/org/apache/naming/resources/BaseDirContext.java
@@ -91,7 +91,7 @@ public abstract class BaseDirContext implements DirContext {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
 
     /**

==================================================
AbstractEndpoint.java
index 2569c9d262..78ff5741dc 100644
--- a/java/org/apache/naming/resources/ProxyDirContext.java
+++ b/java/org/apache/naming/resources/ProxyDirContext.java
@@ -134,7 +134,7 @@ public class ProxyDirContext implements DirContext {
     /**
      * The string manager for this package.
      */
-    protected StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
 
     /**

==================================================
