a6a0abcfb1bf71f527804ce872d68d2f3c231cf9
==================================================
BZ64226: Reset timezone after parsing a date
==================================================
remm remm@apache.org
==================================================
Fri Mar 20 10:46:10 2020 +0100
==================================================
ConcurrentDateFormat.java
BZ64226: Reset timezone after parsing a date

As the date format is reused, this has to be reset. Test case submitted
by Gary Thomas.


==================================================
TestConcurrentDateFormat.java
index 9ce953f1c3..02a456f20a 100644
--- a/java/org/apache/tomcat/util/http/ConcurrentDateFormat.java
+++ b/java/org/apache/tomcat/util/http/ConcurrentDateFormat.java
@@ -60,6 +60,7 @@ public class ConcurrentDateFormat {
             sdf = createInstance();
         }
         Date result = sdf.parse(source);
+        sdf.setTimeZone(timezone);
         queue.add(sdf);
         return result;
     }

==================================================
