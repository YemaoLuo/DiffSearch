de1c9099d7f94a8e04438db68424e40ad17d3898
==================================================
Use final. Reference array classes directly
==================================================
Mark Emlyn
==================================================
Tue Jan 31 09:33:30 2012 +0000
==================================================
MbeansDescriptorsDigesterSource.java
Use final. Reference array classes directly

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1238326 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MbeansDescriptorsIntrospectionSource.java
index 03d6f19a53..9bbafbc402 100644
--- a/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsDigesterSource.java
+++ b/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsDigesterSource.java
@@ -39,7 +39,7 @@ public class MbeansDescriptorsDigesterSource extends ModelerSource
 
     private Registry registry;
     private String type;
-    private List<ObjectName> mbeans = new ArrayList<ObjectName>();
+    private final List<ObjectName> mbeans = new ArrayList<ObjectName>();
     private static volatile Digester digester = null;
 
     private static Digester createDigester() {

==================================================
MbeansDescriptorsSerSource.java
index 5c239e4df1..22651ebdb9 100644
--- a/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsIntrospectionSource.java
+++ b/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsIntrospectionSource.java
@@ -42,7 +42,7 @@ public class MbeansDescriptorsIntrospectionSource extends ModelerSource
 
     private Registry registry;
     private String type;
-    private List<ObjectName> mbeans = new ArrayList<ObjectName>();
+    private final List<ObjectName> mbeans = new ArrayList<ObjectName>();
 
     public void setRegistry(Registry reg) {
         this.registry=reg;
@@ -89,18 +89,14 @@ public class MbeansDescriptorsIntrospectionSource extends ModelerSource
 
     // ------------ Implementation for non-declared introspection classes
 
-    private static Hashtable<String,String> specialMethods =
+    private static final Hashtable<String,String> specialMethods =
         new Hashtable<String,String>();
     static {
         specialMethods.put( "preDeregister", "");
         specialMethods.put( "postDeregister", "");
     }
 
-    private static String strArray[]=new String[0];
-    private static ObjectName objNameArray[]=new ObjectName[0];
-    // createMBean == registerClass + registerMBean
-
-    private static Class<?>[] supportedTypes  = new Class[] {
+    private static final Class<?>[] supportedTypes  = new Class[] {
         Boolean.class,
         Boolean.TYPE,
         Byte.class,
@@ -118,11 +114,11 @@ public class MbeansDescriptorsIntrospectionSource extends ModelerSource
         Double.class,
         Double.TYPE,
         String.class,
-        strArray.getClass(),
+        String[].class,
         BigDecimal.class,
         BigInteger.class,
         ObjectName.class,
-        objNameArray.getClass(),
+        Object[].class,
         java.io.File.class,
     };
 

==================================================
