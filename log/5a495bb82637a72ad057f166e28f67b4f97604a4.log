5a495bb82637a72ad057f166e28f67b4f97604a4
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=62685
==================================================
Mark Thomas
==================================================
Wed Sep 12 13:15:43 2018 +0000
==================================================
HttpParser.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=62685
Correct an error in host name validation parsing that did not allow a fully qualified domain name to terminate with a period.
Patch provided by AG.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1840681 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestHttpParserHost.java
index 827f2c57d8..1edc56d9f2 100644
--- a/java/org/apache/tomcat/util/http/parser/HttpParser.java
+++ b/java/org/apache/tomcat/util/http/parser/HttpParser.java
@@ -865,7 +865,7 @@ public class HttpParser {
         NEW(     true, false, false, false, " at the start of"),
         ALPHA(   true,  true,  true,  true, " after a letter in"),
         NUMERIC( true,  true,  true,  true, " after a number in"),
-        PERIOD(  true, false, false, false, " after a period in"),
+        PERIOD(  true, false, false,  true, " after a period in"),
         HYPHEN(  true,  true, false, false, " after a hypen in"),
         COLON(  false, false, false, false, " after a colon in"),
         END(    false, false, false, false, " at the end of");

==================================================
