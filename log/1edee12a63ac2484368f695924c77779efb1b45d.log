1edee12a63ac2484368f695924c77779efb1b45d
==================================================
StringManagers should be final
==================================================
Mark Emlyn
==================================================
Mon Nov 9 21:00:22 2009 +0000
==================================================
SingleSignOn.java
StringManagers should be final

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834229 13f79535-47bb-0310-9956-ffa450edef68



==================================================
CometEventImpl.java
index ea0805bb1c..6a4d6ce337 100644
--- a/java/org/apache/catalina/authenticator/SingleSignOn.java
+++ b/java/org/apache/catalina/authenticator/SingleSignOn.java
@@ -111,7 +111,7 @@ public class SingleSignOn
     /**
      * The string manager for this package.
      */
-    protected final static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
InputBuffer.java
index 051d566677..10951362bb 100644
--- a/java/org/apache/catalina/connector/CometEventImpl.java
+++ b/java/org/apache/catalina/connector/CometEventImpl.java
@@ -33,7 +33,7 @@ public class CometEventImpl implements CometEvent {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
Request.java
index 62ae695463..8f07428b06 100644
--- a/java/org/apache/catalina/connector/InputBuffer.java
+++ b/java/org/apache/catalina/connector/InputBuffer.java
@@ -48,7 +48,7 @@ public class InputBuffer extends Reader
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
RequestFacade.java
index 32de3d2cb3..ed003ce011 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -145,7 +145,7 @@ public class Request
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
Response.java
index 3d8cad8d41..b9bd19276e 100644
--- a/java/org/apache/catalina/connector/RequestFacade.java
+++ b/java/org/apache/catalina/connector/RequestFacade.java
@@ -235,7 +235,7 @@ public class RequestFacade implements HttpServletRequest {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ResponseFacade.java
index d951e0534f..be00215097 100644
--- a/java/org/apache/catalina/connector/Response.java
+++ b/java/org/apache/catalina/connector/Response.java
@@ -93,7 +93,7 @@ public class Response
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ApplicationFilterConfig.java
index 159ea24500..0083acfa04 100644
--- a/java/org/apache/catalina/connector/ResponseFacade.java
+++ b/java/org/apache/catalina/connector/ResponseFacade.java
@@ -108,7 +108,7 @@ public class ResponseFacade
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ApplicationHttpRequest.java
index a61d52f1a5..fabeaec71d 100644
--- a/java/org/apache/catalina/core/ApplicationFilterConfig.java
+++ b/java/org/apache/catalina/core/ApplicationFilterConfig.java
@@ -58,7 +58,7 @@ import org.apache.tomcat.util.modeler.Registry;
 public final class ApplicationFilterConfig implements FilterConfig, Serializable {
 
 
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     private static org.apache.juli.logging.Log log =

==================================================
ApplicationHttpResponse.java
index 7bccc50969..07eb79377d 100644
--- a/java/org/apache/catalina/core/ApplicationHttpRequest.java
+++ b/java/org/apache/catalina/core/ApplicationHttpRequest.java
@@ -79,7 +79,7 @@ class ApplicationHttpRequest extends HttpServletRequestWrapper {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ApplicationRequest.java
index 2af99e7be1..6ef81647c6 100644
--- a/java/org/apache/catalina/core/ApplicationHttpResponse.java
+++ b/java/org/apache/catalina/core/ApplicationHttpResponse.java
@@ -99,7 +99,7 @@ class ApplicationHttpResponse extends HttpServletResponseWrapper {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ApplicationResponse.java
index c46ab2e486..7775706c20 100644
--- a/java/org/apache/catalina/core/ApplicationRequest.java
+++ b/java/org/apache/catalina/core/ApplicationRequest.java
@@ -93,7 +93,7 @@ class ApplicationRequest extends ServletRequestWrapper {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AprLifecycleListener.java
index 2267d85559..845972decd 100644
--- a/java/org/apache/catalina/core/ApplicationResponse.java
+++ b/java/org/apache/catalina/core/ApplicationResponse.java
@@ -89,7 +89,7 @@ class ApplicationResponse extends ServletResponseWrapper {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ContainerBase.java
index 455018ebf5..1593e85294 100644
--- a/java/org/apache/catalina/core/AprLifecycleListener.java
+++ b/java/org/apache/catalina/core/AprLifecycleListener.java
@@ -49,7 +49,7 @@ public class AprLifecycleListener
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
NamingContextListener.java
index 67beb7f080..6353e08cb8 100644
--- a/java/org/apache/catalina/core/ContainerBase.java
+++ b/java/org/apache/catalina/core/ContainerBase.java
@@ -247,7 +247,7 @@ public abstract class ContainerBase
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
StandardPipeline.java
index afadf80322..1007e43e31 100644
--- a/java/org/apache/catalina/core/NamingContextListener.java
+++ b/java/org/apache/catalina/core/NamingContextListener.java
@@ -142,7 +142,7 @@ public class NamingContextListener
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
DeltaManager.java
index dc673e7dbd..63916009eb 100644
--- a/java/org/apache/catalina/core/StandardPipeline.java
+++ b/java/org/apache/catalina/core/StandardPipeline.java
@@ -114,7 +114,7 @@ public class StandardPipeline
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
DeltaRequest.java
index 98ff509ae3..7de03b8eee 100644
--- a/java/org/apache/catalina/ha/session/DeltaManager.java
+++ b/java/org/apache/catalina/ha/session/DeltaManager.java
@@ -73,7 +73,7 @@ public class DeltaManager extends ClusterManagerBase{
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     // ----------------------------------------------------- Instance Variables
 

==================================================
DeltaSession.java
index e9d4e3f3ac..3fa274e7f2 100644
--- a/java/org/apache/catalina/ha/session/DeltaRequest.java
+++ b/java/org/apache/catalina/ha/session/DeltaRequest.java
@@ -46,7 +46,7 @@ public class DeltaRequest implements Externalizable {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm = StringManager
+    protected static final StringManager sm = StringManager
             .getManager(Constants.Package);
 
     public static final int TYPE_ATTRIBUTE = 0;

==================================================
SerializablePrincipal.java
index 4a9c573bca..6f9e986190 100644
--- a/java/org/apache/catalina/ha/session/DeltaSession.java
+++ b/java/org/apache/catalina/ha/session/DeltaSession.java
@@ -67,7 +67,7 @@ public class DeltaSession extends StandardSession implements Externalizable,Clus
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     // ----------------------------------------------------- Instance Variables
 

==================================================
ReplicationValve.java
index a32b1b4d9c..a7be80ab65 100644
--- a/java/org/apache/catalina/ha/session/SerializablePrincipal.java
+++ b/java/org/apache/catalina/ha/session/SerializablePrincipal.java
@@ -50,7 +50,7 @@ public class SerializablePrincipal  implements java.io.Serializable {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     // ----------------------------------------------------------- Constructors

==================================================
ManagerServlet.java
index 33e41468fb..f3491b5f90 100644
--- a/java/org/apache/catalina/ha/tcp/ReplicationValve.java
+++ b/java/org/apache/catalina/ha/tcp/ReplicationValve.java
@@ -78,7 +78,7 @@ public class ReplicationValve
     /**
      * The StringManager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     private CatalinaCluster cluster = null ;

==================================================
StatusManagerServlet.java
index 413935e6e7..8ca2301949 100644
--- a/java/org/apache/catalina/manager/ManagerServlet.java
+++ b/java/org/apache/catalina/manager/ManagerServlet.java
@@ -233,7 +233,7 @@ public class ManagerServlet
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
HostManagerServlet.java
index a1fcec1b4a..7336ba1485 100644
--- a/java/org/apache/catalina/manager/StatusManagerServlet.java
+++ b/java/org/apache/catalina/manager/StatusManagerServlet.java
@@ -88,7 +88,7 @@ public class StatusManagerServlet
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
CombinedRealm.java
index 4bff73c0dd..9b6e0f08e2 100644
--- a/java/org/apache/catalina/manager/host/HostManagerServlet.java
+++ b/java/org/apache/catalina/manager/host/HostManagerServlet.java
@@ -138,7 +138,7 @@ public class HostManagerServlet
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
JAASMemoryLoginModule.java
index fd5ed5b1e4..6b1c4392c4 100644
--- a/java/org/apache/catalina/realm/CombinedRealm.java
+++ b/java/org/apache/catalina/realm/CombinedRealm.java
@@ -46,7 +46,7 @@ public class CombinedRealm extends RealmBase {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
     
     /**

==================================================
MemoryRealm.java
index 6e71fc83a0..0ba939e9b0 100644
--- a/java/org/apache/catalina/realm/JAASMemoryLoginModule.java
+++ b/java/org/apache/catalina/realm/JAASMemoryLoginModule.java
@@ -118,7 +118,7 @@ public class JAASMemoryLoginModule extends MemoryRealm implements LoginModule {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     /**

==================================================
RealmBase.java
index 2be85e1b51..0ba1147aab 100644
--- a/java/org/apache/catalina/realm/MemoryRealm.java
+++ b/java/org/apache/catalina/realm/MemoryRealm.java
@@ -89,7 +89,7 @@ public class MemoryRealm  extends RealmBase {
     /**
      * The string manager for this package.
      */
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
UserDatabaseRealm.java
index 19c61c5896..6efa922dbc 100644
--- a/java/org/apache/catalina/realm/RealmBase.java
+++ b/java/org/apache/catalina/realm/RealmBase.java
@@ -137,7 +137,7 @@ public abstract class RealmBase
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
DefaultServlet.java
index 1e050a19b4..e271eeef32 100644
--- a/java/org/apache/catalina/realm/UserDatabaseRealm.java
+++ b/java/org/apache/catalina/realm/UserDatabaseRealm.java
@@ -84,7 +84,7 @@ public class UserDatabaseRealm
     /**
      * The string manager for this package.
      */
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ManagerBase.java
index eeaf9279a0..f75530ffed 100644
--- a/java/org/apache/catalina/servlets/DefaultServlet.java
+++ b/java/org/apache/catalina/servlets/DefaultServlet.java
@@ -197,7 +197,7 @@ public class DefaultServlet
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
StandardSession.java
index 11c252d89f..58bcb6c87e 100644
--- a/java/org/apache/catalina/session/ManagerBase.java
+++ b/java/org/apache/catalina/session/ManagerBase.java
@@ -209,7 +209,7 @@ public abstract class ManagerBase implements Manager, MBeanRegistration {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     /**

==================================================
Embedded.java
index 9a8196b735..e69ce68dba 100644
--- a/java/org/apache/catalina/session/StandardSession.java
+++ b/java/org/apache/catalina/session/StandardSession.java
@@ -242,7 +242,7 @@ public class StandardSession
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
BioSender.java
index 1e4f9b288c..8274a9a125 100644
--- a/java/org/apache/catalina/startup/Embedded.java
+++ b/java/org/apache/catalina/startup/Embedded.java
@@ -183,7 +183,7 @@ public class Embedded  extends StandardService {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
StringManager.java
index 5f6994597c..f4b897fc86 100644
--- a/java/org/apache/catalina/tribes/transport/bio/BioSender.java
+++ b/java/org/apache/catalina/tribes/transport/bio/BioSender.java
@@ -48,7 +48,7 @@ public class BioSender extends AbstractSender implements DataSender {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
 
     // ----------------------------------------------------- Instance Variables
 

==================================================
MemoryUserDatabase.java
index 90a7b09549..bac15e2891 100644
--- a/java/org/apache/catalina/tribes/util/StringManager.java
+++ b/java/org/apache/catalina/tribes/util/StringManager.java
@@ -242,7 +242,7 @@ public class StringManager {
      * @param packageName The package name
      */
 
-    public synchronized static StringManager getManager(String packageName) {
+    public synchronized static final StringManager getManager(String packageName) {
         StringManager mgr = managers.get(packageName);
 
         if (mgr == null) {

==================================================
ExtensionValidator.java
index 5f126d3f61..1b3e2840ff 100644
--- a/java/org/apache/catalina/users/MemoryUserDatabase.java
+++ b/java/org/apache/catalina/users/MemoryUserDatabase.java
@@ -132,7 +132,7 @@ public class MemoryUserDatabase implements UserDatabase {
     /**
      * The string manager for this package.
      */
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
HexUtils.java
index 9510672e4f..0368fba395 100644
--- a/java/org/apache/catalina/util/ExtensionValidator.java
+++ b/java/org/apache/catalina/util/ExtensionValidator.java
@@ -59,7 +59,7 @@ public final class ExtensionValidator {
     /**
      * The string resources for this package.
      */
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager("org.apache.catalina.util");
     
     private static ArrayList<Extension> containerAvailableExtensions = null;

==================================================
ErrorReportValve.java
index 10084a196d..8d119a1670 100644
--- a/java/org/apache/catalina/util/HexUtils.java
+++ b/java/org/apache/catalina/util/HexUtils.java
@@ -57,7 +57,7 @@ public final class HexUtils {
     /**
      * The string manager for this package.
      */
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager("org.apache.catalina.util");
 
 

==================================================
RemoteIpValve.java
index 112bd7d505..bc663a2837 100644
--- a/java/org/apache/catalina/valves/ErrorReportValve.java
+++ b/java/org/apache/catalina/valves/ErrorReportValve.java
@@ -69,7 +69,7 @@ public class ErrorReportValve
     /**
      * The StringManager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
RequestFilterValve.java
index 6d2a31f58e..af462c8d42 100644
--- a/java/org/apache/catalina/valves/RemoteIpValve.java
+++ b/java/org/apache/catalina/valves/RemoteIpValve.java
@@ -352,7 +352,7 @@ public class RemoteIpValve extends ValveBase {
     /**
      * The StringManager for this package.
      */
-    protected static StringManager sm = StringManager.getManager(Constants.Package);
+    protected static final StringManager sm = StringManager.getManager(Constants.Package);
     
     /**
      * Convert a given comma delimited list of regular expressions into an array of compiled {@link Pattern}

==================================================
ValveBase.java
index e774e491d3..72e9644237 100644
--- a/java/org/apache/catalina/valves/RequestFilterValve.java
+++ b/java/org/apache/catalina/valves/RequestFilterValve.java
@@ -86,7 +86,7 @@ public abstract class RequestFilterValve
     /**
      * The StringManager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AjpAprProcessor.java
index 50ac2cd7a0..9ad0e19293 100644
--- a/java/org/apache/catalina/valves/ValveBase.java
+++ b/java/org/apache/catalina/valves/ValveBase.java
@@ -104,7 +104,7 @@ public abstract class ValveBase
     /**
      * The string manager for this package.
      */
-    protected final static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AjpAprProtocol.java
index 6ec6ca004b..d8319bb07a 100644
--- a/java/org/apache/coyote/ajp/AjpAprProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpAprProcessor.java
@@ -67,7 +67,7 @@ public class AjpAprProcessor implements ActionHook {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AjpMessage.java
index 08fd4d5ce2..f941193589 100644
--- a/java/org/apache/coyote/ajp/AjpAprProtocol.java
+++ b/java/org/apache/coyote/ajp/AjpAprProtocol.java
@@ -60,7 +60,7 @@ public class AjpAprProtocol
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AjpProcessor.java
index 4beba4a2b0..86196bb7e7 100644
--- a/java/org/apache/coyote/ajp/AjpMessage.java
+++ b/java/org/apache/coyote/ajp/AjpMessage.java
@@ -44,7 +44,7 @@ public class AjpMessage {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AjpProtocol.java
index 7b166f3f1c..2bd9e8243e 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -67,7 +67,7 @@ public class AjpProcessor implements ActionHook {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AbstractHttp11Processor.java
index 4f5ccc159b..5489680bf7 100644
--- a/java/org/apache/coyote/ajp/AjpProtocol.java
+++ b/java/org/apache/coyote/ajp/AjpProtocol.java
@@ -61,7 +61,7 @@ public class AjpProtocol
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
AbstractInputBuffer.java
index 6e7164e735..e1907cebaf 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Processor.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Processor.java
@@ -39,7 +39,7 @@ public class AbstractHttp11Processor {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     protected static boolean isSecurityEnabled = 

==================================================
AbstractOutputBuffer.java
index 791665be76..fa947f39e7 100644
--- a/java/org/apache/coyote/http11/AbstractInputBuffer.java
+++ b/java/org/apache/coyote/http11/AbstractInputBuffer.java
@@ -47,7 +47,7 @@ public abstract class AbstractInputBuffer implements InputBuffer{
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
Http11AprProcessor.java
index 73ad1f2037..a76a9f0563 100644
--- a/java/org/apache/coyote/http11/AbstractOutputBuffer.java
+++ b/java/org/apache/coyote/http11/AbstractOutputBuffer.java
@@ -101,7 +101,7 @@ public abstract class AbstractOutputBuffer implements OutputBuffer{
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     // ------------------------------------------------------------- Properties

==================================================
Http11AprProtocol.java
index 30a24be1b1..634ab33905 100644
--- a/java/org/apache/coyote/http11/Http11AprProcessor.java
+++ b/java/org/apache/coyote/http11/Http11AprProcessor.java
@@ -75,7 +75,7 @@ public class Http11AprProcessor implements ActionHook {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
Http11NioProtocol.java
index eb44dd50fe..86b73fc324 100644
--- a/java/org/apache/coyote/http11/Http11AprProtocol.java
+++ b/java/org/apache/coyote/http11/Http11AprProtocol.java
@@ -59,7 +59,7 @@ public class Http11AprProtocol implements ProtocolHandler, MBeanRegistration {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     public Http11AprProtocol() {

==================================================
Http11Protocol.java
index 5ccf6b1bb4..4cf736d7fa 100644
--- a/java/org/apache/coyote/http11/Http11NioProtocol.java
+++ b/java/org/apache/coyote/http11/Http11NioProtocol.java
@@ -69,7 +69,7 @@ public class Http11NioProtocol implements ProtocolHandler, MBeanRegistration
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
     /** Pass config info

==================================================
InternalAprInputBuffer.java
index b4df3d682b..2813a61f7a 100644
--- a/java/org/apache/coyote/http11/Http11Protocol.java
+++ b/java/org/apache/coyote/http11/Http11Protocol.java
@@ -63,7 +63,7 @@ public class Http11Protocol
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
InternalAprOutputBuffer.java
index 0b1e231ae7..f586f2d920 100644
--- a/java/org/apache/coyote/http11/InternalAprInputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalAprInputBuffer.java
@@ -81,7 +81,7 @@ public class InternalAprInputBuffer implements InputBuffer {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
ContextBindings.java
index c47b3850f7..c1269e059b 100644
--- a/java/org/apache/coyote/http11/InternalAprOutputBuffer.java
+++ b/java/org/apache/coyote/http11/InternalAprOutputBuffer.java
@@ -91,7 +91,7 @@ public class InternalAprOutputBuffer
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager(Constants.Package);
 
 

==================================================
StringManager.java
index 3b5080f9af..c8ac3df236 100644
--- a/java/org/apache/naming/ContextBindings.java
+++ b/java/org/apache/naming/ContextBindings.java
@@ -77,7 +77,7 @@ public class ContextBindings {
     /**
      * The string manager for this package.
      */
-    protected static StringManager sm = 
+    protected static final StringManager sm = 
         StringManager.getManager(Constants.Package);
 
 

==================================================
HttpMessages.java
index 5aceb7f587..f5632a4223 100644
--- a/java/org/apache/naming/StringManager.java
+++ b/java/org/apache/naming/StringManager.java
@@ -208,7 +208,7 @@ public class StringManager {
      * @param packageName
      */
 
-    public synchronized static StringManager getManager(String packageName) {
+    public synchronized static final StringManager getManager(String packageName) {
 	StringManager mgr = managers.get(packageName);
 	if (mgr == null) {
 	    mgr = new StringManager(packageName);

==================================================
JSSESocketFactory.java
index 195d30f3a9..9f1d058296 100644
--- a/java/org/apache/tomcat/util/http/HttpMessages.java
+++ b/java/org/apache/tomcat/util/http/HttpMessages.java
@@ -30,7 +30,7 @@ import org.apache.tomcat.util.res.StringManager;
  */
 public class HttpMessages {
     // XXX move message resources in this package
-    protected static StringManager sm =
+    protected static final StringManager sm =
         StringManager.getManager("org.apache.tomcat.util.http.res");
 	
     static String st_200=null;

==================================================
StringManager.java
index adb8286f91..98e60cf5d2 100644
--- a/java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java
+++ b/java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java
@@ -80,7 +80,7 @@ import org.apache.tomcat.util.res.StringManager;
 public class JSSESocketFactory
     extends org.apache.tomcat.util.net.ServerSocketFactory {
 
-    private static StringManager sm =
+    private static final StringManager sm =
         StringManager.getManager("org.apache.tomcat.util.net.jsse.res");
 
     // defaults

==================================================
HexDump.java
index a7b8765fbf..5edec7cf61 100644
--- a/java/org/apache/tomcat/util/res/StringManager.java
+++ b/java/org/apache/tomcat/util/res/StringManager.java
@@ -158,7 +158,7 @@ public class StringManager {
      *
      * @param packageName The package name
      */
-    public synchronized static StringManager getManager(String packageName) {
+    public synchronized static final StringManager getManager(String packageName) {
         StringManager mgr = managers.get(packageName);
         if (mgr == null) {
             mgr = new StringManager(packageName);

==================================================
