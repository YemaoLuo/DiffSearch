f486ea7807c2f85b9d3d821417a8f71291506f75
==================================================
Drop unused throws clause.
==================================================
Remy Maucherat
==================================================
Tue Feb 10 18:04:17 2015 +0000
==================================================
AbstractProcessor.java
Drop unused throws clause.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1658771 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Processor.java
index 8e0bbf6748..e7b2ea3f1c 100644
--- a/java/org/apache/coyote/AbstractProcessor.java
+++ b/java/org/apache/coyote/AbstractProcessor.java
@@ -212,7 +212,7 @@ public abstract class AbstractProcessor implements ActionHook, Processor {
      * upgrade.
      */
     @Override
-    public abstract SocketState upgradeDispatch(SocketStatus status) throws IOException;
+    public abstract SocketState upgradeDispatch(SocketStatus status);
 
     @Override
     public abstract HttpUpgradeHandler getHttpUpgradeHandler();

==================================================
AjpProcessor.java
index fb26d39381..85e5e91596 100644
--- a/java/org/apache/coyote/Processor.java
+++ b/java/org/apache/coyote/Processor.java
@@ -40,7 +40,7 @@ public interface Processor {
     SocketState asyncPostProcess();
 
     HttpUpgradeHandler getHttpUpgradeHandler();
-    SocketState upgradeDispatch(SocketStatus status) throws IOException;
+    SocketState upgradeDispatch(SocketStatus status);
 
     void errorDispatch();
 

==================================================
Http11Processor.java
index 54ac56720b..a8e9c8a340 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -846,9 +846,9 @@ public class AjpProcessor extends AbstractProcessor {
 
 
     @Override
-    public SocketState upgradeDispatch(SocketStatus status) throws IOException {
+    public SocketState upgradeDispatch(SocketStatus status) {
         // Should never reach this code but in case we do...
-        throw new IOException(
+        throw new IllegalStateException(
                 sm.getString("ajpprocessor.httpupgrade.notsupported"));
     }
 

==================================================
UpgradeProcessor.java
index 405ca54b26..10b3517668 100644
--- a/java/org/apache/coyote/http11/Http11Processor.java
+++ b/java/org/apache/coyote/http11/Http11Processor.java
@@ -1817,7 +1817,7 @@ public class Http11Processor extends AbstractProcessor {
 
 
     @Override
-    public SocketState upgradeDispatch(SocketStatus status) throws IOException {
+    public SocketState upgradeDispatch(SocketStatus status) {
         // Should never reach this code but in case we do...
         throw new IllegalStateException(
                 sm.getString("http11Processor.upgrade"));

==================================================
SpdyProcessor.java
index ed88a18407..593f9bb7a2 100644
--- a/java/org/apache/coyote/http11/upgrade/UpgradeProcessor.java
+++ b/java/org/apache/coyote/http11/upgrade/UpgradeProcessor.java
@@ -96,7 +96,7 @@ public class UpgradeProcessor implements Processor, WebConnection {
 
 
     @Override
-    public final SocketState upgradeDispatch(SocketStatus status) throws IOException {
+    public final SocketState upgradeDispatch(SocketStatus status) {
         if (status == SocketStatus.OPEN_READ) {
             try {
                 upgradeServletInputStream.onDataAvailable();

==================================================
