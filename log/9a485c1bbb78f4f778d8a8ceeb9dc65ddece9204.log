9a485c1bbb78f4f778d8a8ceeb9dc65ddece9204
==================================================
Improve error message & use i18n
==================================================
Mark Emlyn
==================================================
Fri Jan 21 12:39:15 2011 +0000
==================================================
AstDotSuffix.java
index bfd89faf5a..7fdc6f20d4 100644
--- a/java/org/apache/el/Messages.properties
+++ b/java/org/apache/el/Messages.properties
@@ -48,7 +48,7 @@ error.fnMapper.null=Expression uses functions, but no FunctionMapper was provide
 error.fnMapper.method=Function ''{0}'' not found
 error.fnMapper.paramcount=Function ''{0}'' specifies {1} params, but {2} were declared
 
-# **ExpressionImpl
+# ExpressionImpl
 error.context.null=ELContext was null
 
 # ArrayELResolver
@@ -61,4 +61,7 @@ error.list.outofbounds=Index {0} is out of bounds for list of size {1}
 error.property.notfound=Property ''{1}'' not found on type: {0}
 error.property.invocation=Property ''{1}'' threw an exception from type: {0}
 error.property.notreadable=Property ''{1}'' doesn't have a 'get' specified on type: {0}
-error.property.notwritable=Property ''{1}'' doesn't have a 'set' specified on type: {0}
\ No newline at end of file
+error.property.notwritable=Property ''{1}'' doesn't have a 'set' specified on type: {0}
+
+# Parser
+error.identifier.notjava=The identifier [{0}] is not a valid Java identifier as required by section 1.19 of the EL specification (Identifier ::= Java language identifier). This check can be disabled by setting the system property org.apache.el.parser.SKIP_IDENTIFIER_CHECK to true.
\ No newline at end of file

==================================================
AstIdentifier.java
index 0463b5a57f..0b0307b79f 100644
--- a/java/org/apache/el/parser/AstDotSuffix.java
+++ b/java/org/apache/el/parser/AstDotSuffix.java
@@ -21,6 +21,7 @@ package org.apache.el.parser;
 import javax.el.ELException;
 
 import org.apache.el.lang.EvaluationContext;
+import org.apache.el.util.MessageFactory;
 import org.apache.el.util.Validation;
 
 
@@ -42,8 +43,8 @@ public final class AstDotSuffix extends SimpleNode {
     @Override
     public void setImage(String image) {
         if (!Validation.isIdentifier(image)) {
-            throw new ELException("[" + image +
-                    "] is not a valid Java identifier");
+            throw new ELException(MessageFactory.get("error.identifier.notjava",
+                    image));
         }
         this.image = image;
     }

==================================================
