06cd319e157a80acfc1cb301a6e9d922791abfbd
==================================================
Refactor
==================================================
Mark Thomas
==================================================
Mon Sep 4 19:17:00 2017 +0000
==================================================
AbstractProtocol.java
Refactor
There is no need to pass this protocol attribute to the endpoint

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1807289 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractEndpoint.java
index 70f5216ffe..f5dd09b01e 100644
--- a/java/org/apache/coyote/AbstractProtocol.java
+++ b/java/org/apache/coyote/AbstractProtocol.java
@@ -193,6 +193,15 @@ public abstract class AbstractProtocol<S> implements ProtocolHandler,
     public void setClientCertProvider(String s) { this.clientCertProvider = s; }
 
 
+    private int maxHeaderCount = 100;
+    public int getMaxHeaderCount() {
+        return maxHeaderCount;
+    }
+    public void setMaxHeaderCount(int maxHeaderCount) {
+        this.maxHeaderCount = maxHeaderCount;
+    }
+
+
     @Override
     public boolean isAprRequired() {
         return false;
@@ -294,13 +303,6 @@ public abstract class AbstractProtocol<S> implements ProtocolHandler,
         endpoint.setConnectionTimeout(timeout);
     }
 
-    public int getMaxHeaderCount() {
-        return endpoint.getMaxHeaderCount();
-    }
-    public void setMaxHeaderCount(int maxHeaderCount) {
-        endpoint.setMaxHeaderCount(maxHeaderCount);
-    }
-
     public long getConnectionCount() {
         return endpoint.getConnectionCount();
     }

==================================================
