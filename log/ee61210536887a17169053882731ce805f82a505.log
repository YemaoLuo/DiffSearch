ee61210536887a17169053882731ce805f82a505
==================================================
Fix some SpotBugs issues in the tests
==================================================
Mark Thomas
==================================================
Wed Nov 29 22:06:40 2017 +0000
==================================================
TestAuthConfigFactoryImpl.java
Fix some SpotBugs issues in the tests

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1816655 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestPersistentProviderRegistrations.java
index 5b8ce77ee2..38fff7ba1b 100644
--- a/test/org/apache/catalina/authenticator/jaspic/TestAuthConfigFactoryImpl.java
+++ b/test/org/apache/catalina/authenticator/jaspic/TestAuthConfigFactoryImpl.java
@@ -321,7 +321,9 @@ public class TestAuthConfigFactoryImpl {
         System.setProperty(Globals.CATALINA_BASE_PROP, "test");
 
         if (TEST_CONFIG_FILE.exists()) {
-            TEST_CONFIG_FILE.delete();
+            if (!TEST_CONFIG_FILE.delete()) {
+                Assert.fail("Failed to delete " + TEST_CONFIG_FILE);
+            }
         }
     }
 
@@ -335,7 +337,9 @@ public class TestAuthConfigFactoryImpl {
         }
 
         if (TEST_CONFIG_FILE.exists()) {
-            TEST_CONFIG_FILE.delete();
+            if (!TEST_CONFIG_FILE.delete()) {
+                Assert.fail("Failed to delete " + TEST_CONFIG_FILE);
+            }
         }
     }
 

==================================================
