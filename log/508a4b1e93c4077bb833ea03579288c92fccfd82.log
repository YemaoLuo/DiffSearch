508a4b1e93c4077bb833ea03579288c92fccfd82
==================================================
Remove unnecessary casts reported by Eclipse
==================================================
Mark Emlyn
==================================================
Thu Jan 15 13:38:58 2009 +0000
==================================================
Bootstrap.java
Remove unnecessary casts reported by Eclipse

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734702 13f79535-47bb-0310-9956-ffa450edef68



==================================================
McastService.java
index 2d1d7784ae..2755aca396 100644
--- a/java/org/apache/catalina/startup/Bootstrap.java
+++ b/java/org/apache/catalina/startup/Bootstrap.java
@@ -177,8 +177,7 @@ public final class Bootstrap {
         // Retrieving MBean server
         MBeanServer mBeanServer = null;
         if (MBeanServerFactory.findMBeanServer(null).size() > 0) {
-            mBeanServer =
-                (MBeanServer) MBeanServerFactory.findMBeanServer(null).get(0);
+            mBeanServer = MBeanServerFactory.findMBeanServer(null).get(0);
         } else {
             mBeanServer = ManagementFactory.getPlatformMBeanServer();
         }

==================================================
MemberImpl.java
index 314b43a0d3..bb774cae42 100644
--- a/java/org/apache/catalina/tribes/membership/McastService.java
+++ b/java/org/apache/catalina/tribes/membership/McastService.java
@@ -375,7 +375,7 @@ public class McastService implements MembershipService,MembershipListener,Messag
             }
         }
 
-        impl = new McastServiceImpl((MemberImpl)localMember,Long.parseLong(properties.getProperty("mcastFrequency")),
+        impl = new McastServiceImpl(localMember,Long.parseLong(properties.getProperty("mcastFrequency")),
                                     Long.parseLong(properties.getProperty("memberDropTime")),
                                     Integer.parseInt(properties.getProperty("mcastPort")),
                                     bind,

==================================================
JspRuntimeLibrary.java
index 80864263a6..5c1c7bba6a 100644
--- a/java/org/apache/catalina/tribes/membership/MemberImpl.java
+++ b/java/org/apache/catalina/tribes/membership/MemberImpl.java
@@ -213,7 +213,7 @@ public class MemberImpl implements Member, java.io.Externalizable {
                 //you'd be surprised, but System.currentTimeMillis
                 //shows up on the profiler
                 long alive=System.currentTimeMillis()-getServiceStartTime();
-                XByteBuffer.toBytes( (long) alive, dataPkg, TRIBES_MBR_BEGIN.length+4);
+                XByteBuffer.toBytes(alive, dataPkg, TRIBES_MBR_BEGIN.length+4);
             }
             return dataPkg;
         }
@@ -253,7 +253,7 @@ public class MemberImpl implements Member, java.io.Externalizable {
         pos += 4;
 
         //alive data
-        XByteBuffer.toBytes((long)alive,data,pos);
+        XByteBuffer.toBytes(alive,data,pos);
         pos += 8;
         //port
         XByteBuffer.toBytes(port,data,pos);

==================================================
JkMX.java
index 9308cb643e..09b1ae7a2f 100644
--- a/java/org/apache/jasper/runtime/JspRuntimeLibrary.java
+++ b/java/org/apache/jasper/runtime/JspRuntimeLibrary.java
@@ -142,14 +142,14 @@ public class JspRuntimeLibrary {
 
     public static double coerceToDouble(String s) {
         if (s == null || s.length() == 0)
-            return (double) 0;
+            return 0;
         else
             return Double.valueOf(s).doubleValue();
     }
 
     public static float coerceToFloat(String s) {
         if (s == null || s.length() == 0)
-            return (float) 0;
+            return 0;
         else
             return Float.valueOf(s).floatValue();
     }
@@ -170,7 +170,7 @@ public class JspRuntimeLibrary {
 
     public static long coerceToLong(String s) {
         if (s == null || s.length() == 0)
-            return (long) 0;
+            return 0;
         else
             return Long.valueOf(s).longValue();
     }

==================================================
HexUtils.java
index ceb93d34c9..90749488a5 100644
--- a/java/org/apache/jk/common/JkMX.java
+++ b/java/org/apache/jk/common/JkMX.java
@@ -359,7 +359,7 @@ public class JkMX extends JkHandler
     MBeanServer getMBeanServer() {
         MBeanServer server;
         if( MBeanServerFactory.findMBeanServer(null).size() > 0 ) {
-            server=(MBeanServer)MBeanServerFactory.findMBeanServer(null).get(0);
+            server = MBeanServerFactory.findMBeanServer(null).get(0);
         } else {
             server=MBeanServerFactory.createMBeanServer();
         }

==================================================
UEncoder.java
index 192988a9a4..00499616bb 100644
--- a/java/org/apache/tomcat/util/buf/HexUtils.java
+++ b/java/org/apache/tomcat/util/buf/HexUtils.java
@@ -131,8 +131,8 @@ public final class HexUtils {
 
 	StringBuffer sb = new StringBuffer(bytes.length * 2);
 	for (int i = 0; i < bytes.length; i++) {
-	    sb.append(convertDigit((int) (bytes[i] >> 4)));
-	    sb.append(convertDigit((int) (bytes[i] & 0x0f)));
+	    sb.append(convertDigit((bytes[i] >> 4)));
+	    sb.append(convertDigit((bytes[i] & 0x0f)));
 	}
 	return (sb.toString());
 

==================================================
Registry.java
index e4597d2b8e..abcea45ffe 100644
--- a/java/org/apache/tomcat/util/buf/UEncoder.java
+++ b/java/org/apache/tomcat/util/buf/UEncoder.java
@@ -74,7 +74,7 @@ public final class UEncoder {
 	}
 
 	for (int i = 0; i < s.length(); i++) {
-	    int c = (int) s.charAt(i);
+	    int c = s.charAt(i);
 	    if( safeChars.get( c ) ) {
 		if( debug > 0 ) log("Safe: " + (char)c);
 		buf.write((char)c);
@@ -86,7 +86,7 @@ public final class UEncoder {
 		// ( while UCS is 31 ). Amazing...
 		if (c >= 0xD800 && c <= 0xDBFF) {
 		    if ( (i+1) < s.length()) {
-			int d = (int) s.charAt(i+1);
+			int d = s.charAt(i+1);
 			if (d >= 0xDC00 && d <= 0xDFFF) {
 			    if( debug > 0 ) log("Unsafe:  " + c);
 			    c2b.convert( (char)d);

==================================================
