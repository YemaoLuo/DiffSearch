4c73a7f84486438e9e740fbd1a8c95bef7140f64
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=59966
==================================================
Mark Thomas
==================================================
Thu Aug 11 20:13:03 2016 +0000
==================================================
ErrorPage.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=59966
Fail Context if error page configuration in web.xml is broken.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1756039 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestStandardHostValve.java
index 10c6baedb8..731f7e1512 100644
--- a/java/org/apache/tomcat/util/descriptor/web/ErrorPage.java
+++ b/java/org/apache/tomcat/util/descriptor/web/ErrorPage.java
@@ -88,9 +88,8 @@ public class ErrorPage implements Serializable {
         try {
             this.errorCode = Integer.parseInt(errorCode);
         } catch (NumberFormatException nfe) {
-            this.errorCode = 0;
+            throw new IllegalArgumentException(nfe);
         }
-
     }
 
 

==================================================
