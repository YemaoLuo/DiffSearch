ea102c782cd950635076ef28336470e5470cd975
==================================================
Prep for removing Pipeline interface from ContainerBase
==================================================
Mark Emlyn
==================================================
Thu Feb 4 21:53:06 2010 +0000
==================================================
StandardHost.java
Prep for removing Pipeline interface from ContainerBase

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906675 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MBeanFactory.java
index 5194a79501..aaa8689b66 100644
--- a/java/org/apache/catalina/core/StandardHost.java
+++ b/java/org/apache/catalina/core/StandardHost.java
@@ -781,7 +781,7 @@ public class StandardHost
      public String [] getValveNames()
          throws Exception
     {
-         Valve [] valves = this.getValves();
+         Valve [] valves = this.getPipeline().getValves();
          String [] mbeanNames = new String[valves.length];
          for (int i = 0; i < valves.length; i++) {
              if( valves[i] == null ) continue;

==================================================
