53c5d85eafa499344bc187a4c5389b0ef8b5ca8b
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50157
==================================================
Mark Emlyn
==================================================
Tue Oct 26 22:09:20 2010 +0000
==================================================
MapperListener.java
index 50b63af0f5..02d5efbd13 100644
--- a/java/org/apache/catalina/connector/LocalStrings.properties
+++ b/java/org/apache/catalina/connector/LocalStrings.properties
@@ -73,12 +73,13 @@ cometEvent.nullRequest=The event object has been recycled and is no longer assoc
 #
 # MapperListener
 #
-mapperListener.unknownDefaultHost=Unknown default host: {0}
-mapperListener.registerHost=Register host {0} at domain {1}
-mapperListener.unregisterHost=Unregister host {0} at domain {1}
-mapperListener.registerContext=Register Context {0} 
-mapperListener.unregisterContext=Unregister Context {0}
-mapperListener.registerWrapper=Register Wrapper {0} in Context {1}
+mapperListener.unknownDefaultHost=Unknown default host [{0}] for connector [{1}]
+mapperListener.registerHost=Register host [{0}] at domain [{1}] for connector [{2}]
+mapperListener.unregisterHost=Unregister host [{0}] at domain [{1}] for connector [{2}]
+mapperListener.registerContext=Register Context [{0}] for connector [{1}]
+mapperListener.unregisterContext=Unregister Context [{0}] for connector [{1}]
+mapperListener.registerWrapper=Register Wrapper [{0}] in Context [{1}] for connector [{2}]
+mapperListener.unregisterWrapper=Unregister Wrapper [{0}] in Context [{1}] for connector [{2}]
 mapperListener.addMBeanListenerFail=Failed to add MBean notification listener for connector [{0}] in domain [{1}]. Adding Hosts, Contexts and Wrappers will not be visible to the connector.
 mapperListener.removeMBeanListenerFail=Failed to remove MBean notification listener for connector [{0}] in domain [{1}]. This may result in a memory leak.
 mapperListener.lifecycleListenerFail=Failed to add Lifecycle listener to object [{0}]. Changes in the object state may not be correctly reflected in the mapper for connector [{1}] in domain [{2}].

==================================================
ContainerMBean.java
index fb6879545c..995961068f 100644
--- a/java/org/apache/catalina/core/mbeans-descriptors.xml
+++ b/java/org/apache/catalina/core/mbeans-descriptors.xml
@@ -583,6 +583,12 @@
                returnType="java.lang.String">    
     </operation>
     
+    <operation name="findContainerListenerNames"
+               description="Return the set of container listener class names configured for this application."
+               impact="INFO"
+               returnType="[Ljava.lang.String;">    
+    </operation>
+    
     <operation name="findErrorPage"
                description="Return the error page entry for the specified HTTP error code, if any; otherwise return null"
                impact="ACTION"
@@ -634,6 +640,12 @@
                returnType="[Ljava.lang.String;">    
     </operation>
     
+    <operation name="findLifecycleListenerNames"
+               description="Return the set of lifecycle listener class names configured for this application."
+               impact="INFO"
+               returnType="[Ljava.lang.String;">    
+    </operation>
+    
     <operation name="findMimeMapping"
                description="Return the MIME type to which the specified extension is mapped, if any; otherwise return null."
                impact="ACTION"

==================================================
