f274fb268362c29f1b32ff6e12fa90b96d09c2c1
==================================================
Implement the requirements of section 8.2.2 2c of the Servlet specification and prevent a web application from deploying if it has fragments with duplicate names and is configured to use relative ordering of fragments.
==================================================
Mark Thomas
==================================================
Tue Dec 11 13:51:41 2018 +0000
==================================================
FragmentJarScannerCallback.java
Implement the requirements of section 8.2.2 2c of the Servlet specification and prevent a web application from deploying if it has fragments with duplicate names and is configured to use relative ordering of fragments.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1848675 13f79535-47bb-0310-9956-ffa450edef68



==================================================
WebXml.java
index 07960786e7..4b50d400bf 100644
--- a/java/org/apache/tomcat/util/descriptor/web/LocalStrings.properties
+++ b/java/org/apache/tomcat/util/descriptor/web/LocalStrings.properties
@@ -32,6 +32,7 @@ webRuleSet.relativeOrderingCount=<ordering> element is limited to 1 occurrence
 
 webXml.duplicateEnvEntry=Duplicate env-entry name [{0}]
 webXml.duplicateFilter=Duplicate filter name [{0}]
+webXml.duplicateFragment=More than one fragment with the name [{0}] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.
 webXml.duplicateMessageDestination=Duplicate message-destination name [{0}]
 webXml.duplicateMessageDestinationRef=Duplicate message-destination-ref name [{0}]
 webXml.duplicateResourceEnvRef=Duplicate resource-env-ref name [{0}]

==================================================
