d2637f1d5d3ce0e656b40a2cfec9649e09b4d2a8
==================================================
- Always check the output folder when going in the compile method, to make sure it exists.
==================================================
Remy Maucherat
==================================================
Sat Sep 9 23:22:05 2006 +0000
==================================================
JspCompilationContext.java
- Always check the output folder when going in the compile method, to make sure it exists.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441879 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Compiler.java
index 957221a597..a72a72eda9 100644
--- a/java/org/apache/jasper/JspCompilationContext.java
+++ b/java/org/apache/jasper/JspCompilationContext.java
@@ -606,6 +606,16 @@ public class JspCompilationContext {
 
     static Object outputDirLock = new Object();
 
+    public void checkOutputDir() {
+        if (outputDir != null) {
+            if (!(new File(outputDir)).exists()) {
+                makeOutputDir();
+            }
+        } else {
+            createOutputDir();
+        }
+    }
+        
     protected boolean makeOutputDir() {
         synchronized(outputDirLock) {
             File outDirFile = new File(outputDir);

==================================================
