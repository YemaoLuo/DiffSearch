d16e2fa0b3241c3b58f5826f7461295819732a9d
==================================================
Add debug log message to align HTTP connectors
==================================================
Mark Emlyn
==================================================
Mon Sep 5 16:59:27 2011 +0000
==================================================
Http11AprProcessor.java
Add debug log message to align HTTP connectors

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1165361 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Processor.java
index 48b39deae4..60950e46b1 100644
--- a/java/org/apache/coyote/http11/Http11AprProcessor.java
+++ b/java/org/apache/coyote/http11/Http11AprProcessor.java
@@ -177,7 +177,7 @@ public class Http11AprProcessor extends AbstractHttp11Processor<Long> {
         inputBuffer.init(socketWrapper, endpoint);
         outputBuffer.init(socketWrapper, endpoint);
 
-        // Error flag
+        // Flags
         error = false;
         keepAlive = true;
         comet = false;
@@ -226,6 +226,9 @@ public class Http11AprProcessor extends AbstractHttp11Processor<Long> {
                     inputBuffer.parseHeaders();
                 }
             } catch (IOException e) {
+                if (log.isDebugEnabled()) {
+                    log.debug(sm.getString("http11processor.header.parse"), e);
+                }
                 error = true;
                 break;
             } catch (Throwable t) {

==================================================
