9d71248d50e93aaf0fada0e5c2f0d37c8a0ebdc3
==================================================
Deprecate RealmBase.getName()
==================================================
Mark Thomas
==================================================
Fri Nov 25 09:41:40 2016 +0000
==================================================
CombinedRealm.java
Deprecate RealmBase.getName()

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1771266 13f79535-47bb-0310-9956-ffa450edef68



==================================================
DataSourceRealm.java
index 061c96a98f..ed48e0ea66 100644
--- a/java/org/apache/catalina/realm/CombinedRealm.java
+++ b/java/org/apache/catalina/realm/CombinedRealm.java
@@ -52,7 +52,9 @@ public class CombinedRealm extends RealmBase {
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "CombinedRealm";
 
     /**
@@ -392,6 +394,7 @@ public class CombinedRealm extends RealmBase {
     }
 
     @Override
+    @Deprecated
     protected String getName() {
         return name;
     }

==================================================
JAASRealm.java
index 56ca7b70a0..0868241cd6 100644
--- a/java/org/apache/catalina/realm/DataSourceRealm.java
+++ b/java/org/apache/catalina/realm/DataSourceRealm.java
@@ -73,7 +73,9 @@ public class DataSourceRealm extends RealmBase {
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "DataSourceRealm";
 
 
@@ -400,14 +402,10 @@ public class DataSourceRealm extends RealmBase {
         return null;
     }
 
-    /**
-     * Return a short name for this Realm implementation.
-     */
     @Override
+    @Deprecated
     protected String getName() {
-
-        return (name);
-
+        return name;
     }
 
     /**

==================================================
JDBCRealm.java
index 829a184c5d..bbc3b305fb 100644
--- a/java/org/apache/catalina/realm/JAASRealm.java
+++ b/java/org/apache/catalina/realm/JAASRealm.java
@@ -141,7 +141,9 @@ public class JAASRealm extends RealmBase {
 
     /**
      * Descriptive information about this <code>Realm</code> implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "JAASRealm";
 
 
@@ -468,14 +470,11 @@ public class JAASRealm extends RealmBase {
         }
     }
 
-    /**
-     * @return a short name for this <code>Realm</code> implementation.
-     */
+
     @Override
+    @Deprecated
     protected String getName() {
-
-        return (name);
-
+        return name;
     }
 
 

==================================================
JNDIRealm.java
index ed0c8d8680..b68e6bc3c2 100644
--- a/java/org/apache/catalina/realm/JDBCRealm.java
+++ b/java/org/apache/catalina/realm/JDBCRealm.java
@@ -93,7 +93,9 @@ public class JDBCRealm
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "JDBCRealm";
 
 
@@ -500,14 +502,10 @@ public class JDBCRealm
     }
 
 
-    /**
-     * @return a short name for this Realm implementation.
-     */
     @Override
+    @Deprecated
     protected String getName() {
-
-        return (name);
-
+        return name;
     }
 
 

==================================================
MemoryRealm.java
index bbfde7025d..572409fca2 100644
--- a/java/org/apache/catalina/realm/JNDIRealm.java
+++ b/java/org/apache/catalina/realm/JNDIRealm.java
@@ -236,7 +236,9 @@ public class JNDIRealm extends RealmBase {
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "JNDIRealm";
 
 
@@ -2167,14 +2169,10 @@ public class JNDIRealm extends RealmBase {
     }
 
 
-    /**
-     * @return a short name for this Realm implementation.
-     */
     @Override
+    @Deprecated
     protected String getName() {
-
         return name;
-
     }
 
 

==================================================
NullRealm.java
index 9beddf6a72..7cc7b88686 100644
--- a/java/org/apache/catalina/realm/MemoryRealm.java
+++ b/java/org/apache/catalina/realm/MemoryRealm.java
@@ -57,7 +57,9 @@ public class MemoryRealm  extends RealmBase {
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "MemoryRealm";
 
 
@@ -206,14 +208,10 @@ public class MemoryRealm  extends RealmBase {
     }
 
 
-    /**
-     * @return a short name for this Realm implementation.
-     */
     @Override
+    @Deprecated
     protected String getName() {
-
-        return (name);
-
+        return name;
     }
 
 

==================================================
RealmBase.java
index 27f582c554..a1159082de 100644
--- a/java/org/apache/catalina/realm/NullRealm.java
+++ b/java/org/apache/catalina/realm/NullRealm.java
@@ -28,6 +28,7 @@ public class NullRealm extends RealmBase {
     private static final String NAME = "NullRealm";
 
     @Override
+    @Deprecated
     protected String getName() {
         return NAME;
     }

==================================================
UserDatabaseRealm.java
index c6f31f7800..f62b94397a 100644
--- a/java/org/apache/catalina/realm/RealmBase.java
+++ b/java/org/apache/catalina/realm/RealmBase.java
@@ -1166,7 +1166,11 @@ public abstract class RealmBase extends LifecycleMBeanBase implements Realm {
     /**
      * @return a short name for this Realm implementation, for use in
      * log messages.
+     *
+     * @deprecated This will be removed in Tomcat 9 onwards. Use
+     *             {@link Class#getSimpleName()} instead.
      */
+    @Deprecated
     protected abstract String getName();
 
 

==================================================
Tomcat.java
index 3b13167ffc..a7e4af2488 100644
--- a/java/org/apache/catalina/realm/UserDatabaseRealm.java
+++ b/java/org/apache/catalina/realm/UserDatabaseRealm.java
@@ -61,7 +61,9 @@ public class UserDatabaseRealm
 
     /**
      * Descriptive information about this Realm implementation.
+     * @deprecated This will be removed in Tomcat 9 onwards.
      */
+    @Deprecated
     protected static final String name = "UserDatabaseRealm";
 
 
@@ -155,14 +157,10 @@ public class UserDatabaseRealm
     // ------------------------------------------------------ Protected Methods
 
 
-    /**
-     * Return a short name for this Realm implementation.
-     */
     @Override
+    @Deprecated
     protected String getName() {
-
-        return (name);
-
+        return name;
     }
 
 

==================================================
TesterMapRealm.java
index 0b35d2a1a7..5395394fae 100644
--- a/java/org/apache/catalina/startup/Tomcat.java
+++ b/java/org/apache/catalina/startup/Tomcat.java
@@ -649,6 +649,7 @@ public class Tomcat {
 
     private class SimpleRealm extends RealmBase {
         @Override
+        @Deprecated
         protected String getName() {
             return "Simple";
         }

==================================================
