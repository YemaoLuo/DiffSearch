89dbc01a34394126571faf2b4d11bc72f5090501
==================================================
Follow-up to r1749373
==================================================
Mark Thomas
==================================================
Tue Jun 21 08:35:53 2016 +0000
==================================================
SSLHostConfig.java
Follow-up to r1749373
Use getters since various defaults are applied in the getters

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1749465 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SSLHostConfigCertificate.java
index 2b80d64bba..3e3c30fd8e 100644
--- a/java/org/apache/tomcat/util/net/SSLHostConfig.java
+++ b/java/org/apache/tomcat/util/net/SSLHostConfig.java
@@ -597,8 +597,8 @@ public class SSLHostConfig {
         if (result == null) {
             if (truststoreFile != null){
                 try {
-                    result = SSLUtilBase.getStore(truststoreType, truststoreProvider,
-                            truststoreFile, truststorePassword);
+                    result = SSLUtilBase.getStore(getTruststoreType(), getTruststoreProvider(),
+                            getTruststoreFile(), getTruststorePassword());
                 } catch (IOException ioe) {
                     Throwable cause = ioe.getCause();
                     if (cause instanceof UnrecoverableKeyException) {
@@ -606,8 +606,8 @@ public class SSLHostConfig {
                         log.warn(sm.getString("jsse.invalid_truststore_password"),
                                 cause);
                         // Re-try
-                        result = SSLUtilBase.getStore(truststoreType, truststoreProvider,
-                                truststoreFile, null);
+                        result = SSLUtilBase.getStore(getTruststoreType(), getTruststoreProvider(),
+                                getTruststoreFile(), null);
                     } else {
                         // Something else went wrong - re-throw
                         throw ioe;

==================================================
