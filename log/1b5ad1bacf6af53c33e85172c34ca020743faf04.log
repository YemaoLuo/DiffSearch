1b5ad1bacf6af53c33e85172c34ca020743faf04
==================================================
Refactor write notifications
==================================================
remm remm@apache.org
==================================================
Tue Mar 19 11:19:29 2019 +0100
==================================================
Nio2Endpoint.java
Refactor write notifications

Use the model from read notifications, and simplify (normally nesting
shouldn't be an issue, the code should ensure one notification when the
write ends, and avoid any until the next write at least), to attempt to
fix leftover very rare CI failure on TestCoyoteOutputStream. One
possible issue right now is the write semaphore release, so it needs
some testing.
Temporarily disable the async IO API (since it doesn't use notifications
at all and is more robust by design, testing HTTP/2 and websockets
writes with the regular API is more useful).


==================================================
