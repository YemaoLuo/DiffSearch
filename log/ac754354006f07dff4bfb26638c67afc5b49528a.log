ac754354006f07dff4bfb26638c67afc5b49528a
==================================================
Remove deprecated code
==================================================
Mark Emlyn
==================================================
Sat Jul 21 19:00:28 2012 +0000
==================================================
CatalinaProperties.java
Remove deprecated code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1364151 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ContextConfig.java
index 629694e7ee..a1cb6be3ca 100644
--- a/java/org/apache/catalina/startup/CatalinaProperties.java
+++ b/java/org/apache/catalina/startup/CatalinaProperties.java
@@ -14,8 +14,6 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-
-
 package org.apache.catalina.startup;
 
 import java.io.File;
@@ -32,12 +30,8 @@ import java.util.Properties;
  * @author Remy Maucherat
  * @version $Id$
  */
-
 public class CatalinaProperties {
 
-
-    // ------------------------------------------------------- Static Variables
-
     private static final org.apache.juli.logging.Log log=
         org.apache.juli.logging.LogFactory.getLog( CatalinaProperties.class );
 
@@ -45,41 +39,18 @@ public class CatalinaProperties {
 
 
     static {
-
         loadProperties();
-
     }
 
 
-    // --------------------------------------------------------- Public Methods
-
-
     /**
      * Return specified property value.
      */
     public static String getProperty(String name) {
-
         return properties.getProperty(name);
-
-    }
-
-
-    /**
-     * Return specified property value.
-     *
-     * @deprecated  Unused - will be removed in 8.0.x
-     */
-    @Deprecated
-    public static String getProperty(String name, String defaultValue) {
-
-        return properties.getProperty(name, defaultValue);
-
     }
 
 
-    // --------------------------------------------------------- Public Methods
-
-
     /**
      * Load properties.
      */
@@ -144,7 +115,6 @@ public class CatalinaProperties {
                 System.setProperty(name, value);
             }
         }
-
     }
 
 
@@ -155,6 +125,7 @@ public class CatalinaProperties {
         return System.getProperty("catalina.config");
     }
 
+
     // Copied from ExceptionUtils since that class is not visible during start
     private static void handleThrowable(Throwable t) {
         if (t instanceof ThreadDeath) {
@@ -165,5 +136,4 @@ public class CatalinaProperties {
         }
         // All other instances of Throwable will be silently swallowed
     }
-
 }

==================================================
DigesterFactory.java
index be9fa923d6..4f651adbd6 100644
--- a/java/org/apache/catalina/startup/ContextConfig.java
+++ b/java/org/apache/catalina/startup/ContextConfig.java
@@ -1088,25 +1088,6 @@ public class ContextConfig implements LifecycleListener {
     }
 
 
-    /**
-     * Get config base.
-     *
-     * @deprecated  Unused - will be removed in 8.0.x
-     */
-    @Deprecated
-    protected File getConfigBase() {
-        File catalinaBase = context.getCatalinaBase();
-        if (catalinaBase == null) {
-            return null;
-        }
-
-        File configBase = new File(catalinaBase, "conf");
-        if (!configBase.exists()) {
-            return null;
-        }
-        return configBase;
-    }
-
     protected File getHostConfigBase() {
         File file = null;
         if (context.getParent() instanceof Host) {

==================================================
TldConfig.java
index 2f29950e00..6e7ee30167 100644
--- a/java/org/apache/catalina/startup/DigesterFactory.java
+++ b/java/org/apache/catalina/startup/DigesterFactory.java
@@ -37,29 +37,6 @@ public class DigesterFactory {
      */
     private static final Log log = LogFactory.getLog(DigesterFactory.class);
 
-    /**
-     * Create a <code>Digester</code> parser with no <code>Rule</code>
-     * associated and XML validation turned off.
-     *
-     * @deprecated  Unused - will be removed in 8.0.x
-     */
-    @Deprecated
-    public static Digester newDigester(){
-        return newDigester(false, false, null);
-    }
-
-
-    /**
-     * Create a <code>Digester</code> parser with XML validation turned off.
-     * @param rule an instance of <code>RuleSet</code> used for parsing the xml.
-     *
-     * @deprecated  Unused - will be removed in 8.0.x
-     */
-    @Deprecated
-    public static Digester newDigester(RuleSet rule){
-        return newDigester(false,false,rule);
-    }
-
 
     /**
      * Create a <code>Digester</code> parser.

==================================================
