11af8050d88b4823a704692931ad66ff07414340
==================================================
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=60844
==================================================
Mark Thomas
==================================================
Thu Mar 23 21:05:09 2017 +0000
==================================================
ReflectionUtil.java
Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=60844
Correctly handle the error when fewer parameter values than required by the method are used to invoke an EL method expression.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1788323 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestMethodExpressionImpl.java
index 0b0ff5b584..904aa8be25 100644
--- a/java/org/apache/el/util/ReflectionUtil.java
+++ b/java/org/apache/el/util/ReflectionUtil.java
@@ -184,7 +184,7 @@ public class ReflectionUtil {
                         if (isAssignableFrom(paramTypes[j], varType)) {
                             assignableMatch++;
                         } else {
-                            if (paramValues == null) {
+                            if (paramValues == null || j >= paramValues.length) {
                                 noMatch = true;
                                 break;
                             } else {
@@ -203,7 +203,7 @@ public class ReflectionUtil {
                 } else if (isAssignableFrom(paramTypes[i], mParamTypes[i])) {
                     assignableMatch++;
                 } else {
-                    if (paramValues == null) {
+                    if (paramValues == null || i >= paramValues.length) {
                         noMatch = true;
                         break;
                     } else {

==================================================
