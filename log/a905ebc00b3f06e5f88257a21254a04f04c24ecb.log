a905ebc00b3f06e5f88257a21254a04f04c24ecb
==================================================
sessionCounter and expiredSessions declares as long instead of int.
==================================================
Keiichi Fujino
==================================================
Thu Apr 15 09:19:02 2010 +0000
==================================================
Manager.java
sessionCounter and expiredSessions declares as long instead of int.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934337 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ManagerBase.java
index 4da1d84e8d..8035f48503 100644
--- a/java/org/apache/catalina/ha/session/mbeans-descriptors.xml
+++ b/java/org/apache/catalina/ha/session/mbeans-descriptors.xml
@@ -143,7 +143,7 @@ created by this Manager"
     <attribute
       name="sessionCounter"
       description="Total number of sessions created by this manager"
-      type="int"/>
+      type="long"/>
     <attribute
       name="sessionReplaceCounter"
       description="Total number of replaced sessions that load from external nodes"
@@ -172,7 +172,7 @@ created by this Manager"
     <attribute
       name="expiredSessions"
       description="Number of sessions that expired ( doesn't include explicit invalidations )"
-      type="int"/>
+      type="long"/>
     <attribute
       name="stateTransferTimeout"
       description="state transfer timeout in sec"
@@ -498,7 +498,7 @@ created by this Manager"
     <attribute
       name="sessionCounter"
       description="Total number of sessions created by this manager"
-      type="int"/>
+      type="long"/>
     <attribute
       name="maxActive"
       description="Maximum number of active sessions so far"
@@ -518,7 +518,7 @@ created by this Manager"
     <attribute
       name="expiredSessions"
       description="Number of sessions that expired ( doesn't include explicit invalidations )"
-      type="int"/>
+      type="long"/>
     <attribute
       name="processingTime"
       description="Time spent doing housekeeping and expiration"

==================================================
StandardSession.java
index aa6c9e8fc4..6b197902bb 100644
--- a/java/org/apache/catalina/session/ManagerBase.java
+++ b/java/org/apache/catalina/session/ManagerBase.java
@@ -171,7 +171,7 @@ public abstract class ManagerBase extends LifecycleBase
     /**
      * Number of sessions that have expired.
      */
-    protected int expiredSessions = 0;
+    protected long expiredSessions = 0;
 
 
     /**
@@ -181,7 +181,7 @@ public abstract class ManagerBase extends LifecycleBase
     protected Map<String, Session> sessions = new ConcurrentHashMap<String, Session>();
 
     // Number of sessions created by this manager
-    protected int sessionCounter=0;
+    protected long sessionCounter=0;
 
     protected volatile int maxActive=0;
 
@@ -626,7 +626,7 @@ public abstract class ManagerBase extends LifecycleBase
      *
      * @return Number of sessions that have expired
      */
-    public int getExpiredSessions() {
+    public long getExpiredSessions() {
         return expiredSessions;
     }
 
@@ -636,7 +636,7 @@ public abstract class ManagerBase extends LifecycleBase
      *
      * @param expiredSessions Number of sessions that have expired
      */
-    public void setExpiredSessions(int expiredSessions) {
+    public void setExpiredSessions(long expiredSessions) {
         this.expiredSessions = expiredSessions;
     }
 
@@ -1035,7 +1035,7 @@ public abstract class ManagerBase extends LifecycleBase
     // -------------------------------------------------------- Package Methods
 
 
-    public void setSessionCounter(int sessionCounter) {
+    public void setSessionCounter(long sessionCounter) {
         this.sessionCounter = sessionCounter;
     }
 
@@ -1045,7 +1045,7 @@ public abstract class ManagerBase extends LifecycleBase
      *
      * @return sessions created
      */
-    public int getSessionCounter() {
+    public long getSessionCounter() {
         return sessionCounter;
     }
 

==================================================
