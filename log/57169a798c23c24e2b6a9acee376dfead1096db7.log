57169a798c23c24e2b6a9acee376dfead1096db7
==================================================
Deprecate unused code identified by FindBugs
==================================================
Mark Thomas
==================================================
Fri Jul 28 15:20:32 2017 +0000
==================================================
ClusterRuleSet.java
Deprecate unused code identified by FindBugs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1803281 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MemoryRuleSet.java
index b35c26be65..c4f80ea248 100644
--- a/java/org/apache/catalina/ha/ClusterRuleSet.java
+++ b/java/org/apache/catalina/ha/ClusterRuleSet.java
@@ -64,7 +64,6 @@ public class ClusterRuleSet extends RuleSetBase {
      */
     public ClusterRuleSet(String prefix) {
         super();
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
ContextRuleSet.java
index 6c43aafb8b..8412eb70df 100644
--- a/java/org/apache/catalina/realm/MemoryRuleSet.java
+++ b/java/org/apache/catalina/realm/MemoryRuleSet.java
@@ -65,11 +65,8 @@ public class MemoryRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public MemoryRuleSet(String prefix) {
-
         super();
-        this.namespaceURI = null;
         this.prefix = prefix;
-
     }
 
 

==================================================
CredentialHandlerRuleSet.java
index f96321217a..2d7bb4c5ab 100644
--- a/java/org/apache/catalina/startup/ContextRuleSet.java
+++ b/java/org/apache/catalina/startup/ContextRuleSet.java
@@ -81,7 +81,6 @@ public class ContextRuleSet extends RuleSetBase {
      *  created
      */
     public ContextRuleSet(String prefix, boolean create) {
-        this.namespaceURI = null;
         this.prefix = prefix;
         this.create = create;
     }

==================================================
EngineRuleSet.java
index d82ef9aed4..a5b53532e4 100644
--- a/java/org/apache/catalina/startup/CredentialHandlerRuleSet.java
+++ b/java/org/apache/catalina/startup/CredentialHandlerRuleSet.java
@@ -61,7 +61,6 @@ public class CredentialHandlerRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public CredentialHandlerRuleSet(String prefix) {
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
HostRuleSet.java
index 0fb139a120..0d3825273d 100644
--- a/java/org/apache/catalina/startup/EngineRuleSet.java
+++ b/java/org/apache/catalina/startup/EngineRuleSet.java
@@ -63,7 +63,6 @@ public class EngineRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public EngineRuleSet(String prefix) {
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
NamingRuleSet.java
index 4afe521ccc..ab687b7ff0 100644
--- a/java/org/apache/catalina/startup/HostRuleSet.java
+++ b/java/org/apache/catalina/startup/HostRuleSet.java
@@ -63,7 +63,6 @@ public class HostRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public HostRuleSet(String prefix) {
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
RealmRuleSet.java
index bc31bdfb85..3e617b871d 100644
--- a/java/org/apache/catalina/startup/NamingRuleSet.java
+++ b/java/org/apache/catalina/startup/NamingRuleSet.java
@@ -62,7 +62,6 @@ public class NamingRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public NamingRuleSet(String prefix) {
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
WebRuleSet.java
index 9ef26b0399..9bf9792c51 100644
--- a/java/org/apache/catalina/startup/RealmRuleSet.java
+++ b/java/org/apache/catalina/startup/RealmRuleSet.java
@@ -64,7 +64,6 @@ public class RealmRuleSet extends RuleSetBase {
      *  trailing slash character)
      */
     public RealmRuleSet(String prefix) {
-        this.namespaceURI = null;
         this.prefix = prefix;
     }
 

==================================================
CallMethodRule.java
index 7a5fe20f22..28419afcd1 100644
--- a/java/org/apache/tomcat/util/descriptor/web/WebRuleSet.java
+++ b/java/org/apache/tomcat/util/descriptor/web/WebRuleSet.java
@@ -136,9 +136,7 @@ public class WebRuleSet extends RuleSetBase {
      * @param fragment <code>true</code> if this is a web fragment
      */
     public WebRuleSet(String prefix, boolean fragment) {
-
         super();
-        this.namespaceURI = null;
         this.prefix = prefix;
         this.fragment = fragment;
 
@@ -152,8 +150,8 @@ public class WebRuleSet extends RuleSetBase {
         relativeOrdering = new RelativeOrderingRule(fragment);
     }
 
-    // --------------------------------------------------------- Public Methods
 
+    // --------------------------------------------------------- Public Methods
 
     /**
      * <p>Add the set of Rule instances defined in this RuleSet to the

==================================================
Digester.java
index e2705c7d9e..c7a98839da 100644
--- a/java/org/apache/tomcat/util/digester/CallMethodRule.java
+++ b/java/org/apache/tomcat/util/digester/CallMethodRule.java
@@ -203,7 +203,10 @@ public class CallMethodRule extends Rule {
     /**
      * The names of the classes of the parameters to be collected.
      * This attribute allows creation of the classes to be postponed until the digester is set.
+     *
+     * @deprecated Unused. This will be removed in Tomcat 9.
      */
+    @Deprecated
     protected final String paramClassNames[];
 
     /**

==================================================
RuleSet.java
index 0b0f9ac818..6ade8f9b2c 100644
--- a/java/org/apache/tomcat/util/digester/Digester.java
+++ b/java/org/apache/tomcat/util/digester/Digester.java
@@ -586,7 +586,10 @@ public class Digester extends DefaultHandler2 {
     /**
      * @return the namespace URI that will be applied to all subsequently
      * added <code>Rule</code> objects.
+     *
+     * @deprecated Unused. Will be removed in Tomcat 9
      */
+    @Deprecated
     public String getRuleNamespaceURI() {
         return getRules().getNamespaceURI();
     }
@@ -599,7 +602,10 @@ public class Digester extends DefaultHandler2 {
      * @param ruleNamespaceURI Namespace URI that must match on all
      *  subsequently added rules, or <code>null</code> for matching
      *  regardless of the current namespace URI
+     *
+     * @deprecated Unused. Will be removed in Tomcat 9
      */
+    @Deprecated
     public void setRuleNamespaceURI(String ruleNamespaceURI) {
         getRules().setNamespaceURI(ruleNamespaceURI);
     }
@@ -1522,6 +1528,7 @@ public class Digester extends DefaultHandler2 {
     public void addRuleSet(RuleSet ruleSet) {
 
         String oldNamespaceURI = getRuleNamespaceURI();
+        @SuppressWarnings("deprecation")
         String newNamespaceURI = ruleSet.getNamespaceURI();
         if (log.isDebugEnabled()) {
             if (newNamespaceURI == null) {

==================================================
RuleSetBase.java
index ebfa186417..b367ec6a3a 100644
--- a/java/org/apache/tomcat/util/digester/RuleSet.java
+++ b/java/org/apache/tomcat/util/digester/RuleSet.java
@@ -44,7 +44,10 @@ public interface RuleSet {
     /**
      * @return the namespace URI that will be applied to all Rule instances
      * created from this RuleSet.
+     *
+     * @deprecated Unused. Will be removed in Tomcat 9
      */
+    @Deprecated
     public String getNamespaceURI();
 
 

==================================================
Rules.java
index ffd2452a69..f6fb98dd07 100644
--- a/java/org/apache/tomcat/util/digester/RuleSetBase.java
+++ b/java/org/apache/tomcat/util/digester/RuleSetBase.java
@@ -34,7 +34,10 @@ public abstract class RuleSetBase implements RuleSet {
     /**
      * The namespace URI that all Rule instances created by this RuleSet
      * will be associated with.
+     *
+     * @deprecated Unused. This will be removed in Tomcat 9.
      */
+    @Deprecated
     protected String namespaceURI = null;
 
 
@@ -44,7 +47,10 @@ public abstract class RuleSetBase implements RuleSet {
     /**
      * Return the namespace URI that will be applied to all Rule instances
      * created from this RuleSet.
+     *
+     * @deprecated Unused. This will be removed in Tomcat 9.
      */
+    @Deprecated
     @Override
     public String getNamespaceURI() {
         return this.namespaceURI;

==================================================
