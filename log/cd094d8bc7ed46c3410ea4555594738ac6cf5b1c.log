cd094d8bc7ed46c3410ea4555594738ac6cf5b1c
==================================================
Add hashCode implementations that are aligned with existing equals()
==================================================
Mark Thomas
==================================================
Tue Aug 31 18:16:03 2021 +0100
==================================================
GenericGroup.java
Add hashCode implementations that are aligned with existing equals()


==================================================
GenericRole.java
index 24397889a8..153f5e59fe 100644
--- a/java/org/apache/catalina/users/GenericGroup.java
+++ b/java/org/apache/catalina/users/GenericGroup.java
@@ -179,4 +179,12 @@ public class GenericGroup<UD extends UserDatabase> extends AbstractGroup {
     }
 
 
+    @Override
+    public int hashCode() {
+        final int prime = 31;
+        int result = 1;
+        result = prime * result + ((database == null) ? 0 : database.hashCode());
+        result = prime * result + ((groupname == null) ? 0 : groupname.hashCode());
+        return result;
+    }
 }

==================================================
GenericUser.java
index 4da7c4d5c9..210371429d 100644
--- a/java/org/apache/catalina/users/GenericRole.java
+++ b/java/org/apache/catalina/users/GenericRole.java
@@ -98,4 +98,12 @@ public class GenericRole<UD extends UserDatabase> extends AbstractRole {
     }
 
 
+    @Override
+    public int hashCode() {
+        final int prime = 31;
+        int result = 1;
+        result = prime * result + ((database == null) ? 0 : database.hashCode());
+        result = prime * result + ((rolename == null) ? 0 : rolename.hashCode());
+        return result;
+    }
 }

==================================================
