fd50b7efdd5dd3fd1dc1b18069af67537c5bb3e2
==================================================
UCDetector
==================================================
Mark Emlyn
==================================================
Sat Feb 16 21:31:51 2013 +0000
==================================================
JspContextWrapper.java
UCDetector
 - use final
 - reduce visibility
 - remove unused code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1446952 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JspFactoryImpl.java
index 91777205f5..a35b3e434a 100644
--- a/java/org/apache/jasper/runtime/JspContextWrapper.java
+++ b/java/org/apache/jasper/runtime/JspContextWrapper.java
@@ -81,7 +81,7 @@ public class JspContextWrapper extends PageContext implements VariableResolver {
 
     private ELContext elContext = null;
 
-    private PageContext rootJspCtxt;
+    private final PageContext rootJspCtxt;
 
     public JspContextWrapper(JspContext jspContext,
             ArrayList<String> nestedVars, ArrayList<String> atBeginVars,

==================================================
JspRuntimeLibrary.java
index 8ff4746d15..6ede92c3b7 100644
--- a/java/org/apache/jasper/runtime/JspFactoryImpl.java
+++ b/java/org/apache/jasper/runtime/JspFactoryImpl.java
@@ -174,7 +174,7 @@ public class JspFactoryImpl extends JspFactory {
         }
     }
 
-    protected static final class PageContextPool  {
+    private static final class PageContextPool  {
 
         private final PageContext[] pool;
 

==================================================
JspWriterImpl.java
index f8f16b7dbd..b2d0da46d6 100644
--- a/java/org/apache/jasper/runtime/JspRuntimeLibrary.java
+++ b/java/org/apache/jasper/runtime/JspRuntimeLibrary.java
@@ -59,12 +59,12 @@ public class JspRuntimeLibrary {
     protected static class PrivilegedIntrospectHelper
         implements PrivilegedExceptionAction<Void> {
 
-        private Object bean;
-        private String prop;
-        private String value;
-        private ServletRequest request;
-        private String param;
-        private boolean ignoreMethodNF;
+        private final Object bean;
+        private final String prop;
+        private final String value;
+        private final ServletRequest request;
+        private final String param;
+        private final boolean ignoreMethodNF;
 
         PrivilegedIntrospectHelper(Object bean, String prop,
                                    String value, ServletRequest request,

==================================================
PageContextImpl.java
index a5d32de91d..8f898952ee 100644
--- a/java/org/apache/jasper/runtime/JspWriterImpl.java
+++ b/java/org/apache/jasper/runtime/JspWriterImpl.java
@@ -55,16 +55,6 @@ public class JspWriterImpl extends JspWriter {
         super( Constants.DEFAULT_BUFFER_SIZE, true );
     }
 
-    /**
-     * Create a buffered character-output stream that uses a default-sized
-     * output buffer.
-     *
-     * @param  response  A Servlet Response
-     */
-    public JspWriterImpl(ServletResponse response) {
-        this(response, Constants.DEFAULT_BUFFER_SIZE, true);
-    }
-
     /**
      * Create a new buffered character-output stream that uses an output
      * buffer of the given size.
@@ -340,7 +330,8 @@ public class JspWriterImpl extends JspWriter {
     }
 
 
-    static final String lineSeparator = System.getProperty("line.separator");
+    private static final String lineSeparator =
+    		System.getProperty("line.separator");
 
     /**
      * Write a line separator.  The line separator string is defined by the

==================================================
