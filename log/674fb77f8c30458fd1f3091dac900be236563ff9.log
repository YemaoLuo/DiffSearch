674fb77f8c30458fd1f3091dac900be236563ff9
==================================================
Remove serialization support and serialVersionUID fields from BCEL classes.
==================================================
Konstantin Kolinko
==================================================
Fri Sep 12 14:50:19 2014 +0000
==================================================
AccessFlags.java
Remove serialization support and serialVersionUID fields from BCEL classes.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1624563 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AnnotationDefault.java
index 23839ec970..82ba0ffc53 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/AccessFlags.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/AccessFlags.java
@@ -23,12 +23,10 @@ package org.apache.tomcat.util.bcel.classfile;
  *
  * @author  <A HREF="mailto:m.dahm@gmx.de">M. Dahm</A>
  */
-public abstract class AccessFlags implements java.io.Serializable {
+public abstract class AccessFlags {
 
-    private static final long serialVersionUID = 2548932939969293935L;
     protected int access_flags;
 
-
     public AccessFlags() {
     }
 

==================================================
Annotations.java
index e79fc4315c..a0f1be7334 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/AnnotationDefault.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/AnnotationDefault.java
@@ -26,9 +26,7 @@ import java.io.IOException;
  * @author <A HREF="mailto:dbrosius@qis.net">D. Brosius</A>
  * @since 6.0
  */
-public class AnnotationDefault extends Attribute
-{
-    private static final long serialVersionUID = 6715933396664171543L;
+public class AnnotationDefault extends Attribute {
 
     /**
      * @param name_index

==================================================
Attribute.java
index 333dcfd5bf..4a6e4897f6 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/Annotations.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/Annotations.java
@@ -28,8 +28,6 @@ import java.io.IOException;
  */
 public abstract class Annotations extends Attribute {
 
-    private static final long serialVersionUID = 1L;
-
     private final AnnotationEntry[] annotation_table;
 
     /**

==================================================
Constant.java
index 381919ff14..55aaf502ff 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/Attribute.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/Attribute.java
@@ -19,7 +19,6 @@ package org.apache.tomcat.util.bcel.classfile;
 
 import java.io.DataInputStream;
 import java.io.IOException;
-import java.io.Serializable;
 
 import org.apache.tomcat.util.bcel.Constants;
 
@@ -33,9 +32,7 @@ import org.apache.tomcat.util.bcel.Constants;
  *
  * @author <A HREF="mailto:m.dahm@gmx.de">M. Dahm</A>
  */
-public abstract class Attribute implements Serializable
-{
-    private static final long serialVersionUID = 1514136303496688899L;
+public abstract class Attribute {
 
     protected int name_index; // Points to attribute name in constant pool
 

==================================================
ConstantClass.java
index ed00c68ca6..41f70a59bd 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/Constant.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/Constant.java
@@ -19,7 +19,6 @@ package org.apache.tomcat.util.bcel.classfile;
 
 import java.io.DataInputStream;
 import java.io.IOException;
-import java.io.Serializable;
 
 import org.apache.tomcat.util.bcel.Constants;
 
@@ -30,9 +29,7 @@ import org.apache.tomcat.util.bcel.Constants;
  *
  * @author  <A HREF="mailto:m.dahm@gmx.de">M. Dahm</A>
  */
-public abstract class Constant implements Serializable {
-
-    private static final long serialVersionUID = 2827409182154809454L;
+public abstract class Constant {
 
     /* In fact this tag is redundant since we can distinguish different
      * `Constant' objects by their type, i.e., via `instanceof'. In some

==================================================
ConstantDouble.java
index 463579bfff..fe5df58ba2 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantClass.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantClass.java
@@ -32,7 +32,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantClass extends Constant {
 
-    private static final long serialVersionUID = -6603658849582876642L;
     private int name_index; // Identical to ConstantString except for the name
 
 

==================================================
ConstantFloat.java
index 0b2faf84c9..df1bd8c457 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantDouble.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantDouble.java
@@ -32,7 +32,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantDouble extends Constant {
 
-    private static final long serialVersionUID = 3450743772468544760L;
     private double bytes;
 
 

==================================================
ConstantInteger.java
index e20fe80661..48129fc79d 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantFloat.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantFloat.java
@@ -32,7 +32,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantFloat extends Constant {
 
-    private static final long serialVersionUID = 8301269629885378651L;
     private float bytes;
 
 

==================================================
ConstantLong.java
index 12fc460cfa..4f71f1dbd0 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantInteger.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantInteger.java
@@ -32,7 +32,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantInteger extends Constant {
 
-    private static final long serialVersionUID = -6415476571232528966L;
     private int bytes;
 
 

==================================================
ConstantPool.java
index 7b9ae27063..60d322bc12 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantLong.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantLong.java
@@ -32,7 +32,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantLong extends Constant {
 
-    private static final long serialVersionUID = -1893131676489003562L;
     private long bytes;
 
 

==================================================
ConstantUtf8.java
index 161c342269..d1ce541382 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantPool.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantPool.java
@@ -19,7 +19,6 @@ package org.apache.tomcat.util.bcel.classfile;
 
 import java.io.DataInputStream;
 import java.io.IOException;
-import java.io.Serializable;
 
 import org.apache.tomcat.util.bcel.Constants;
 
@@ -34,9 +33,8 @@ import org.apache.tomcat.util.bcel.Constants;
  * @see     Constant
  * @author <A HREF="mailto:m.dahm@gmx.de">M. Dahm</A>
  */
-public class ConstantPool implements Serializable {
+public class ConstantPool {
 
-    private static final long serialVersionUID = -6765503791185687014L;
     private int constant_pool_count;
     private Constant[] constant_pool;
 

==================================================
JavaClass.java
index d69a646c69..e1da5acccb 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ConstantUtf8.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ConstantUtf8.java
@@ -31,7 +31,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public final class ConstantUtf8 extends Constant {
 
-    private static final long serialVersionUID = 8119001312020421976L;
     private final String bytes;
 
 

==================================================
ParameterAnnotations.java
index ae2ee246fa..93925b1388 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/JavaClass.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/JavaClass.java
@@ -34,7 +34,6 @@ import org.apache.tomcat.util.bcel.Constants;
  */
 public class JavaClass extends AccessFlags {
 
-    private static final long serialVersionUID = 7029227708237523236L;
     private String class_name;
     private String superclass_name;
     private String[] interface_names;

==================================================
RuntimeVisibleAnnotations.java
index 46f603658f..b189ba9ff6 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/ParameterAnnotations.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/ParameterAnnotations.java
@@ -28,7 +28,6 @@ import java.io.IOException;
  */
 public abstract class ParameterAnnotations extends Attribute {
 
-    private static final long serialVersionUID = -8831779739803248091L;
     private int num_parameters;
     private ParameterAnnotationEntry[] parameter_annotation_table; // Table of parameter annotations
 

==================================================
RuntimeVisibleParameterAnnotations.java
index f0dbf4ccdd..5f7c474a4f 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/RuntimeVisibleAnnotations.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/RuntimeVisibleAnnotations.java
@@ -27,9 +27,7 @@ import java.io.IOException;
  * @author <A HREF="mailto:dbrosius@qis.net">D. Brosius</A>
  * @since 6.0
  */
-public class RuntimeVisibleAnnotations extends Annotations
-{
-    private static final long serialVersionUID = 2912284875689024413L;
+public class RuntimeVisibleAnnotations extends Annotations {
 
     /**
      * @param name_index

==================================================
