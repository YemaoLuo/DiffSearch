e7c15c90498edfb0729d3998bcc874c4c9f513bc
==================================================
Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
==================================================
Mark Emlyn
==================================================
Mon May 9 18:44:11 2011 +0000
==================================================
ListELResolver.java
Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
ListElResolver should also return Object.class for getType()

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101144 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestValueExpressionImpl.java
index 989fcb56e7..bc63932a49 100644
--- a/java/javax/el/ListELResolver.java
+++ b/java/javax/el/ListELResolver.java
@@ -74,8 +74,7 @@ public class ListELResolver extends ELResolver {
                 throw new PropertyNotFoundException(
                         new ArrayIndexOutOfBoundsException(idx).getMessage());
             }
-            Object obj = list.get(idx);
-            return (obj != null) ? obj.getClass() : null;
+            return Object.class;
         }
 
         return null;

==================================================
