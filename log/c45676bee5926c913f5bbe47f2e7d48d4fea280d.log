c45676bee5926c913f5bbe47f2e7d48d4fea280d
==================================================
Fix some more warnings
==================================================
Mark Emlyn
==================================================
Tue Nov 6 23:07:43 2012 +0000
==================================================
NioEndpoint.java
Fix some more warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1406392 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SlowQueryReport.java
index dc66d41e97..83bbd60c4e 100644
--- a/java/org/apache/tomcat/util/net/NioEndpoint.java
+++ b/java/org/apache/tomcat/util/net/NioEndpoint.java
@@ -1209,7 +1209,9 @@ public class NioEndpoint extends AbstractEndpoint {
                         cancelledKey(sk,SocketStatus.ERROR);
                         return false;
                     }
-                    sd.fchannel = new FileInputStream(f).getChannel();
+                    @SuppressWarnings("resource") // Closed when channel is closed
+                    FileInputStream fis = new FileInputStream(f);
+                    sd.fchannel = fis.getChannel();
                 }
 
                 //configure output channel

==================================================
