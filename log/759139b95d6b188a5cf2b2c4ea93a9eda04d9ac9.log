759139b95d6b188a5cf2b2c4ea93a9eda04d9ac9
==================================================
Replace calls to methods that are deprecated in Java 16+
==================================================
Mark Thomas
==================================================
Thu Jan 12 19:49:15 2023 +0000
==================================================
SSLUtilBase.java
Replace calls to methods that are deprecated in Java 16+


==================================================
OpenSSLX509Certificate.java
index 0c73006f90..76b485654f 100644
--- a/java/org/apache/tomcat/util/net/SSLUtilBase.java
+++ b/java/org/apache/tomcat/util/net/SSLUtilBase.java
@@ -465,7 +465,7 @@ public abstract class SSLUtilBase implements SSLUtil {
                             ((X509Certificate) cert).checkValidity(now);
                         } catch (CertificateExpiredException | CertificateNotYetValidException e) {
                             String msg = sm.getString("sslUtilBase.trustedCertNotValid", alias,
-                                    ((X509Certificate) cert).getSubjectDN(), e.getMessage());
+                                    ((X509Certificate) cert).getSubjectX500Principal(), e.getMessage());
                             if (log.isDebugEnabled()) {
                                 log.debug(msg, e);
                             } else {

==================================================
TesterSupport.java
index de33204b60..a3eddce8c0 100644
--- a/java/org/apache/tomcat/util/net/openssl/OpenSSLX509Certificate.java
+++ b/java/org/apache/tomcat/util/net/openssl/OpenSSLX509Certificate.java
@@ -62,11 +62,13 @@ final class OpenSSLX509Certificate extends X509Certificate {
     }
 
     @Override
+    @Deprecated
     public Principal getIssuerDN() {
         return unwrap().getIssuerDN();
     }
 
     @Override
+    @Deprecated
     public Principal getSubjectDN() {
         return unwrap().getSubjectDN();
     }

==================================================
