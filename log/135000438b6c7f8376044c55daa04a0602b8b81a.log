135000438b6c7f8376044c55daa04a0602b8b81a
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=54395
==================================================
Filip Hanik
==================================================
Thu Aug 7 21:32:27 2014 +0000
==================================================
PoolProperties.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=54395
Fix JdbcInterceptor parsing

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1616599 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestJdbcInterceptorConfigParsing.java
index b700ca054a..22e9c9813d 100644
--- a/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java
+++ b/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java
@@ -481,7 +481,7 @@ public class PoolProperties implements PoolConfiguration, Cloneable, Serializabl
                     } else {
                         String name = interceptorValues[i].substring(0,propIndex).trim();
                         definitions[i+1] = new InterceptorDefinition(name);
-                        String propsAsString = interceptorValues[i].substring(propIndex+1, interceptorValues[i].length()-1);
+                        String propsAsString = interceptorValues[i].substring(propIndex+1, endIndex);
                         String[] props = propsAsString.split(",");
                         for (int j=0; j<props.length; j++) {
                             int pidx = props[j].indexOf("=");

==================================================
