3befaab541a4c7966cd58d2128bcc6290e900f65
==================================================
Implement review comments from kkolinko on the original fix for BZ 58566
==================================================
Mark Thomas
==================================================
Mon Nov 2 13:50:40 2015 +0000
==================================================
AprEndpoint.java
Implement review comments from kkolinko on the original fix for BZ 58566
Use correct type for return value and avoid unnecessary casts

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1712002 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SSLHostConfig.java
index 3c9c87782c..4eee8a0c83 100644
--- a/java/org/apache/tomcat/util/net/AprEndpoint.java
+++ b/java/org/apache/tomcat/util/net/AprEndpoint.java
@@ -542,7 +542,7 @@ public class AprEndpoint extends AbstractEndpoint<Long> implements SNICallBack {
                 sslHostConfig.setOpenSslContext(Long.valueOf(ctx));
             }
             SSLHostConfig defaultSSLHostConfig = sslHostConfigs.get(getDefaultSSLHostConfigName());
-            Long defaultSSLContext = (Long) defaultSSLHostConfig.getOpenSslContext();
+            Long defaultSSLContext = defaultSSLHostConfig.getOpenSslContext();
             sslContext = defaultSSLContext.longValue();
             SSLContext.registerDefault(defaultSSLContext, this);
         }
@@ -552,7 +552,7 @@ public class AprEndpoint extends AbstractEndpoint<Long> implements SNICallBack {
     @Override
     public long getSslContext(String sniHostName) {
         SSLHostConfig sslHostConfig = getSSLHostConfig(sniHostName);
-        Long ctx = (Long) sslHostConfig.getOpenSslContext();
+        Long ctx = sslHostConfig.getOpenSslContext();
         if (ctx != null) {
             return ctx.longValue();
         }

==================================================
