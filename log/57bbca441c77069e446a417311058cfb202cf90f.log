57bbca441c77069e446a417311058cfb202cf90f
==================================================
UCDetector
==================================================
Mark Emlyn
==================================================
Tue Feb 19 19:48:47 2013 +0000
==================================================
C2BConverter.java
UCDetector
 - use final
 - reduce visibility

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1447883 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MessageBytes.java
index 5839d38ccb..36bc934c06 100644
--- a/java/org/apache/tomcat/util/buf/C2BConverter.java
+++ b/java/org/apache/tomcat/util/buf/C2BConverter.java
@@ -28,28 +28,14 @@ import java.nio.charset.CodingErrorAction;
  */
 public final class C2BConverter {
 
-    /**
-     * @deprecated  Will be made private in Tomcat 8.0.x
-     */
-    @Deprecated
-    protected CharsetEncoder encoder = null;
-    /**
-     * @deprecated  Will be made private in Tomcat 8.0.x
-     */
-    @Deprecated
-    protected ByteBuffer bb = null;
-    /**
-     * @deprecated  Will be made private in Tomcat 8.0.x
-     */
-    @Deprecated
-    protected CharBuffer cb = null;
+    private final CharsetEncoder encoder;
+    private ByteBuffer bb = null;
+    private CharBuffer cb = null;
 
     /**
      * Leftover buffer used for multi-characters characters.
-     * @deprecated  Will be made private in Tomcat 8.0.x
      */
-    @Deprecated
-    protected CharBuffer leftovers = null;
+    private final CharBuffer leftovers;
 
     public C2BConverter(String encoding) throws IOException {
         encoder = B2CConverter.getCharset(encoding).newEncoder();

==================================================
UDecoder.java
index e0029c052b..e602c3f6e0 100644
--- a/java/org/apache/tomcat/util/buf/MessageBytes.java
+++ b/java/org/apache/tomcat/util/buf/MessageBytes.java
@@ -519,7 +519,7 @@ public final class MessageBytes implements Cloneable, Serializable {
 
     private static final MessageBytesFactory factory=new MessageBytesFactory();
 
-    public static class MessageBytesFactory {
+    private static class MessageBytesFactory {
         protected MessageBytesFactory() {
         }
         public MessageBytes newInstance() {

==================================================
