ad8e5ccf05043d5304a6b62edb82fb371c5d6edd
==================================================
Deprecate unused code
==================================================
Mark Emlyn
==================================================
Tue Jan 31 09:31:06 2012 +0000
==================================================
Registry.java
Deprecate unused code

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1238322 13f79535-47bb-0310-9956-ffa450edef68



==================================================
MbeansDescriptorsDigesterSource.java
index b9a39fcd04..f89ba05127 100644
--- a/java/org/apache/tomcat/util/modeler/Registry.java
+++ b/java/org/apache/tomcat/util/modeler/Registry.java
@@ -582,7 +582,7 @@ public class Registry implements RegistryMBean, MBeanRegistration  {
         }
         ModelerSource ds=getModelerSource(sourceType);
         List<ObjectName> mbeans =
-            ds.loadDescriptors(this, location, type, inputsource);
+            ds.loadDescriptors(this, type, inputsource);
 
         return mbeans;
     }

==================================================
MbeansDescriptorsIntrospectionSource.java
index d06c7bb80b..0994e62e4c 100644
--- a/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsDigesterSource.java
+++ b/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsDigesterSource.java
@@ -38,9 +38,7 @@ public class MbeansDescriptorsDigesterSource extends ModelerSource
             LogFactory.getLog(MbeansDescriptorsDigesterSource.class);
 
     Registry registry;
-    String location;
     String type;
-    Object source;
     List<ObjectName> mbeans = new ArrayList<ObjectName>();
     protected static volatile Digester digester = null;
 
@@ -138,6 +136,11 @@ public class MbeansDescriptorsDigesterSource extends ModelerSource
         this.registry=reg;
     }
 
+
+    /**
+     * @deprecated Unused. Will be removed in Tomcat 8.0.x
+     */
+    @Deprecated
     public void setLocation( String loc ) {
         this.location=loc;
     }
@@ -155,10 +158,16 @@ public class MbeansDescriptorsDigesterSource extends ModelerSource
     }
 
     @Override
+    @Deprecated
     public List<ObjectName> loadDescriptors( Registry registry, String location,
             String type, Object source) throws Exception {
+        return loadDescriptors(registry, type, source);
+    }
+
+    @Override
+    public List<ObjectName> loadDescriptors( Registry registry, String type,
+            Object source) throws Exception {
         setRegistry(registry);
-        setLocation(location);
         setType(type);
         setSource(source);
         execute();

==================================================
MbeansDescriptorsSerSource.java
index 41f9c5edc7..c6e0ddf451 100644
--- a/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsIntrospectionSource.java
+++ b/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsIntrospectionSource.java
@@ -41,15 +41,17 @@ public class MbeansDescriptorsIntrospectionSource extends ModelerSource
     private static final Log log = LogFactory.getLog(MbeansDescriptorsIntrospectionSource.class);
 
     Registry registry;
-    String location;
     String type;
-    Object source;
     List<ObjectName> mbeans = new ArrayList<ObjectName>();
 
     public void setRegistry(Registry reg) {
         this.registry=reg;
     }
 
+    /**
+     * @deprecated Unused. Will be removed in Tomcat 8.0.x
+     */
+    @Deprecated
     public void setLocation( String loc ) {
         this.location=loc;
     }
@@ -67,10 +69,16 @@ public class MbeansDescriptorsIntrospectionSource extends ModelerSource
     }
 
     @Override
+    @Deprecated
     public List<ObjectName> loadDescriptors( Registry registry, String location,
             String type, Object source) throws Exception {
+        return loadDescriptors(registry, type, source);
+    }
+
+    @Override
+    public List<ObjectName> loadDescriptors(Registry registry, String type,
+            Object source) throws Exception {
         setRegistry(registry);
-        setLocation(location);
         setType(type);
         setSource(source);
         execute();

==================================================
ModelerSource.java
index 8d589d95b0..0f15aad3e1 100644
--- a/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsSerSource.java
+++ b/java/org/apache/tomcat/util/modeler/modules/MbeansDescriptorsSerSource.java
@@ -34,15 +34,17 @@ public class MbeansDescriptorsSerSource extends ModelerSource
 {
     private static final Log log = LogFactory.getLog(MbeansDescriptorsSerSource.class);
     Registry registry;
-    String location;
     String type;
-    Object source;
     List<ObjectName> mbeans=new ArrayList<ObjectName>();
 
     public void setRegistry(Registry reg) {
         this.registry=reg;
     }
 
+    /**
+     * @deprecated Unused. Will be removed in Tomcat 8.0.x
+     */
+    @Deprecated
     public void setLocation( String loc ) {
         this.location=loc;
     }
@@ -60,10 +62,16 @@ public class MbeansDescriptorsSerSource extends ModelerSource
     }
 
     @Override
+    @Deprecated
     public List<ObjectName> loadDescriptors( Registry registry, String location,
             String type, Object source) throws Exception {
+        return loadDescriptors(registry, type, source);
+    }
+
+    @Override
+    public List<ObjectName> loadDescriptors( Registry registry, String type,
+            Object source) throws Exception {
         setRegistry(registry);
-        setLocation(location);
         setType(type);
         setSource(source);
         execute();

==================================================
