27a0a5b400572de1991e810d9d90a3500867b610
==================================================
Fix null warnings in IDE
==================================================
Mark Thomas
==================================================
Fri Nov 9 11:02:10 2018 +0000
==================================================
CatalinaBaseConfigurationSource.java
Fix null warnings in IDE

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1846232 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ContextConfig.java
index b62df22d1e..8846bd8e1b 100644
--- a/java/org/apache/catalina/startup/CatalinaBaseConfigurationSource.java
+++ b/java/org/apache/catalina/startup/CatalinaBaseConfigurationSource.java
@@ -64,7 +64,8 @@ public class CatalinaBaseConfigurationSource implements ConfigurationSource {
                 }
             }
         }
-        if (result == null) {
+
+        if (result == null && ioe != null) {
             throw ioe;
         } else {
             return result;

==================================================
RewriteValve.java
index e186cd5e01..c14b995582 100644
--- a/java/org/apache/catalina/startup/ContextConfig.java
+++ b/java/org/apache/catalina/startup/ContextConfig.java
@@ -1898,7 +1898,7 @@ public class ContextConfig implements LifecycleListener {
         try {
             stream = webXmlResource.getInputStream();
             source = new InputSource(webXmlResource.getURI().toString());
-            if (stream != null && source != null) {
+            if (stream != null) {
                 source.setByteStream(stream);
             }
         } catch (Exception e) {

==================================================
