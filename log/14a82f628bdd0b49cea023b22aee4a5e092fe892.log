14a82f628bdd0b49cea023b22aee4a5e092fe892
==================================================
Fix behavior of ReplicatedMap when member has disappeared.
==================================================
Keiichi Fujino
==================================================
Tue Jan 20 04:54:05 2015 +0000
==================================================
AbstractReplicatedMap.java
Fix behavior of ReplicatedMap when member has disappeared.
If map entry is primary, rebuild the backup members.
If primary node of map entry has disappeared, backup node is promoted to primary.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1653193 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ReplicatedMap.java
index 16e0bc72d5..00cbba7798 100644
--- a/java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java
+++ b/java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java
@@ -71,7 +71,7 @@ public abstract class AbstractReplicatedMap<K,V>
 //------------------------------------------------------------------------------
 //              INSTANCE VARIABLES
 //------------------------------------------------------------------------------
-    private final ConcurrentHashMap<K, MapEntry<K,V>> innerMap;
+    protected final ConcurrentHashMap<K, MapEntry<K,V>> innerMap;
 
     protected abstract int getStateMessageType();
 

==================================================
