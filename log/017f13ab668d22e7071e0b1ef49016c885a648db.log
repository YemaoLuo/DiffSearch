017f13ab668d22e7071e0b1ef49016c885a648db
==================================================
Get validation working properly. This will still throw two errors on start-up due to errors in two of the tld's included in standard.jar in the examples app.
==================================================
Mark Emlyn
==================================================
Thu Mar 12 22:09:44 2009 +0000
==================================================
DigesterFactory.java
Get validation working properly. This will still throw two errors on start-up due to errors in two of the tld's included in standard.jar in the examples app.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@753035 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Digester.java
index 5ec19a843c..46e0e79f1e 100644
--- a/java/org/apache/catalina/startup/DigesterFactory.java
+++ b/java/org/apache/catalina/startup/DigesterFactory.java
@@ -68,10 +68,6 @@ public class DigesterFactory {
         digester.setValidating(xmlValidation);
         digester.setUseContextClassLoader(true);
 
-        if (xmlValidation || xmlNamespaceAware){
-            configureSchema(digester);        
-        }
-
         SchemaResolver schemaResolver = new SchemaResolver(digester);
         registerLocalSchema(schemaResolver);
         
@@ -188,19 +184,4 @@ public class DigesterFactory {
         }
     }
 
-
-    /**
-     * Turn on DTD and/or validation (based on the parser implementation)
-     */
-    protected static void configureSchema(Digester digester){
-        URL url = DigesterFactory.class
-                        .getResource(Constants.WebSchemaResourcePath_25);
-  
-        if(url == null) {
-            log.error("Could not get url for " 
-                                        + Constants.WebSchemaResourcePath_25);
-        } else {
-            digester.setSchema(url.toString());     
-        }
-    }
 }

==================================================
