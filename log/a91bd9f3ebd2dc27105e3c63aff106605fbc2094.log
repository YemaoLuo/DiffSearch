a91bd9f3ebd2dc27105e3c63aff106605fbc2094
==================================================
Add a SendfileBase class and refactor the existing implementations to
==================================================
Mark Thomas
==================================================
Fri Jan 23 19:02:27 2015 +0000
==================================================
AprEndpoint.java
Add a SendfileBase class and refactor the existing implementations to
inherit from it.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1654315 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Nio2Endpoint.java
index b73e2bd2e9..ef154bcce8 100644
--- a/java/org/apache/tomcat/util/net/AprEndpoint.java
+++ b/java/org/apache/tomcat/util/net/AprEndpoint.java
@@ -1917,7 +1917,7 @@ public class AprEndpoint extends AbstractEndpoint<Long> {
     /**
      * SendfileData class.
      */
-    public static class SendfileData {
+    public static class SendfileData extends SendfileDataBase {
         // File
         public String fileName;
         public long fd;

==================================================
NioEndpoint.java
index 8918c47921..b03cc47faf 100644
--- a/java/org/apache/tomcat/util/net/Nio2Endpoint.java
+++ b/java/org/apache/tomcat/util/net/Nio2Endpoint.java
@@ -1615,7 +1615,7 @@ public class Nio2Endpoint extends AbstractEndpoint<Nio2Channel> {
     /**
      * SendfileData class.
      */
-    public static class SendfileData {
+    public static class SendfileData extends SendfileDataBase {
         // File
         public String fileName;
         public FileChannel fchannel;

==================================================
SendfileDataBase.java
index 4a19d68ef4..1a67a31e96 100644
--- a/java/org/apache/tomcat/util/net/NioEndpoint.java
+++ b/java/org/apache/tomcat/util/net/NioEndpoint.java
@@ -1755,7 +1755,7 @@ public class NioEndpoint extends AbstractEndpoint<NioChannel> {
     /**
      * SendfileData class.
      */
-    public static class SendfileData {
+    public static class SendfileData extends SendfileDataBase {
         // File
         public volatile String fileName;
         public volatile FileChannel fchannel;

==================================================
