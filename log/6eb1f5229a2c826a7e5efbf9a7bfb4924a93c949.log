6eb1f5229a2c826a7e5efbf9a7bfb4924a93c949
==================================================
Improve large-file support (more then 4 Gb) at all AccessLogValves, backport from 5.5.25.
==================================================
Peter Rossbach
==================================================
Thu Sep 13 21:43:22 2007 +0000
==================================================
AccessLogValve.java
Improve large-file support (more then 4 Gb) at all AccessLogValves, backport from 5.5.25.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575475 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JDBCAccessLogValve.java
index 013cc69adb..f0948f4d04 100644
--- a/java/org/apache/catalina/valves/AccessLogValve.java
+++ b/java/org/apache/catalina/valves/AccessLogValve.java
@@ -1099,7 +1099,7 @@ public class AccessLogValve
 
         public void addElement(StringBuffer buf, Date date, Request request,
                 Response response, long time) {
-            int length = response.getContentCount();
+            long length = response.getContentCountLong() ;
             if (length <= 0 && conversion) {
                 buf.append('-');
             } else {

==================================================
