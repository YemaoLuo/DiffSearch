0c785cf3bebc80e4fc445dab0a3d77651c07db8d
==================================================
Refactor to better align NIO and NIO2 Acceptor classes
==================================================
Mark Thomas
==================================================
Tue Dec 6 11:47:01 2016 +0000
==================================================
Nio2Endpoint.java
Refactor to better align NIO and NIO2 Acceptor classes
- Re-use IOException handling during accept from NIO2 (it is slightly better)
- Align comments

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1772872 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioEndpoint.java
index d4ca94ccd8..548c7e2e8f 100644
--- a/java/org/apache/tomcat/util/net/Nio2Endpoint.java
+++ b/java/org/apache/tomcat/util/net/Nio2Endpoint.java
@@ -446,7 +446,8 @@ public class Nio2Endpoint extends AbstractJsseEndpoint<Nio2Channel> {
 
                     // Configure the socket
                     if (running && !paused) {
-                        // Hand this socket off to an appropriate processor
+                        // setSocketOptions() will hand the socket off to
+                        // an appropriate processor if successful
                         if (!setSocketOptions(socket)) {
                             countDownConnection();
                             closeSocket(socket);

==================================================
