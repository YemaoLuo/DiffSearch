54e894f77e0f3aba1500c77e41e79e3afb68f678
==================================================
Simplify code since ServletException now uses standard exception chaining.
==================================================
Mark Emlyn
==================================================
Sun Jan 28 15:28:23 2007 +0000
==================================================
StandardWrapper.java
Simplify code since ServletException now uses standard exception chaining.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500812 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ErrorReportValve.java
index 9dc8d4b6f7..c090a62374 100644
--- a/java/org/apache/catalina/core/StandardWrapper.java
+++ b/java/org/apache/catalina/core/StandardWrapper.java
@@ -709,9 +709,7 @@ public class StandardWrapper
             return theException;
         }
         
-        if (theRootCause instanceof ServletException) {
-            deeperRootCause = ((ServletException) theRootCause).getRootCause();
-        } else if (jspExceptionClazz!=null &&
+        if (jspExceptionClazz!=null &&
                 jspExceptionClazz.isAssignableFrom(theRootCause.getClass())) {
             deeperRootCause = (Throwable)IntrospectionUtils.getProperty(
                     theRootCause, "rootCause"); 

==================================================
