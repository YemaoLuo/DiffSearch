bcc8e4699a69cd1fc75207d4bd8ad9d1ab68b338
==================================================
Fix some unused code warnings
==================================================
Mark Emlyn
==================================================
Thu Apr 21 12:25:31 2011 +0000
==================================================
MemoryUserDatabase.java
Fix some unused code warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095677 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AbstractObjectCreationFactory.java
index 7b6120becf..a81bd598af 100644
--- a/java/org/apache/catalina/users/MemoryUserDatabase.java
+++ b/java/org/apache/catalina/users/MemoryUserDatabase.java
@@ -36,8 +36,8 @@ import org.apache.catalina.UserDatabase;
 import org.apache.juli.logging.Log;
 import org.apache.juli.logging.LogFactory;
 import org.apache.tomcat.util.ExceptionUtils;
+import org.apache.tomcat.util.digester.AbstractObjectCreationFactory;
 import org.apache.tomcat.util.digester.Digester;
-import org.apache.tomcat.util.digester.ObjectCreationFactory;
 import org.apache.tomcat.util.res.StringManager;
 import org.xml.sax.Attributes;
 
@@ -683,7 +683,7 @@ public class MemoryUserDatabase implements UserDatabase {
 /**
  * Digester object creation factory for group instances.
  */
-class MemoryGroupCreationFactory implements ObjectCreationFactory {
+class MemoryGroupCreationFactory extends AbstractObjectCreationFactory {
 
     public MemoryGroupCreationFactory(MemoryUserDatabase database) {
         this.database = database;
@@ -722,26 +722,13 @@ class MemoryGroupCreationFactory implements ObjectCreationFactory {
     }
 
     private MemoryUserDatabase database = null;
-
-    private Digester digester = null;
-
-    @Override
-    public Digester getDigester() {
-        return (this.digester);
-    }
-
-    @Override
-    public void setDigester(Digester digester) {
-        this.digester = digester;
-    }
-
 }
 
 
 /**
  * Digester object creation factory for role instances.
  */
-class MemoryRoleCreationFactory implements ObjectCreationFactory {
+class MemoryRoleCreationFactory extends AbstractObjectCreationFactory {
 
     public MemoryRoleCreationFactory(MemoryUserDatabase database) {
         this.database = database;
@@ -759,26 +746,13 @@ class MemoryRoleCreationFactory implements ObjectCreationFactory {
     }
 
     private MemoryUserDatabase database = null;
-
-    private Digester digester = null;
-
-    @Override
-    public Digester getDigester() {
-        return (this.digester);
-    }
-
-    @Override
-    public void setDigester(Digester digester) {
-        this.digester = digester;
-    }
-
 }
 
 
 /**
  * Digester object creation factory for user instances.
  */
-class MemoryUserCreationFactory implements ObjectCreationFactory {
+class MemoryUserCreationFactory extends AbstractObjectCreationFactory {
 
     public MemoryUserCreationFactory(MemoryUserDatabase database) {
         this.database = database;
@@ -842,17 +816,4 @@ class MemoryUserCreationFactory implements ObjectCreationFactory {
     }
 
     private MemoryUserDatabase database = null;
-
-    private Digester digester = null;
-
-    @Override
-    public Digester getDigester() {
-        return (this.digester);
-    }
-
-    @Override
-    public void setDigester(Digester digester) {
-        this.digester = digester;
-    }
-
 }

==================================================
AbstractRulesImpl.java
index 35dad880bb..78ed8457cc 100644
--- a/java/org/apache/tomcat/util/digester/AbstractObjectCreationFactory.java
+++ b/java/org/apache/tomcat/util/digester/AbstractObjectCreationFactory.java
@@ -24,7 +24,8 @@ import org.xml.sax.Attributes;
  * <p>Abstract base class for <code>ObjectCreationFactory</code>
  * implementations.</p>
  */
-public abstract class AbstractObjectCreationFactory implements ObjectCreationFactory {
+public abstract class AbstractObjectCreationFactory
+        implements ObjectCreationFactory {
 
 
     // ----------------------------------------------------- Instance Variables
@@ -34,7 +35,7 @@ public abstract class AbstractObjectCreationFactory implements ObjectCreationFac
      * The associated <code>Digester</code> instance that was set up by
      * {@link FactoryCreateRule} upon initialization.
      */
-    protected Digester digester = null;
+    private Digester digester = null;
 
 
     // --------------------------------------------------------- Public Methods
@@ -48,6 +49,7 @@ public abstract class AbstractObjectCreationFactory implements ObjectCreationFac
      *
      * @throws Exception any exception thrown will be propagated upwards
      */
+    @Override
     public abstract Object createObject(Attributes attributes) throws Exception;
 
 
@@ -55,6 +57,7 @@ public abstract class AbstractObjectCreationFactory implements ObjectCreationFac
      * <p>Returns the {@link Digester} that was set by the
      * {@link FactoryCreateRule} upon initialization.
      */
+    @Override
     public Digester getDigester() {
 
         return (this.digester);
@@ -68,6 +71,7 @@ public abstract class AbstractObjectCreationFactory implements ObjectCreationFac
      *
      * @param digester parent Digester object
      */
+    @Override
     public void setDigester(Digester digester) {
 
         this.digester = digester;

==================================================
