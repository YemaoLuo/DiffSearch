16e3ef43f2fd3aa4ac9dcf14a8e985ef0754022c
==================================================
Add UDS test case
==================================================
remm remm@apache.org
==================================================
Mon Jan 18 12:06:22 2021 +0100
==================================================
JreCompat.java
Add UDS test case

And a Java 16 compat flag.


==================================================
TestXxxEndpoint.java
index b8b3b48adf..d58c1a0aee 100644
--- a/java/org/apache/tomcat/util/compat/JreCompat.java
+++ b/java/org/apache/tomcat/util/compat/JreCompat.java
@@ -45,6 +45,7 @@ public class JreCompat {
 
     private static final JreCompat instance;
     private static final boolean graalAvailable;
+    private static final boolean jre16Available;
     private static final boolean jre11Available;
     private static final boolean jre9Available;
     private static final StringManager sm = StringManager.getManager(JreCompat.class);
@@ -69,12 +70,15 @@ public class JreCompat {
         if (Jre16Compat.isSupported()) {
             instance = new Jre16Compat();
             jre9Available = true;
+            jre16Available = true;
         } else if (Jre9Compat.isSupported()) {
             instance = new Jre9Compat();
             jre9Available = true;
+            jre16Available = false;
         } else {
             instance = new JreCompat();
             jre9Available = false;
+            jre16Available = false;
         }
         jre11Available = instance.jarFileRuntimeMajorVersion() >= 11;
 
@@ -116,6 +120,11 @@ public class JreCompat {
     }
 
 
+    public static boolean isJre16Available() {
+        return jre16Available;
+    }
+
+
     // Java 8 implementation of Java 9 methods
 
     /**

==================================================
