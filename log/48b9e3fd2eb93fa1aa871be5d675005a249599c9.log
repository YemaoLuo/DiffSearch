48b9e3fd2eb93fa1aa871be5d675005a249599c9
==================================================
Start JioEndpoint timeout thread, to handle timeout a AsyncListener.
==================================================
Peter Rossbach
==================================================
Sun Jun 27 11:02:10 2010 +0000
==================================================
JIoEndpoint.java
Start JioEndpoint timeout thread, to handle timeout a AsyncListener.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958362 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestAsyncListener.java
index 28b3eb56c2..74af562803 100644
--- a/java/org/apache/tomcat/util/net/JIoEndpoint.java
+++ b/java/org/apache/tomcat/util/net/JIoEndpoint.java
@@ -399,6 +399,10 @@ public class JIoEndpoint extends AbstractEndpoint {
                 acceptorThread.setDaemon(getDaemon());
                 acceptorThread.start();
             }
+            
+            // Start async timeout thread
+            Thread timeoutThread = new Thread(new AsyncTimeout(), getName() + "-AsyncTimeout");
+            timeoutThread.start();
         }
     }
 

==================================================
