16d4ba3c5ba833a23d8c62cf207459087f509187
==================================================
JAAS Realm should be using CredentialHandler to mutate passwords
==================================================
Mark Thomas
==================================================
Mon Sep 14 12:33:37 2015 +0000
==================================================
JAASCallbackHandler.java
JAAS Realm should be using CredentialHandler to mutate passwords

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1702923 13f79535-47bb-0310-9956-ffa450edef68



==================================================
RealmBase.java
index 4fc0cee1bc..8a161b41bc 100644
--- a/java/org/apache/catalina/realm/JAASCallbackHandler.java
+++ b/java/org/apache/catalina/realm/JAASCallbackHandler.java
@@ -91,7 +91,7 @@ public class JAASCallbackHandler implements CallbackHandler {
         this.username = username;
 
         if (realm.hasMessageDigest()) {
-            this.password = realm.digest(password);
+            this.password = realm.getCredentialHandler().mutate(password);
         }
         else {
             this.password = password;

==================================================
