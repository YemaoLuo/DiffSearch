e809d6485aa2408a47ca575911d97720cbddeb51
==================================================
Don't duplicate storage of compressionMinSize in the Processor
==================================================
Mark Thomas
==================================================
Wed Dec 14 11:05:18 2016 +0000
==================================================
AbstractHttp11Protocol.java
Don't duplicate storage of compressionMinSize in the Processor

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1774178 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Processor.java
index 79f46579ba..7ccf0351a0 100644
--- a/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
+++ b/java/org/apache/coyote/http11/AbstractHttp11Protocol.java
@@ -224,8 +224,14 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
 
     private int compressionMinSize = 2048;
     public int getCompressionMinSize() { return compressionMinSize; }
-    public void setCompressionMinSize(int valueI) {
-        compressionMinSize = valueI;
+    /**
+     * Set Minimum size to trigger compression.
+     *
+     * @param compressionMinSize The minimum content length required for
+     *                           compression in bytes
+     */
+    public void setCompressionMinSize(int compressionMinSize) {
+        this.compressionMinSize = compressionMinSize;
     }
 
 
@@ -731,7 +737,6 @@ public abstract class AbstractHttp11Protocol<S> extends AbstractProtocol<S> {
     protected Processor createProcessor() {
         Http11Processor processor = new Http11Processor(this);
         processor.setAdapter(getAdapter());
-        processor.setCompressionMinSize(getCompressionMinSize());
         processor.setCompression(getCompression());
         return processor;
     }

==================================================
