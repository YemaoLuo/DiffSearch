b01809e5da1fb7efd105c51fb5d02bf42fc87df3
==================================================
StringBuffer -> StringBuilder for o.a.el
==================================================
Mark Emlyn
==================================================
Mon Nov 2 18:42:21 2009 +0000
==================================================
AstCompositeExpression.java
StringBuffer -> StringBuilder for o.a.el

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832031 13f79535-47bb-0310-9956-ffa450edef68



==================================================
AstLiteralExpression.java
index 4248d039c7..8d3537380b 100644
--- a/java/org/apache/el/parser/AstCompositeExpression.java
+++ b/java/org/apache/el/parser/AstCompositeExpression.java
@@ -40,7 +40,7 @@ public final class AstCompositeExpression extends SimpleNode {
 
     public Object getValue(EvaluationContext ctx)
             throws ELException {
-        StringBuffer sb = new StringBuffer(16);
+        StringBuilder sb = new StringBuilder(16);
         Object obj = null;
         if (this.children != null) {
             for (int i = 0; i < this.children.length; i++) {

==================================================
AstString.java
index 779a5a7ba6..1bc6e9593b 100644
--- a/java/org/apache/el/parser/AstLiteralExpression.java
+++ b/java/org/apache/el/parser/AstLiteralExpression.java
@@ -46,7 +46,7 @@ public final class AstLiteralExpression extends SimpleNode {
             return;
         }
         int size = image.length();
-        StringBuffer buf = new StringBuffer(size);
+        StringBuilder buf = new StringBuilder(size);
         for (int i = 0; i < size; i++) {
             char c = image.charAt(i);
             if (c == '\\' && i + 1 < size) {

==================================================
ParseException.java
index 7db645efc9..707a6977f8 100644
--- a/java/org/apache/el/parser/AstString.java
+++ b/java/org/apache/el/parser/AstString.java
@@ -57,7 +57,7 @@ public final class AstString extends SimpleNode {
             return;
         }
         int size = image.length();
-        StringBuffer buf = new StringBuffer(size);
+        StringBuilder buf = new StringBuilder(size);
         for (int i = 0; i < size; i++) {
             char c = image.charAt(i);
             if (c == '\\' && i + 1 < size) {

==================================================
TokenMgrError.java
index b86bdf1cc6..66eb58a8f9 100644
--- a/java/org/apache/el/parser/ParseException.java
+++ b/java/org/apache/el/parser/ParseException.java
@@ -100,7 +100,7 @@ public class ParseException extends Exception {
     if (!specialConstructor) {
       return super.getMessage();
     }
-    StringBuffer expected = new StringBuffer();
+    StringBuilder expected = new StringBuilder();
     int maxSize = 0;
     for (int i = 0; i < expectedTokenSequences.length; i++) {
       if (maxSize < expectedTokenSequences[i].length) {
@@ -150,7 +150,7 @@ public class ParseException extends Exception {
    * string literal.
    */
   protected String add_escapes(String str) {
-      StringBuffer retval = new StringBuffer();
+      StringBuilder retval = new StringBuilder();
       char ch;
       for (int i = 0; i < str.length(); i++) {
         switch (str.charAt(i))

==================================================
ReflectionUtil.java
index 48f8dd73f8..f35288af09 100644
--- a/java/org/apache/el/parser/TokenMgrError.java
+++ b/java/org/apache/el/parser/TokenMgrError.java
@@ -41,7 +41,7 @@ public class TokenMgrError extends Error
     * equivalents in the given string
     */
    protected static final String addEscapes(String str) {
-      StringBuffer retval = new StringBuffer();
+      StringBuilder retval = new StringBuilder();
       char ch;
       for (int i = 0; i < str.length(); i++) {
         switch (str.charAt(i))

==================================================
