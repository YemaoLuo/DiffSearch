ca59409b7d9786c62dd4e39402326884537a1cbd
==================================================
StringBuffer -> StringBuilder for o.a.c.ha
==================================================
Mark Emlyn
==================================================
Mon Nov 2 18:30:21 2009 +0000
==================================================
ClusterSingleSignOn.java
StringBuffer -> StringBuilder for o.a.c.ha

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832007 13f79535-47bb-0310-9956-ffa450edef68



==================================================
SingleSignOnMessage.java
index 0e4807d420..a2bb4d69dc 100644
--- a/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java
+++ b/java/org/apache/catalina/ha/authenticator/ClusterSingleSignOn.java
@@ -184,7 +184,7 @@ public class ClusterSingleSignOn
      */
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("ClusterSingleSignOn[");
+        StringBuilder sb = new StringBuilder("ClusterSingleSignOn[");
         if (container == null )
             sb.append("Container is null");
         else

==================================================
FileMessage.java
index 364271ca97..db0edf390f 100644
--- a/java/org/apache/catalina/ha/authenticator/SingleSignOnMessage.java
+++ b/java/org/apache/catalina/ha/authenticator/SingleSignOnMessage.java
@@ -103,7 +103,7 @@ public class SingleSignOnMessage implements ClusterMessage, Serializable {
     public String getUniqueId() {
 	if (this.uniqueId != null)
 	    return this.uniqueId;
-	StringBuffer result = new StringBuffer(getSsoId());
+	StringBuilder result = new StringBuilder(getSsoId());
 	result.append("#-#");
 	result.append(System.currentTimeMillis());
 	return result.toString();
@@ -177,7 +177,7 @@ public class SingleSignOnMessage implements ClusterMessage, Serializable {
      */
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("SingleSignOnMessage[action=");
+        StringBuilder sb = new StringBuilder("SingleSignOnMessage[action=");
 	sb.append(getAction()).append(", ssoId=").append(getSsoId());
 	sb.append(", sessionId=").append(getSessionId()).append(", username=");
 	sb.append(getUsername()).append("]");

==================================================
BackupManager.java
index 4f2d0ef9ad..381c676bbf 100644
--- a/java/org/apache/catalina/ha/deploy/FileMessage.java
+++ b/java/org/apache/catalina/ha/deploy/FileMessage.java
@@ -91,7 +91,7 @@ public class FileMessage extends ClusterMessageBase implements ClusterMessage, S
     }
 
     public String getUniqueId() {
-        StringBuffer result = new StringBuffer(getFileName());
+        StringBuilder result = new StringBuilder(getFileName());
         result.append("#-#");
         result.append(getMessageNumber());
         result.append("#-#");

==================================================
DeltaRequest.java
index b53e55590e..5a92fadc7e 100644
--- a/java/org/apache/catalina/ha/session/BackupManager.java
+++ b/java/org/apache/catalina/ha/session/BackupManager.java
@@ -296,7 +296,7 @@ public class BackupManager extends StandardManager implements ClusterManager, Ma
     }
 
     public String listSessionIdsFull() {
-        StringBuffer sb=new StringBuffer();
+        StringBuilder sb=new StringBuilder();
         LazyReplicatedMap map = (LazyReplicatedMap)sessions;
         Iterator<String> keys = map.keySetFull().iterator();
         while (keys.hasNext()) {

==================================================
DeltaSession.java
index f73c0bebf4..9f6d6a4b3b 100644
--- a/java/org/apache/catalina/ha/session/DeltaRequest.java
+++ b/java/org/apache/catalina/ha/session/DeltaRequest.java
@@ -376,7 +376,7 @@ public class DeltaRequest implements Externalizable {
         }
         
         public String toString() {
-            StringBuffer buf = new StringBuffer("AttributeInfo[type=");
+            StringBuilder buf = new StringBuilder("AttributeInfo[type=");
             buf.append(getType()).append(", action=").append(getAction());
             buf.append(", name=").append(getName()).append(", value=").append(getValue());
             buf.append(", addr=").append(super.toString()).append("]");

==================================================
ReplicatedSession.java
index 2515fa12fa..f84859f11e 100644
--- a/java/org/apache/catalina/ha/session/DeltaSession.java
+++ b/java/org/apache/catalina/ha/session/DeltaSession.java
@@ -436,7 +436,7 @@ public class DeltaSession extends StandardSession implements Externalizable,Clus
      * Return a string representation of this object.
      */
     public String toString() {
-        StringBuffer sb = new StringBuffer();
+        StringBuilder sb = new StringBuilder();
         sb.append("DeltaSession[");
         sb.append(id);
         sb.append("]");

==================================================
SerializablePrincipal.java
index 3c8fcb0286..1e2e0f7251 100644
--- a/java/org/apache/catalina/ha/session/ReplicatedSession.java
+++ b/java/org/apache/catalina/ha/session/ReplicatedSession.java
@@ -253,7 +253,7 @@ implements org.apache.catalina.ha.ClusterSession{
     }
 
     public String toString() {
-        StringBuffer buf = new StringBuffer("ReplicatedSession id=");
+        StringBuilder buf = new StringBuilder("ReplicatedSession id=");
         buf.append(getIdInternal()).append(" ref=").append(super.toString()).append("\n");
         java.util.Enumeration<String> e = getAttributeNames();
         while ( e.hasMoreElements() ) {

==================================================
SessionIDMessage.java
index 419291a448..f2258cee1d 100644
--- a/java/org/apache/catalina/ha/session/SerializablePrincipal.java
+++ b/java/org/apache/catalina/ha/session/SerializablePrincipal.java
@@ -183,7 +183,7 @@ public class SerializablePrincipal  implements java.io.Serializable {
      */
     public String toString() {
 
-        StringBuffer sb = new StringBuffer("SerializablePrincipal[");
+        StringBuilder sb = new StringBuilder("SerializablePrincipal[");
         sb.append(this.name);
         sb.append("]");
         return (sb.toString());

==================================================
ReplicationValve.java
index b3b3104d13..5f1c41a4fc 100644
--- a/java/org/apache/catalina/ha/session/SessionIDMessage.java
+++ b/java/org/apache/catalina/ha/session/SessionIDMessage.java
@@ -38,7 +38,7 @@ public class SessionIDMessage extends ClusterMessageBase implements ClusterMessa
 	private String contextPath;
 
 	public String getUniqueId() {
-		StringBuffer result = new StringBuffer(getOrignalSessionID());
+		StringBuilder result = new StringBuilder(getOrignalSessionID());
 		result.append("#-#");
 		result.append(getHost());
                 result.append("#-#");

==================================================
