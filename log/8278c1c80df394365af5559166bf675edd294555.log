8278c1c80df394365af5559166bf675edd294555
==================================================
Refactor to avoid use of Hashtable. No functional change.
==================================================
Mark Thomas
==================================================
Thu Sep 15 17:04:39 2022 +0100
==================================================
ContextAccessController.java
Refactor to avoid use of Hashtable. No functional change.


==================================================
ContextBindings.java
index 301d648eea..0fad089be5 100644
--- a/java/org/apache/naming/ContextAccessController.java
+++ b/java/org/apache/naming/ContextAccessController.java
@@ -16,7 +16,8 @@
  */
 package org.apache.naming;
 
-import java.util.Hashtable;
+import java.util.Map;
+import java.util.concurrent.ConcurrentHashMap;
 
 /**
  * Handles the access control on the JNDI contexts.
@@ -30,13 +31,13 @@ public class ContextAccessController {
     /**
      * Catalina context names on which writing is not allowed.
      */
-    private static final Hashtable<Object,Object> readOnlyContexts = new Hashtable<>();
+    private static final Map<Object,Object> readOnlyContexts = new ConcurrentHashMap<>();
 
 
     /**
      * Security tokens repository.
      */
-    private static final Hashtable<Object,Object> securityTokens = new Hashtable<>();
+    private static final Map<Object,Object> securityTokens = new ConcurrentHashMap<>();
 
 
     // --------------------------------------------------------- Public Methods

==================================================
