475b61a1f833875fa4a5b40dfeff4bccd851901e
==================================================
Remove unused code.
==================================================
Mark Emlyn
==================================================
Mon Apr 29 20:41:42 2013 +0000
==================================================
Request.java
Remove unused code.
Ensure WriteListener is recycled.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1477333 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Response.java
index 555061a3b2..0fc7e453a7 100644
--- a/java/org/apache/coyote/Request.java
+++ b/java/org/apache/coyote/Request.java
@@ -22,7 +22,6 @@ import java.util.concurrent.atomic.AtomicBoolean;
 
 import javax.servlet.ReadListener;
 
-import org.apache.coyote.http11.AbstractInputBuffer;
 import org.apache.tomcat.util.buf.ByteChunk;
 import org.apache.tomcat.util.buf.MessageBytes;
 import org.apache.tomcat.util.buf.UDecoder;
@@ -166,21 +165,8 @@ public final class Request {
         }
 
         this.listener = listener;
-        setBlocking(false);
     }
 
-    protected volatile boolean blocking = true;
-
-    public boolean isBlocking() {
-        return blocking;
-    }
-
-    public void setBlocking(boolean blocking) throws IllegalStateException {
-        @SuppressWarnings("rawtypes")
-        AbstractInputBuffer buf = (AbstractInputBuffer)inputBuffer;
-        if (!blocking && !buf.supportsNonBlocking()) throw new IllegalStateException();
-        this.blocking = blocking;
-    }
     // ------------------------------------------------------------- Properties
 
 
@@ -551,7 +537,6 @@ public final class Request {
         authType.recycle();
         attributes.clear();
 
-        blocking = true;
         listener = null;
 
         startTime = -1;

==================================================
