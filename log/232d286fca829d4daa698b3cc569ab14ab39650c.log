232d286fca829d4daa698b3cc569ab14ab39650c
==================================================
Code clean up in the examples. Removed unused imports and unused code.
==================================================
Mark Emlyn
==================================================
Sat Jan 27 23:15:00 2007 +0000
==================================================
CookieExample.java
Code clean up in the examples. Removed unused imports and unused code.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500674 13f79535-47bb-0310-9956-ffa450edef68



==================================================
HelloWorldExample.java
index 04b392540f..c60d1c02b7 100644
--- a/webapps/examples/WEB-INF/classes/CookieExample.java
+++ b/webapps/examples/WEB-INF/classes/CookieExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
RequestHeaderExample.java
index 44f24e393e..c364ccbff6 100644
--- a/webapps/examples/WEB-INF/classes/HelloWorldExample.java
+++ b/webapps/examples/WEB-INF/classes/HelloWorldExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
RequestInfoExample.java
index 43e8b0ad17..87af27582f 100644
--- a/webapps/examples/WEB-INF/classes/RequestHeaderExample.java
+++ b/webapps/examples/WEB-INF/classes/RequestHeaderExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
RequestParamExample.java
index 4c768b6191..404061944f 100644
--- a/webapps/examples/WEB-INF/classes/RequestInfoExample.java
+++ b/webapps/examples/WEB-INF/classes/RequestInfoExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
SessionExample.java
index 6ed3c3b61f..e64e2cab91 100644
--- a/webapps/examples/WEB-INF/classes/RequestParamExample.java
+++ b/webapps/examples/WEB-INF/classes/RequestParamExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
Entries.java
index d04c94ed11..ca369a1342 100644
--- a/webapps/examples/WEB-INF/classes/SessionExample.java
+++ b/webapps/examples/WEB-INF/classes/SessionExample.java
@@ -19,7 +19,6 @@
  */
 
 import java.io.*;
-import java.text.*;
 import java.util.*;
 import javax.servlet.*;
 import javax.servlet.http.*;

==================================================
JspCalendar.java
index 7ef6c78c69..3836b2366a 100644
--- a/webapps/examples/WEB-INF/classes/cal/Entries.java
+++ b/webapps/examples/WEB-INF/classes/cal/Entries.java
@@ -16,7 +16,6 @@
 */
 package cal;
 
-import java.util.Enumeration;
 import java.util.Hashtable;
 import javax.servlet.http.*;
 

==================================================
TableBean.java
index 295ef3a87d..4350165a83 100644
--- a/webapps/examples/WEB-INF/classes/cal/JspCalendar.java
+++ b/webapps/examples/WEB-INF/classes/cal/JspCalendar.java
@@ -17,7 +17,6 @@
 
 package cal;
 
-import java.text.DateFormat;
 import java.util.*;
 
 public class JspCalendar {

==================================================
JspCalendar.java
index 26e3b015f0..f79d8823e1 100644
--- a/webapps/examples/WEB-INF/classes/cal/TableBean.java
+++ b/webapps/examples/WEB-INF/classes/cal/TableBean.java
@@ -16,9 +16,7 @@
 */
 package cal;
 
-import java.beans.*;
 import javax.servlet.http.*;
-import javax.servlet.*;
 import java.util.Hashtable;
 
 public class TableBean {

==================================================
Smart.java
index 419eea3a7e..82fadd4514 100644
--- a/webapps/examples/WEB-INF/classes/dates/JspCalendar.java
+++ b/webapps/examples/WEB-INF/classes/dates/JspCalendar.java
@@ -16,7 +16,6 @@
 */
 package dates;
 
-import java.text.DateFormat;
 import java.util.*;
 
 public class JspCalendar {

==================================================
FooTag.java
index 999aef3095..94beb39582 100644
--- a/webapps/examples/WEB-INF/classes/error/Smart.java
+++ b/webapps/examples/WEB-INF/classes/error/Smart.java
@@ -18,9 +18,6 @@
 
 package error;
 
-import java.io.*;
-import java.lang.*;
-
 public class Smart {
 
   String name = "JSP";

==================================================
LogTag.java
index c55f36a729..ab8ee2b192 100644
--- a/webapps/examples/WEB-INF/classes/examples/FooTag.java
+++ b/webapps/examples/WEB-INF/classes/examples/FooTag.java
@@ -17,9 +17,6 @@
 package examples;
 
 import javax.servlet.jsp.*;
-import javax.servlet.jsp.tagext.*;
-import java.util.Hashtable;
-import java.io.Writer;
 import java.io.IOException;
 
 /**
@@ -58,7 +55,7 @@ public class FooTag
      */
     public int doStartTag() throws JspException {
         i = 0;
-	return EVAL_BODY_TAG;
+	return EVAL_BODY_BUFFERED;
     }
 
     public void doInitBody() throws JspException {
@@ -74,7 +71,7 @@ public class FooTag
             } else
                 pageContext.setAttribute("member", atts[i]);
             i++;
-            return EVAL_BODY_TAG;
+            return EVAL_BODY_BUFFERED;
         } catch (IOException ex) {
             throw new JspTagException(ex.toString());
         }

==================================================
ShowSource.java
index ff394b88e2..9756679526 100644
--- a/webapps/examples/WEB-INF/classes/examples/LogTag.java
+++ b/webapps/examples/WEB-INF/classes/examples/LogTag.java
@@ -18,7 +18,6 @@ package examples;
 
 
 import javax.servlet.jsp.*;
-import javax.servlet.jsp.tagext.*;
 
 import java.io.IOException;
 
@@ -40,7 +39,7 @@ public class LogTag
     }
 
     public int doStartTag() throws JspException {
-        return EVAL_BODY_TAG;
+        return EVAL_BODY_BUFFERED;
     }
     
     public int doAfterBody() throws JspException {

==================================================
ExampleFilter.java
index 8fb65c557c..4de72317fc 100644
--- a/webapps/examples/WEB-INF/classes/examples/ShowSource.java
+++ b/webapps/examples/WEB-INF/classes/examples/ShowSource.java
@@ -17,7 +17,6 @@
 package examples;
 
 
-import javax.servlet.*;
 import javax.servlet.jsp.*;
 import javax.servlet.jsp.tagext.*;
 
@@ -47,8 +46,7 @@ public class ShowSource
         if (in == null)
             throw new JspTagException("Unable to find JSP file: "+jspFile);
 
-        InputStreamReader reader = new InputStreamReader(in);
-	JspWriter out = pageContext.getOut();
+        JspWriter out = pageContext.getOut();
 
 
         try {

==================================================
RequestDumperFilter.java
index 64aa4ecdce..f8aaa36c7d 100644
--- a/webapps/examples/WEB-INF/classes/filters/ExampleFilter.java
+++ b/webapps/examples/WEB-INF/classes/filters/ExampleFilter.java
@@ -22,7 +22,6 @@ import java.io.IOException;
 import javax.servlet.Filter;
 import javax.servlet.FilterChain;
 import javax.servlet.FilterConfig;
-import javax.servlet.ServletContext;
 import javax.servlet.ServletException;
 import javax.servlet.ServletRequest;
 import javax.servlet.ServletResponse;

==================================================
SetCharacterEncodingFilter.java
index c8df2446e9..214944255e 100644
--- a/webapps/examples/WEB-INF/classes/filters/RequestDumperFilter.java
+++ b/webapps/examples/WEB-INF/classes/filters/RequestDumperFilter.java
@@ -28,7 +28,6 @@ import java.util.Locale;
 import javax.servlet.Filter;
 import javax.servlet.FilterChain;
 import javax.servlet.FilterConfig;
-import javax.servlet.ServletContext;
 import javax.servlet.ServletException;
 import javax.servlet.ServletRequest;
 import javax.servlet.ServletResponse;

==================================================
Functions.java
index 5cbbecd819..cfc164fef3 100644
--- a/webapps/examples/WEB-INF/classes/filters/SetCharacterEncodingFilter.java
+++ b/webapps/examples/WEB-INF/classes/filters/SetCharacterEncodingFilter.java
@@ -25,7 +25,6 @@ import javax.servlet.FilterConfig;
 import javax.servlet.ServletException;
 import javax.servlet.ServletRequest;
 import javax.servlet.ServletResponse;
-import javax.servlet.UnavailableException;
 
 
 /**

==================================================
EchoAttributesTag.java
index 325c2fe77d..ea12e445a3 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/el/Functions.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/el/Functions.java
@@ -16,8 +16,6 @@
 */
 package jsp2.examples.el;
 
-import java.util.*;
-
 /**
  * Defines the functions for the jsp2 example tag library.
  * 

==================================================
FindBookSimpleTag.java
index 982e7116e8..9e7d20196b 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/EchoAttributesTag.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/EchoAttributesTag.java
@@ -23,7 +23,6 @@ import javax.servlet.jsp.JspWriter;
 import javax.servlet.jsp.tagext.SimpleTagSupport;
 import javax.servlet.jsp.tagext.DynamicAttributes;
 import java.util.ArrayList;
-import java.util.Iterator;
 import java.io.IOException;
 
 /**

==================================================
RepeatSimpleTag.java
index 998edd04c5..538670684d 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/FindBookSimpleTag.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/FindBookSimpleTag.java
@@ -20,7 +20,6 @@ package jsp2.examples.simpletag;
 
 import javax.servlet.jsp.JspException;
 import javax.servlet.jsp.tagext.SimpleTagSupport;
-import java.util.HashMap;
 import jsp2.examples.BookBean;
 
 /**

==================================================
ShuffleSimpleTag.java
index afd6952c6f..db9861ceca 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/RepeatSimpleTag.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/RepeatSimpleTag.java
@@ -20,7 +20,6 @@ package jsp2.examples.simpletag;
 
 import javax.servlet.jsp.JspException;
 import javax.servlet.jsp.tagext.SimpleTagSupport;
-import java.util.HashMap;
 import java.io.IOException;
 
 /**

==================================================
TileSimpleTag.java
index 701c023453..11124facf6 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/ShuffleSimpleTag.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/ShuffleSimpleTag.java
@@ -21,7 +21,6 @@ package jsp2.examples.simpletag;
 import javax.servlet.jsp.JspException;
 import javax.servlet.jsp.tagext.JspFragment;
 import javax.servlet.jsp.tagext.SimpleTagSupport;
-import java.util.HashMap;
 import java.io.IOException;
 
 /**

==================================================
ContextListener.java
index 8e7dd3794e..0c2cee5401 100644
--- a/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/TileSimpleTag.java
+++ b/webapps/examples/WEB-INF/classes/jsp2/examples/simpletag/TileSimpleTag.java
@@ -21,7 +21,6 @@ package jsp2.examples.simpletag;
 import javax.servlet.jsp.JspException;
 import javax.servlet.jsp.tagext.SimpleTagSupport;
 import java.io.IOException;
-import java.util.HashMap;
 
 /**
  * Displays a tile as a single cell in a table.

==================================================
SessionListener.java
index 74aaf20f4a..754b75eccd 100644
--- a/webapps/examples/WEB-INF/classes/listeners/ContextListener.java
+++ b/webapps/examples/WEB-INF/classes/listeners/ContextListener.java
@@ -133,24 +133,4 @@ public final class ContextListener
 
     }
 
-
-    /**
-     * Log a message and associated exception to the servlet context
-     * application log.
-     *
-     * @param message Message to be logged
-     * @param throwable Exception to be logged
-     */
-    private void log(String message, Throwable throwable) {
-
-	if (context != null)
-	    context.log("ContextListener: " + message, throwable);
-	else {
-	    System.out.println("ContextListener: " + message);
-	    throwable.printStackTrace(System.out);
-	}
-
-    }
-
-
 }

==================================================
servletToJsp.java
index b9142d6230..5aa8181342 100644
--- a/webapps/examples/WEB-INF/classes/listeners/SessionListener.java
+++ b/webapps/examples/WEB-INF/classes/listeners/SessionListener.java
@@ -160,24 +160,4 @@ public final class SessionListener
 
     }
 
-
-    /**
-     * Log a message and associated exception to the servlet context
-     * application log.
-     *
-     * @param message Message to be logged
-     * @param throwable Exception to be logged
-     */
-    private void log(String message, Throwable throwable) {
-
-	if (context != null)
-	    context.log("SessionListener: " + message, throwable);
-	else {
-	    System.out.println("SessionListener: " + message);
-	    throwable.printStackTrace(System.out);
-	}
-
-    }
-
-
 }

==================================================
DummyCart.java
index aadf924677..11af6b405f 100644
--- a/webapps/examples/WEB-INF/classes/servletToJsp.java
+++ b/webapps/examples/WEB-INF/classes/servletToJsp.java
@@ -14,7 +14,6 @@
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-import javax.servlet.*;
 import javax.servlet.http.*;
 
 public class servletToJsp extends HttpServlet {

==================================================
