50332e88ef77fabfbda4b59c4bb8f329766ff5d4
==================================================
Remove unnecessary instanceof tests ID'd by FindBugs
==================================================
Mark Emlyn
==================================================
Fri Apr 23 15:09:58 2010 +0000
==================================================
DeltaManager.java
Remove unnecessary instanceof tests ID'd by FindBugs

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937325 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ExpressionBuilder.java
index 5c34797a4b..f1546b6a1b 100644
--- a/java/org/apache/catalina/ha/session/DeltaManager.java
+++ b/java/org/apache/catalina/ha/session/DeltaManager.java
@@ -882,7 +882,7 @@ public class DeltaManager extends ClusterManagerBase{
         if(replicationValve == null) {
             if(container instanceof StandardContext && ((StandardContext)container).getCrossContext()) {
                 Cluster cluster = getCluster() ;
-                if(cluster != null && cluster instanceof CatalinaCluster) {
+                if(cluster != null) {
                     Valve[] valves = ((CatalinaCluster)cluster).getValves();
                     if(valves != null && valves.length > 0) {
                         for(int i=0; replicationValve == null && i < valves.length ; i++ ){

==================================================
