95b956f52570d57f8faa5db566a5893b4ffbf247
==================================================
Revert r1060927. It changed the API (which would have been fine if it the eventual solution needed it but it doesn't)
==================================================
Mark Emlyn
==================================================
Wed Jan 19 22:51:59 2011 +0000
==================================================
Context.java
Revert r1060927. It changed the API (which would have been fine if it the eventual solution needed it but it doesn't)

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061047 13f79535-47bb-0310-9956-ffa450edef68



==================================================
StandardContext.java
index 076b768108..33c03a237e 100644
--- a/java/org/apache/catalina/Context.java
+++ b/java/org/apache/catalina/Context.java
@@ -1214,11 +1214,11 @@ public interface Context extends Container {
 
     
     /**
-     * Add a URL for a location (usually a JAR) that contains static resources
-     * in a META-INF/resources directory that should be included in the static
+     * Add a URL for a JAR that contains static resources in a
+     * META-INF/resources directory that should be included in the static
      * resources for this context.
      */
-    public void addAltResourceUrl(URL url);
+    public void addResourceJarUrl(URL url);
     
     
     /**

==================================================
ContextConfig.java
index c9e03ac009..71a2a5fdc8 100644
--- a/java/org/apache/catalina/core/StandardContext.java
+++ b/java/org/apache/catalina/core/StandardContext.java
@@ -1046,14 +1046,14 @@ public class StandardContext extends ContainerBase
 
 
     /**
-     * Add a URL for a location (usually a JAR) that contains static resources
-     * in a META-INF/resources directory that should be included in the static
+     * Add a URL for a JAR that contains static resources in a
+     * META-INF/resources directory that should be included in the static
      * resources for this context.
      */
     @Override
-    public void addAltResourceUrl(URL url) {
+    public void addResourceJarUrl(URL url) {
         if (webappResources instanceof BaseDirContext) {
-            ((BaseDirContext) webappResources).addAltResources(url);
+            ((BaseDirContext) webappResources).addResourcesJar(url);
         } else {
             log.error(sm.getString("standardContext.noResourceJar", url,
                     getName()));

==================================================
BaseDirContext.java
index 68e0fae31e..2c5e5d138f 100644
--- a/java/org/apache/catalina/startup/ContextConfig.java
+++ b/java/org/apache/catalina/startup/ContextConfig.java
@@ -1502,7 +1502,7 @@ public class ContextConfig
                     jarFile = conn.getJarFile();   
                     ZipEntry entry = jarFile.getEntry("META-INF/resources/");
                     if (entry != null) {
-                        context.addAltResourceUrl(url);
+                        context.addResourceJarUrl(url);
                     }
                 }
             } catch (IOException ioe) {

==================================================
