44f00f2e43d3c77bcf4498b9bf5d296e38d562d4
==================================================
Remove unused code reported by Find Bugs / Eclipse. No functional change.
==================================================
Mark Emlyn
==================================================
Sat Sep 27 18:32:56 2008 +0000
==================================================
Request.java
Remove unused code reported by Find Bugs / Eclipse. No functional change.

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699713 13f79535-47bb-0310-9956-ffa450edef68



==================================================
ManagerServlet.java
index f92511f7f1..02a14fc3a4 100644
--- a/java/org/apache/catalina/connector/Request.java
+++ b/java/org/apache/catalina/connector/Request.java
@@ -1475,7 +1475,7 @@ public class Request
         // Ensure that the specified encoding is valid
         byte buffer[] = new byte[1];
         buffer[0] = (byte) 'a';
-        String dummy = new String(buffer, enc);
+        new String(buffer, enc);
 
         // Save the validated encoding
         coyoteRequest.setCharacterEncoding(enc);

==================================================
Parser.java
index fd5ae35fdb..9487932287 100644
--- a/java/org/apache/catalina/manager/ManagerServlet.java
+++ b/java/org/apache/catalina/manager/ManagerServlet.java
@@ -692,8 +692,6 @@ public class ManagerServlet
 
         // Find the local WAR file
         File localWar = new File(deployedPath, getDocBase(path) + ".war");
-        // Find the local context deployment file (if any)
-        File localXml = new File(configBase, getConfigFile(path) + ".xml");
 
         // Check if app already exists, or undeploy it if updating
         Context context = (Context) host.findChild(path);
@@ -1336,18 +1334,6 @@ public class ManagerServlet
                 return;
             }
 
-            // Identify the appBase of the owning Host of this Context (if any)
-            String appBase = null;
-            File appBaseDir = null;
-            if (context.getParent() instanceof Host) {
-                appBase = ((Host) context.getParent()).getAppBase();
-                appBaseDir = new File(appBase);
-                if (!appBaseDir.isAbsolute()) {
-                    appBaseDir = new File(System.getProperty("catalina.base"),
-                                          appBase);
-                }
-            }
-
             if (!isDeployed(path)) {
                 writer.println(sm.getString("managerServlet.notDeployed",
                         RequestUtil.filter(displayPath)));

==================================================
MetaConnectRequest.java
index b8598a17af..0f1a39470c 100644
--- a/java/org/apache/jasper/compiler/Parser.java
+++ b/java/org/apache/jasper/compiler/Parser.java
@@ -624,8 +624,7 @@ class Parser implements TagConstants {
      */
     private void parseAttributeDirective(Node parent) throws JasperException {
         Attributes attrs = parseAttributes();
-        Node.AttributeDirective n = new Node.AttributeDirective(attrs, start,
-                parent);
+        new Node.AttributeDirective(attrs, start, parent);
     }
 
     /*
@@ -634,8 +633,7 @@ class Parser implements TagConstants {
      */
     private void parseVariableDirective(Node parent) throws JasperException {
         Attributes attrs = parseAttributes();
-        Node.VariableDirective n = new Node.VariableDirective(attrs, start,
-                parent);
+        new Node.VariableDirective(attrs, start, parent);
     }
 
     /*

==================================================
MetaDisconnectRequest.java
index f052e736f6..baa4e8ffc6 100644
--- a/java/org/apache/tomcat/bayeux/request/MetaConnectRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/MetaConnectRequest.java
@@ -82,7 +82,7 @@ public class MetaConnectRequest extends RequestBase implements BayeuxRequest {
      * event to be delivered to this client (Section 4.2.2 of spec).
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)responseTemplate.clone();
         ClientImpl client = (ClientImpl)getTomcatBayeux().getClient(clientId);
         boolean success = false;

==================================================
MetaHandshakeRequest.java
index d191660c2f..be840e9e04 100644
--- a/java/org/apache/tomcat/bayeux/request/MetaDisconnectRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/MetaDisconnectRequest.java
@@ -76,7 +76,7 @@ public class MetaDisconnectRequest extends RequestBase implements BayeuxRequest
      * Disconnect a client session.
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)responseTemplate.clone();
         ClientImpl client = (ClientImpl)getTomcatBayeux().getClient(clientId);
         HttpError error = validate();

==================================================
MetaSubscribeRequest.java
index 2835d1252d..bd38b9e461 100644
--- a/java/org/apache/tomcat/bayeux/request/MetaHandshakeRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/MetaHandshakeRequest.java
@@ -84,7 +84,7 @@ public class MetaHandshakeRequest extends RequestBase implements BayeuxRequest {
      * the Bayuex specification.
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)responseTemplate.clone();
         ClientImpl client = null;
         HttpError error = validate();

==================================================
MetaUnsubscribeRequest.java
index c16667a4e5..31994f3bb6 100644
--- a/java/org/apache/tomcat/bayeux/request/MetaSubscribeRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/MetaSubscribeRequest.java
@@ -82,7 +82,7 @@ public class MetaSubscribeRequest extends RequestBase implements BayeuxRequest {
      * channels and inverse client to channel reference.
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)this.responseTemplate.clone();
         ClientImpl client = (ClientImpl)getTomcatBayeux().getClient(clientId);
         HttpError error = validate();

==================================================
PublishRequest.java
index 28969a08ab..69a57cd01a 100644
--- a/java/org/apache/tomcat/bayeux/request/MetaUnsubscribeRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/MetaUnsubscribeRequest.java
@@ -82,7 +82,7 @@ public class MetaUnsubscribeRequest extends RequestBase implements BayeuxRequest
      * Bayeux spec, a pattern may be specified.  Sever relationships.
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)responseTemplate.clone();
         ClientImpl client = (ClientImpl)getTomcatBayeux().getClient(clientId);
         HttpError error = validate();

==================================================
BaseModelMBean.java
index 8bb0dff7e0..fcf956ce74 100644
--- a/java/org/apache/tomcat/bayeux/request/PublishRequest.java
+++ b/java/org/apache/tomcat/bayeux/request/PublishRequest.java
@@ -88,7 +88,7 @@ public class PublishRequest extends RequestBase implements BayeuxRequest {
      *  Send the event message to all registered subscribers.
      */
     public int process(int prevops) throws BayeuxException {
-        prevops = super.process(prevops);
+        super.process(prevops);
         response = (HashMap<String, Object>)responseTemplate.clone();
         ClientImpl client = clientId!=null?(ClientImpl)getTomcatBayeux().getClient(clientId):
                                            (ClientImpl)event.getHttpServletRequest().getAttribute("client");

==================================================
