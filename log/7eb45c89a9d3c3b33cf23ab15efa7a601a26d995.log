7eb45c89a9d3c3b33cf23ab15efa7a601a26d995
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
==================================================
Mark Emlyn
==================================================
Mon May 9 16:31:03 2011 +0000
==================================================
MapELResolver.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
MapElResolver should always return Object.class for getType()

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101094 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestValueExpressionImpl.java
index e7aa462d91..118301e667 100644
--- a/java/javax/el/MapELResolver.java
+++ b/java/javax/el/MapELResolver.java
@@ -64,8 +64,7 @@ public class MapELResolver extends ELResolver {
 
         if (base instanceof Map<?,?>) {
             context.setPropertyResolved(true);
-            Object obj = ((Map<?,?>) base).get(property);
-            return (obj != null) ? obj.getClass() : null;
+            return Object.class;
         }
         
         return null;

==================================================
