ebe1ecf4839c3d2bf266e3a7ab0cd3e155d1d268
==================================================
Add some more header frame + padding tests
==================================================
Mark Thomas
==================================================
Tue Jun 23 19:28:15 2015 +0000
==================================================
Http2Parser.java
Add some more header frame + padding tests
Fix a bug in the parser (it didn't catch padding >= payload)

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1687119 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestHttp2Section_6_2.java
index aa39198261..3ec06ecfba 100644
--- a/java/org/apache/coyote/http2/LocalStrings.properties
+++ b/java/org/apache/coyote/http2/LocalStrings.properties
@@ -43,10 +43,10 @@ http2Parser.payloadTooBig=The payload is [{0}] bytes long but the maximum frame
 http2Parser.preface.invalid=Invalid connection preface [{0}] presented
 http2Parser.preface.io=Unable to read connection preface
 http2Parser.processFrame=Connection [{0}], Stream [{1}], Frame type [{2}], Flags [{3}], Payload size [{4}]
+http2Parser.processFrame.tooMuchPadding=Connection [{0}], Stream [{1}], The padding length [{2}] was too big for the payload [{3}]
 http2Parser.processFrame.unexpectedType=Expected frame type [{0}] but received frame type [{1}]
 http2Parser.processFrameContinuation.notExpected=Connection [{0}], Continuation frame received for stream [{1}] when no headers were in progress
 http2Parser.processFrameData.lengths=Connection [{0}], Stream [{1}], Data length, [{2}], Padding length [{3}]
-http2Parser.processFrameData.tooMuchPadding=Connection [{0}], Stream [{1}], The padding length [{2}] was too big for the payload [{3}]
 http2Parser.processFrameGoaway.payloadTooSmall=Connection [{0}]: Goaway payload size was [{1}] which is less than the minimum 8
 http2Parser.processFrameHeaders.decodingFailed=There was an error during the HPACK decoding of HTTP headers
 http2Parser.processFrameHeaders.decodingDataLeft=Data left over after HPACK decoding - it should have been consumed

==================================================
