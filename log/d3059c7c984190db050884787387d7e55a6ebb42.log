d3059c7c984190db050884787387d7e55a6ebb42
==================================================
Use a safe default of the useEquals, works on any VM.
==================================================
Filip Hanik
==================================================
Fri Nov 13 20:12:32 2009 +0000
==================================================
JdbcInterceptor.java
index 8c76a9a00d..c692de9a20 100644
--- a/modules/jdbc-pool/doc/jdbc-pool.xml
+++ b/modules/jdbc-pool/doc/jdbc-pool.xml
@@ -383,9 +383,9 @@
     </attribute>
 
     <attribute name="useEquals" required="false">
-      <p>(boolean) Set to true if you wish the <code>ProxyConnection</code> class to use <code>String.equals</code> instead of 
-         <code>==</code> when comparing method names. This property does not apply to added interceptors as those are configured individually.
-         The default value is <code>false</code>.
+      <p>(boolean) Set to true if you wish the <code>ProxyConnection</code> class to use <code>String.equals</code> and set to <code>false</code>
+         when you wish to use <code>==</code> when comparing method names. This property does not apply to added interceptors as those are configured individually.
+         The default value is <code>true</code>.
       </p> 
     </attribute>    
   </attributes>  
@@ -426,9 +426,9 @@
     <p>Abstract base class for all interceptors, can not be instantiated.</p>
     <attributes>
       <attribute name="useEquals" required="false">
-        <p>(String as boolean) Set to true if you wish the interceptor class to use <code>String.equals</code> instead of 
-         <code>==</code> when comparing method names. This property does not apply to added interceptors as those are configured individually.
-         The default value is <code>false</code>.
+        <p>(boolean) Set to true if you wish the <code>ProxyConnection</code> class to use <code>String.equals</code> and set to <code>false</code>
+         when you wish to use <code>==</code> when comparing method names.
+         The default value is <code>true</code>.
         </p>
       </attribute>
     </attributes>  

==================================================
PoolProperties.java
index 78a214a55e..71311bf087 100644
--- a/modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/JdbcInterceptor.java
+++ b/modules/jdbc-pool/java/org/apache/tomcat/jdbc/pool/JdbcInterceptor.java
@@ -65,7 +65,7 @@ public abstract class JdbcInterceptor implements InvocationHandler {
     /**
      * Property that decides how we do string comparison, default is reference (==)
      */
-    private boolean useEquals = false;
+    private boolean useEquals = true;
 
     /**
      * Public constructor for instantation through reflection

==================================================
