a480da7ab801dc64c2a44c106cb7a540ddad1287
==================================================
one 0 too many on username test
==================================================
Filip Hanik
==================================================
Mon Jan 3 23:28:42 2011 +0000
==================================================
AlternateUsernameTest.java
one 0 too many on username test
make sure the driver correctly checks url


git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054824 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Driver.java
index 39c6aca56b..e910bbceb7 100644
--- a/modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/AlternateUsernameTest.java
+++ b/modules/jdbc-pool/test/org/apache/tomcat/jdbc/test/AlternateUsernameTest.java
@@ -34,12 +34,12 @@ import org.apache.tomcat.jdbc.test.driver.Driver;
 
 public class AlternateUsernameTest extends DefaultTestCase {
 
-    private static final int iterations = (new Random(System.currentTimeMillis())).nextInt(10000000)+100000;
+    private static final int iterations = (new Random(System.currentTimeMillis())).nextInt(1000000)+100000;
     public AlternateUsernameTest(String name) {
         super(name);
     }
     
-    public void testGeneric() throws Exception {
+    public void testUsernameCompare() throws Exception {
         
         this.init();
         this.datasource.setDriverClassName(Driver.class.getName());
@@ -74,6 +74,10 @@ public class AlternateUsernameTest extends DefaultTestCase {
 
     }
     
+    public void testUsernameCompareAgain() throws Exception {
+        testUsernameCompare();
+    }
+    
     public static class TestResult {
         public int iterations;
         public int failures;

==================================================
