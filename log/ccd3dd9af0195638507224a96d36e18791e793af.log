ccd3dd9af0195638507224a96d36e18791e793af
==================================================
Re-order action implementations to allow easier comparison between Processor implementations
==================================================
Mark Thomas
==================================================
Wed Sep 30 13:22:37 2015 +0000
==================================================
AjpProcessor.java
Re-order action implementations to allow easier comparison between Processor implementations

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1706022 13f79535-47bb-0310-9956-ffa450edef68



==================================================
Http11Processor.java
index a396616290..42ba2f9cfb 100644
--- a/java/org/apache/coyote/ajp/AjpProcessor.java
+++ b/java/org/apache/coyote/ajp/AjpProcessor.java
@@ -331,17 +331,6 @@ public class AjpProcessor extends AbstractProcessor {
     public final void action(ActionCode actionCode, Object param) {
 
         switch (actionCode) {
-        case CLOSE: {
-            // End the processing of the current request, and stop any further
-            // transactions with the client
-
-            try {
-                finish();
-            } catch (IOException e) {
-                setErrorState(ErrorState.CLOSE_NOW, e);
-            }
-            break;
-        }
         case COMMIT: {
             if (response.isCommitted())
                 return;
@@ -360,6 +349,17 @@ public class AjpProcessor extends AbstractProcessor {
             }
             break;
         }
+        case CLOSE: {
+            // End the processing of the current request, and stop any further
+            // transactions with the client
+
+            try {
+                finish();
+            } catch (IOException e) {
+                setErrorState(ErrorState.CLOSE_NOW, e);
+            }
+            break;
+        }
         case ACK: {
             // NO_OP for AJP
             break;

==================================================
