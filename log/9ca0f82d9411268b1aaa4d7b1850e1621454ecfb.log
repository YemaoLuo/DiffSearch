9ca0f82d9411268b1aaa4d7b1850e1621454ecfb
==================================================
consolidate the usage of the NioChannel buffers  
==================================================
Filip Hanik
==================================================
Thu May 31 19:44:27 2007 +0000
==================================================
NioBlockingSelector.java
consolidate the usage of the NioChannel buffers  


git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543228 13f79535-47bb-0310-9956-ffa450edef68



==================================================
NioSelectorPool.java
index a629613ac6..4190527d01 100644
--- a/java/org/apache/tomcat/util/net/NioBlockingSelector.java
+++ b/java/org/apache/tomcat/util/net/NioBlockingSelector.java
@@ -48,10 +48,6 @@ public class NioBlockingSelector {
         boolean timedout = false;
         int keycount = 1; //assume we can write
         long time = System.currentTimeMillis(); //start the timeout timer
-        if (socket.getBufHandler().getWriteBuffer() != buf) {
-            socket.getBufHandler().getWriteBuffer().put(buf);
-            buf = socket.getBufHandler().getWriteBuffer();
-        }
         try {
             while ( (!timedout) && buf.hasRemaining()) {
                 if (keycount > 0) { //only write if we were registered for a write

==================================================
