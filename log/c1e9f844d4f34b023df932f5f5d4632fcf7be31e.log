c1e9f844d4f34b023df932f5f5d4632fcf7be31e
==================================================
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56561
==================================================
Violeta Georgieva
==================================================
Mon May 26 09:00:43 2014 +0000
==================================================
Validator.java
Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56561
Fixed NoSuchElementException when an attribute has empty string as value

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1597532 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestParser.java
index 13894cfe27..6bbc900c78 100644
--- a/java/org/apache/jasper/compiler/Validator.java
+++ b/java/org/apache/jasper/compiler/Validator.java
@@ -1379,8 +1379,12 @@ class Validator {
                         } else {
                             // Get text with \$ and \# escaping removed.
                             // Should be a single Text node
-                            value = ((ELNode.Text) el.iterator().next())
-                                    .getText();
+                            Iterator<ELNode> it = el.iterator();
+                            if (it.hasNext()) {
+                                value = ((ELNode.Text) it.next()).getText();
+                            } else {
+                                value = "";
+                            }
                             el = null;
                         }
                     }

==================================================
