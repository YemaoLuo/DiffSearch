de378e68ac94b2320837cc632814c3ca7235fdea
==================================================
Avoid using /tmp as a docBase where it is not necessary
==================================================
Mark Emlyn
==================================================
Wed Oct 29 20:05:34 2014 +0000
==================================================
CookiesBaseTest.java
Avoid using /tmp as a docBase where it is not necessary

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1635288 13f79535-47bb-0310-9956-ffa450edef68



==================================================
TestBug49158.java
index 8f5a08bb4c..64dddfc1f8 100644
--- a/test/org/apache/tomcat/util/http/CookiesBaseTest.java
+++ b/test/org/apache/tomcat/util/http/CookiesBaseTest.java
@@ -68,9 +68,8 @@ public abstract class CookiesBaseTest extends TomcatBaseTest {
 
 
     public static void addServlets(Tomcat tomcat) {
-        // Must have a real docBase - just use temp
-        Context ctx =
-            tomcat.addContext("", System.getProperty("java.io.tmpdir"));
+        // No file system docBase required
+        Context ctx = tomcat.addContext("", null);
 
         Tomcat.addServlet(ctx, "invalid", new CookieServlet("na;me", "value"));
         ctx.addServletMapping("/invalid", "invalid");

==================================================
TestCookieProcessorGenerationHttp.java
index 8ec18bed22..18580326c4 100644
--- a/test/org/apache/tomcat/util/http/TestBug49158.java
+++ b/test/org/apache/tomcat/util/http/TestBug49158.java
@@ -60,9 +60,8 @@ public class TestBug49158 extends CookiesBaseTest {
     }
 
     public static void addServlets(Tomcat tomcat) {
-        // Must have a real docBase - just use temp
-        Context ctx =
-            tomcat.addContext("", System.getProperty("java.io.tmpdir"));
+        // No file system docBase required
+        Context ctx = tomcat.addContext("", null);
 
         Tomcat.addServlet(ctx, path, new TestBug49158Servlet());
         ctx.addServletMapping("/"+path, path);

==================================================
