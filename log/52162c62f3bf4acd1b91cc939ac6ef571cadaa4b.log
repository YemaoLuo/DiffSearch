52162c62f3bf4acd1b91cc939ac6ef571cadaa4b
==================================================
Fix the Eclipse warnings in o.a.c.loader
==================================================
Mark Emlyn
==================================================
Mon Aug 23 17:38:41 2010 +0000
==================================================
StandardClassLoaderMBean.java
Fix the Eclipse warnings in o.a.c.loader

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988225 13f79535-47bb-0310-9956-ffa450edef68



==================================================
WebappClassLoader.java
index cc5826447f..e2d6a6129c 100644
--- a/java/org/apache/catalina/loader/StandardClassLoaderMBean.java
+++ b/java/org/apache/catalina/loader/StandardClassLoaderMBean.java
@@ -25,5 +25,6 @@ package org.apache.catalina.loader;
  * @version $Id$
  */
 public interface StandardClassLoaderMBean {
+    // Marker interface
 }
 

==================================================
WebappLoader.java
index 2d8d13ff7b..e93b82050f 100644
--- a/java/org/apache/catalina/loader/WebappClassLoader.java
+++ b/java/org/apache/catalina/loader/WebappClassLoader.java
@@ -148,6 +148,7 @@ public class WebappClassLoader
             this.path = path;
         }
 
+        @Override
         public ResourceEntry run() {
             return findResourceInternal(name, path);
         }
@@ -164,6 +165,7 @@ public class WebappClassLoader
             this.clazz = clazz;
         }
 
+        @Override
         public ClassLoader run() {       
             return clazz.getClassLoader();
         }           
@@ -574,16 +576,18 @@ public class WebappClassLoader
      * If there is a Java SecurityManager create a read FilePermission
      * or JndiPermission for the file directory path.
      *
-     * @param path file directory path
+     * @param filepath file directory path
      */
-    public void addPermission(String path) {
-        if (path == null) {
+    public void addPermission(String filepath) {
+        if (filepath == null) {
             return;
         }
 
+        String path = filepath;
+
         if (securityManager != null) {
             Permission permission = null;
-            if( path.startsWith("jndi:") || path.startsWith("jar:jndi:") ) {
+            if (path.startsWith("jndi:") || path.startsWith("jar:jndi:")) {
                 if (!path.endsWith("/")) {
                     path = path + "/";
                 }
@@ -1287,6 +1291,7 @@ public class WebappClassLoader
                     // Ignore
                 }
             } catch (NamingException e) {
+                // Ignore
             }
         }
 
@@ -1762,7 +1767,9 @@ public class WebappClassLoader
      *
      * @param listener The listener to add
      */
+    @Override
     public void addLifecycleListener(LifecycleListener listener) {
+        // NOOP
     }
 
 
@@ -1770,6 +1777,7 @@ public class WebappClassLoader
      * Get the lifecycle listeners associated with this lifecycle. If this 
      * Lifecycle has no listeners registered, a zero-length array is returned.
      */
+    @Override
     public LifecycleListener[] findLifecycleListeners() {
         return new LifecycleListener[0];
     }
@@ -1780,7 +1788,9 @@ public class WebappClassLoader
      *
      * @param listener The listener to remove
      */
+    @Override
     public void removeLifecycleListener(LifecycleListener listener) {
+        // NOOP
     }
 
 
@@ -1789,6 +1799,7 @@ public class WebappClassLoader
      * 
      * @return The current state of the source component.
      */
+    @Override
     public LifecycleState getState() {
         return LifecycleState.NEW;
     }
@@ -1805,6 +1816,7 @@ public class WebappClassLoader
      *
      * @exception LifecycleException if a lifecycle error occurs
      */
+    @Override
     public void start() throws LifecycleException {
 
         started = true;
@@ -1830,6 +1842,7 @@ public class WebappClassLoader
      *
      * @exception LifecycleException if a lifecycle error occurs
      */
+    @Override
     public void stop() throws LifecycleException {
 
         // Clearing references should be done before setting started to
@@ -2904,6 +2917,7 @@ public class WebappClassLoader
                 }
 
             } catch (NamingException e) {
+                // Ignore
             }
         }
 
@@ -2992,12 +3006,14 @@ public class WebappClassLoader
                                                     is.close();
                                                 }
                                             } catch (IOException e) {
+                                                // Ignore
                                             }
                                             try {
                                                 if (os != null) {
                                                     os.close();
                                                 }
                                             } catch (IOException e) {
+                                                // Ignore
                                             }
                                         }
                                     }
@@ -3273,10 +3289,9 @@ public class WebappClassLoader
         }
         if(encoded) {
             return getURI(realFile);
-        } else {
-            return realFile.toURI().toURL();
         }
-
+        
+        return realFile.toURI().toURL();
     }
 
 

==================================================
