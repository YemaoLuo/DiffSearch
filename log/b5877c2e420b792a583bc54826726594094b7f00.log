b5877c2e420b792a583bc54826726594094b7f00
==================================================
Fix FindBugs warnings
==================================================
Mark Emlyn
==================================================
Sun Jan 16 16:50:25 2011 +0000
==================================================
MultipartDef.java
Fix FindBugs warnings

git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059614 13f79535-47bb-0310-9956-ffa450edef68



==================================================
JspServlet.java
index d987f8f1a6..c3ed7949e3 100644
--- a/java/org/apache/catalina/deploy/MultipartDef.java
+++ b/java/org/apache/catalina/deploy/MultipartDef.java
@@ -18,11 +18,15 @@
 
 package org.apache.catalina.deploy;
 
+import java.io.Serializable;
+
 
 /**
  * Representation of a the multipart configuration for a servlet.
  */
-public class MultipartDef {
+public class MultipartDef implements Serializable {
+
+    private static final long serialVersionUID = 1L;
 
     // ------------------------------------------------------------- Properties
     private String location;

==================================================
StackMapEntry.java
index 00e00768fb..db0d51f735 100644
--- a/java/org/apache/jasper/servlet/JspServlet.java
+++ b/java/org/apache/jasper/servlet/JspServlet.java
@@ -65,12 +65,12 @@ public class JspServlet extends HttpServlet implements PeriodicEventListener {
     private static final long serialVersionUID = 1L;
 
     // Logger
-    private final Log log = LogFactory.getLog(JspServlet.class);
+    private final transient Log log = LogFactory.getLog(JspServlet.class);
 
-    private ServletContext context;
+    private transient ServletContext context;
     private ServletConfig config;
-    private Options options;
-    private JspRuntimeContext rctxt;
+    private transient Options options;
+    private transient JspRuntimeContext rctxt;
     //jspFile for a jsp configured explicitly as a servlet, in environments where this configuration is
     //translated into an init-param for this servlet.
     private String jspFile;

==================================================
StackMapTableEntry.java
index 13b97b4e56..fcdf120350 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/StackMapEntry.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/StackMapEntry.java
@@ -20,6 +20,7 @@ package org.apache.tomcat.util.bcel.classfile;
 import java.io.DataInputStream;
 import java.io.DataOutputStream;
 import java.io.IOException;
+import java.io.Serializable;
 
 /**
  * This class represents a stack map entry recording the types of
@@ -31,7 +32,9 @@ import java.io.IOException;
  * @see     StackMap
  * @see     StackMapType
  */
-public final class StackMapEntry implements Cloneable {
+public final class StackMapEntry implements Cloneable, Serializable {
+
+    private static final long serialVersionUID = 1L;
 
     private int byte_code_offset;
     private int number_of_locals;

==================================================
StackMapType.java
index d9f2e98a9d..314afd3535 100644
--- a/java/org/apache/tomcat/util/bcel/classfile/StackMapTableEntry.java
+++ b/java/org/apache/tomcat/util/bcel/classfile/StackMapTableEntry.java
@@ -20,6 +20,7 @@ package org.apache.tomcat.util.bcel.classfile;
 import java.io.DataInputStream;
 import java.io.DataOutputStream;
 import java.io.IOException;
+import java.io.Serializable;
 
 import org.apache.tomcat.util.bcel.Constants;
 
@@ -33,7 +34,9 @@ import org.apache.tomcat.util.bcel.Constants;
  * @see     StackMap
  * @see     StackMapType
  */
-public final class StackMapTableEntry implements Cloneable {
+public final class StackMapTableEntry implements Cloneable, Serializable {
+
+    private static final long serialVersionUID = 1L;
 
     private int frame_type;
     private int byte_code_offset_delta;

==================================================
